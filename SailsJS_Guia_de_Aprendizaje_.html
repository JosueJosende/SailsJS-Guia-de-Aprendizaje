<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=fpjTOVmNbO4Lz34iLyptLUHwNfjPbhlGFTHF6r92KVzyZ36fuPHRjinrUVPXU3omnoBi5_Vy1YVfx34BIRa9gg');ol.lst-kix_6no4tthr2wo1-8.start{counter-reset:lst-ctn-kix_6no4tthr2wo1-8 0}.lst-kix_i0lb8zu4qt6n-6>li:before{content:"\0025cf  "}.lst-kix_6no4tthr2wo1-6>li{counter-increment:lst-ctn-kix_6no4tthr2wo1-6}ol.lst-kix_j8m1cqcs8t5n-1.start{counter-reset:lst-ctn-kix_j8m1cqcs8t5n-1 0}.lst-kix_i0lb8zu4qt6n-4>li:before{content:"\0025cb  "}ol.lst-kix_pug38gcm3mfz-5.start{counter-reset:lst-ctn-kix_pug38gcm3mfz-5 0}.lst-kix_h61urw5blhfz-3>li:before{content:"" counter(lst-ctn-kix_h61urw5blhfz-3,decimal) ". "}.lst-kix_w2m28ilmo2lu-0>li:before{content:"" counter(lst-ctn-kix_w2m28ilmo2lu-0,decimal) ". "}.lst-kix_h61urw5blhfz-1>li:before{content:"" counter(lst-ctn-kix_h61urw5blhfz-1,lower-latin) ". "}.lst-kix_h61urw5blhfz-5>li:before{content:"" counter(lst-ctn-kix_h61urw5blhfz-5,lower-roman) ". "}ol.lst-kix_8o0dmiuwe0b-0{list-style-type:none}ol.lst-kix_8o0dmiuwe0b-2{list-style-type:none}ol.lst-kix_8o0dmiuwe0b-1{list-style-type:none}.lst-kix_lg8dkrfv0qcu-0>li:before{content:"" counter(lst-ctn-kix_lg8dkrfv0qcu-0,decimal) ". "}ol.lst-kix_8o0dmiuwe0b-4{list-style-type:none}.lst-kix_i0lb8zu4qt6n-8>li:before{content:"\0025a0  "}.lst-kix_tcwr7sx3qmaw-6>li{counter-increment:lst-ctn-kix_tcwr7sx3qmaw-6}ol.lst-kix_8o0dmiuwe0b-3{list-style-type:none}.lst-kix_k4fu9hb01p68-4>li:before{content:"" counter(lst-ctn-kix_k4fu9hb01p68-4,lower-latin) ". "}.lst-kix_u7fc8e9svd3w-6>li{counter-increment:lst-ctn-kix_u7fc8e9svd3w-6}.lst-kix_w2m28ilmo2lu-8>li:before{content:"" counter(lst-ctn-kix_w2m28ilmo2lu-8,lower-roman) ". "}.lst-kix_lg8dkrfv0qcu-2>li:before{content:"" counter(lst-ctn-kix_lg8dkrfv0qcu-2,lower-roman) ". "}.lst-kix_og0h44h11kom-8>li{counter-increment:lst-ctn-kix_og0h44h11kom-8}ul.lst-kix_ljr4eepmgt5w-2{list-style-type:none}.lst-kix_h61urw5blhfz-7>li:before{content:"" counter(lst-ctn-kix_h61urw5blhfz-7,lower-latin) ". "}ul.lst-kix_ljr4eepmgt5w-1{list-style-type:none}ul.lst-kix_ljr4eepmgt5w-4{list-style-type:none}ul.lst-kix_ljr4eepmgt5w-3{list-style-type:none}ol.lst-kix_231qltjiej1b-2.start{counter-reset:lst-ctn-kix_231qltjiej1b-2 0}.lst-kix_k4fu9hb01p68-2>li:before{content:"" counter(lst-ctn-kix_k4fu9hb01p68-2,lower-roman) ". "}ol.lst-kix_kvzqjuu34aac-0.start{counter-reset:lst-ctn-kix_kvzqjuu34aac-0 0}.lst-kix_lg8dkrfv0qcu-4>li:before{content:"" counter(lst-ctn-kix_lg8dkrfv0qcu-4,lower-latin) ". "}ul.lst-kix_ljr4eepmgt5w-0{list-style-type:none}.lst-kix_1ybkggemz7qs-2>li:before{content:"\0025a0  "}.lst-kix_w2m28ilmo2lu-2>li:before{content:"" counter(lst-ctn-kix_w2m28ilmo2lu-2,lower-roman) ". "}.lst-kix_1scnce6wk35f-0>li{counter-increment:lst-ctn-kix_1scnce6wk35f-0}ul.lst-kix_ljr4eepmgt5w-6{list-style-type:none}.lst-kix_w2m28ilmo2lu-4>li:before{content:"" counter(lst-ctn-kix_w2m28ilmo2lu-4,lower-latin) ". "}.lst-kix_8vs3c95uml8g-1>li{counter-increment:lst-ctn-kix_8vs3c95uml8g-1}ul.lst-kix_ljr4eepmgt5w-5{list-style-type:none}ol.lst-kix_ccmzo2unoagl-7.start{counter-reset:lst-ctn-kix_ccmzo2unoagl-7 0}.lst-kix_lg8dkrfv0qcu-6>li:before{content:"" counter(lst-ctn-kix_lg8dkrfv0qcu-6,decimal) ". "}ul.lst-kix_ljr4eepmgt5w-8{list-style-type:none}ul.lst-kix_ljr4eepmgt5w-7{list-style-type:none}.lst-kix_w2m28ilmo2lu-6>li:before{content:"" counter(lst-ctn-kix_w2m28ilmo2lu-6,decimal) ". "}.lst-kix_k4fu9hb01p68-8>li:before{content:"" counter(lst-ctn-kix_k4fu9hb01p68-8,lower-roman) ". "}ol.lst-kix_ixkeh6iza7m6-5.start{counter-reset:lst-ctn-kix_ixkeh6iza7m6-5 0}.lst-kix_2v6s1svct7dg-6>li{counter-increment:lst-ctn-kix_2v6s1svct7dg-6}.lst-kix_1ybkggemz7qs-0>li:before{content:"\0025cf  "}.lst-kix_k4fu9hb01p68-6>li:before{content:"" counter(lst-ctn-kix_k4fu9hb01p68-6,decimal) ". "}.lst-kix_lg8dkrfv0qcu-8>li:before{content:"" counter(lst-ctn-kix_lg8dkrfv0qcu-8,lower-roman) ". "}ul.lst-kix_mqxs1xcxmw0p-8{list-style-type:none}ol.lst-kix_pug38gcm3mfz-0.start{counter-reset:lst-ctn-kix_pug38gcm3mfz-0 0}ul.lst-kix_mqxs1xcxmw0p-6{list-style-type:none}ul.lst-kix_mqxs1xcxmw0p-7{list-style-type:none}ol.lst-kix_o4csfsvt568i-1.start{counter-reset:lst-ctn-kix_o4csfsvt568i-1 0}ul.lst-kix_mqxs1xcxmw0p-4{list-style-type:none}ul.lst-kix_mqxs1xcxmw0p-5{list-style-type:none}ol.lst-kix_um1ceofb3c39-4.start{counter-reset:lst-ctn-kix_um1ceofb3c39-4 0}ul.lst-kix_mqxs1xcxmw0p-2{list-style-type:none}.lst-kix_1ybkggemz7qs-6>li:before{content:"\0025cf  "}ul.lst-kix_mqxs1xcxmw0p-3{list-style-type:none}ul.lst-kix_mqxs1xcxmw0p-0{list-style-type:none}ul.lst-kix_mqxs1xcxmw0p-1{list-style-type:none}ul.lst-kix_g7bqe7r6c5y-7{list-style-type:none}.lst-kix_1ybkggemz7qs-4>li:before{content:"\0025cb  "}.lst-kix_3vj5z9behcl1-1>li:before{content:"" counter(lst-ctn-kix_3vj5z9behcl1-1,lower-latin) ". "}ul.lst-kix_g7bqe7r6c5y-8{list-style-type:none}.lst-kix_3vj5z9behcl1-3>li:before{content:"" counter(lst-ctn-kix_3vj5z9behcl1-3,decimal) ". "}.lst-kix_demv1nd5mcc4-5>li{counter-increment:lst-ctn-kix_demv1nd5mcc4-5}.lst-kix_um1ceofb3c39-3>li{counter-increment:lst-ctn-kix_um1ceofb3c39-3}.lst-kix_tumw717cctnl-6>li:before{content:"\0025cf  "}.lst-kix_3vj5z9behcl1-7>li:before{content:"" counter(lst-ctn-kix_3vj5z9behcl1-7,lower-latin) ". "}ol.lst-kix_j2km2ok9rn2f-2.start{counter-reset:lst-ctn-kix_j2km2ok9rn2f-2 0}.lst-kix_3vj5z9behcl1-5>li:before{content:"" counter(lst-ctn-kix_3vj5z9behcl1-5,lower-roman) ". "}.lst-kix_1ybkggemz7qs-8>li:before{content:"\0025a0  "}.lst-kix_tumw717cctnl-8>li:before{content:"\0025a0  "}.lst-kix_2g1cy18v17xb-2>li{counter-increment:lst-ctn-kix_2g1cy18v17xb-2}ul.lst-kix_toppvyk2j46u-7{list-style-type:none}.lst-kix_ixkeh6iza7m6-5>li{counter-increment:lst-ctn-kix_ixkeh6iza7m6-5}ul.lst-kix_toppvyk2j46u-8{list-style-type:none}ol.lst-kix_h61urw5blhfz-4.start{counter-reset:lst-ctn-kix_h61urw5blhfz-4 0}ol.lst-kix_kvzqjuu34aac-5.start{counter-reset:lst-ctn-kix_kvzqjuu34aac-5 0}ul.lst-kix_toppvyk2j46u-5{list-style-type:none}ul.lst-kix_toppvyk2j46u-6{list-style-type:none}ul.lst-kix_toppvyk2j46u-3{list-style-type:none}.lst-kix_tumw717cctnl-2>li:before{content:"\0025a0  "}ul.lst-kix_toppvyk2j46u-4{list-style-type:none}.lst-kix_89ivjl2uxnp3-7>li{counter-increment:lst-ctn-kix_89ivjl2uxnp3-7}ol.lst-kix_ccmzo2unoagl-2.start{counter-reset:lst-ctn-kix_ccmzo2unoagl-2 0}.lst-kix_w2m28ilmo2lu-1>li{counter-increment:lst-ctn-kix_w2m28ilmo2lu-1}.lst-kix_tumw717cctnl-4>li:before{content:"\0025cb  "}ul.lst-kix_g7bqe7r6c5y-3{list-style-type:none}ol.lst-kix_9uwxlic953dp-6.start{counter-reset:lst-ctn-kix_9uwxlic953dp-6 0}ul.lst-kix_g7bqe7r6c5y-4{list-style-type:none}ul.lst-kix_g7bqe7r6c5y-5{list-style-type:none}ol.lst-kix_231qltjiej1b-7.start{counter-reset:lst-ctn-kix_231qltjiej1b-7 0}ul.lst-kix_g7bqe7r6c5y-6{list-style-type:none}.lst-kix_og0h44h11kom-1>li{counter-increment:lst-ctn-kix_og0h44h11kom-1}ul.lst-kix_g7bqe7r6c5y-0{list-style-type:none}ul.lst-kix_g7bqe7r6c5y-1{list-style-type:none}.lst-kix_i0lb8zu4qt6n-2>li:before{content:"\0025a0  "}ul.lst-kix_g7bqe7r6c5y-2{list-style-type:none}ul.lst-kix_toppvyk2j46u-1{list-style-type:none}ol.lst-kix_6no4tthr2wo1-3.start{counter-reset:lst-ctn-kix_6no4tthr2wo1-3 0}.lst-kix_ry2l2t3q0bf2-7>li{counter-increment:lst-ctn-kix_ry2l2t3q0bf2-7}ul.lst-kix_toppvyk2j46u-2{list-style-type:none}.lst-kix_8vs3c95uml8g-8>li{counter-increment:lst-ctn-kix_8vs3c95uml8g-8}ul.lst-kix_toppvyk2j46u-0{list-style-type:none}ol.lst-kix_r0n1ukoeko9i-4.start{counter-reset:lst-ctn-kix_r0n1ukoeko9i-4 0}ol.lst-kix_vu8ackanrfrr-8.start{counter-reset:lst-ctn-kix_vu8ackanrfrr-8 0}.lst-kix_tumw717cctnl-0>li:before{content:"\0025cf  "}.lst-kix_i0lb8zu4qt6n-0>li:before{content:"\0025cf  "}.lst-kix_demv1nd5mcc4-1>li:before{content:"" counter(lst-ctn-kix_demv1nd5mcc4-1,lower-latin) ". "}.lst-kix_eeflv3tx7x8-3>li{counter-increment:lst-ctn-kix_eeflv3tx7x8-3}.lst-kix_lg8dkrfv0qcu-2>li{counter-increment:lst-ctn-kix_lg8dkrfv0qcu-2}.lst-kix_demv1nd5mcc4-3>li:before{content:"" counter(lst-ctn-kix_demv1nd5mcc4-3,decimal) ". "}.lst-kix_demv1nd5mcc4-5>li:before{content:"" counter(lst-ctn-kix_demv1nd5mcc4-5,lower-roman) ". "}ol.lst-kix_djxeid5213p-7.start{counter-reset:lst-ctn-kix_djxeid5213p-7 0}.lst-kix_rztvt1qt68k4-3>li:before{content:"" counter(lst-ctn-kix_rztvt1qt68k4-3,decimal) ". "}.lst-kix_um1ceofb3c39-8>li:before{content:"" counter(lst-ctn-kix_um1ceofb3c39-8,lower-roman) ". "}.lst-kix_o4csfsvt568i-2>li{counter-increment:lst-ctn-kix_o4csfsvt568i-2}.lst-kix_ijvyr9rw1jkb-5>li{counter-increment:lst-ctn-kix_ijvyr9rw1jkb-5}ol.lst-kix_lg8dkrfv0qcu-4.start{counter-reset:lst-ctn-kix_lg8dkrfv0qcu-4 0}.lst-kix_rztvt1qt68k4-1>li:before{content:"" counter(lst-ctn-kix_rztvt1qt68k4-1,lower-latin) ". "}.lst-kix_um1ceofb3c39-6>li:before{content:"" counter(lst-ctn-kix_um1ceofb3c39-6,decimal) ". "}.lst-kix_mvwurm2wk0z0-4>li{counter-increment:lst-ctn-kix_mvwurm2wk0z0-4}.lst-kix_ry2l2t3q0bf2-0>li{counter-increment:lst-ctn-kix_ry2l2t3q0bf2-0}.lst-kix_rztvt1qt68k4-7>li:before{content:"" counter(lst-ctn-kix_rztvt1qt68k4-7,lower-latin) ". "}.lst-kix_j8m1cqcs8t5n-2>li:before{content:"" counter(lst-ctn-kix_j8m1cqcs8t5n-2,lower-roman) ". "}.lst-kix_j8m1cqcs8t5n-6>li:before{content:"" counter(lst-ctn-kix_j8m1cqcs8t5n-6,decimal) ". "}.lst-kix_um1ceofb3c39-0>li:before{content:"" counter(lst-ctn-kix_um1ceofb3c39-0,decimal) ". "}.lst-kix_um1ceofb3c39-4>li:before{content:"" counter(lst-ctn-kix_um1ceofb3c39-4,lower-latin) ". "}.lst-kix_h61urw5blhfz-4>li{counter-increment:lst-ctn-kix_h61urw5blhfz-4}.lst-kix_8vs3c95uml8g-7>li:before{content:"" counter(lst-ctn-kix_8vs3c95uml8g-7,lower-latin) ". "}.lst-kix_rztvt1qt68k4-5>li:before{content:"" counter(lst-ctn-kix_rztvt1qt68k4-5,lower-roman) ". "}.lst-kix_j8m1cqcs8t5n-4>li:before{content:"" counter(lst-ctn-kix_j8m1cqcs8t5n-4,lower-latin) ". "}.lst-kix_um1ceofb3c39-2>li:before{content:"" counter(lst-ctn-kix_um1ceofb3c39-2,lower-roman) ". "}.lst-kix_demv1nd5mcc4-7>li:before{content:"" counter(lst-ctn-kix_demv1nd5mcc4-7,lower-latin) ". "}.lst-kix_8vs3c95uml8g-1>li:before{content:"" counter(lst-ctn-kix_8vs3c95uml8g-1,lower-latin) ". "}.lst-kix_8vs3c95uml8g-3>li:before{content:"" counter(lst-ctn-kix_8vs3c95uml8g-3,decimal) ". "}.lst-kix_kvzqjuu34aac-0>li{counter-increment:lst-ctn-kix_kvzqjuu34aac-0}ol.lst-kix_4a5cw2dlleht-3.start{counter-reset:lst-ctn-kix_4a5cw2dlleht-3 0}ol.lst-kix_vu8ackanrfrr-3.start{counter-reset:lst-ctn-kix_vu8ackanrfrr-3 0}ol.lst-kix_9agb6svh85y5-6.start{counter-reset:lst-ctn-kix_9agb6svh85y5-6 0}.lst-kix_8vs3c95uml8g-5>li:before{content:"" counter(lst-ctn-kix_8vs3c95uml8g-5,lower-roman) ". "}.lst-kix_j8m1cqcs8t5n-0>li:before{content:"" counter(lst-ctn-kix_j8m1cqcs8t5n-0,decimal) ". "}.lst-kix_kvzqjuu34aac-7>li{counter-increment:lst-ctn-kix_kvzqjuu34aac-7}.lst-kix_djwvpntgt9wn-5>li:before{content:"\0025a0  "}.lst-kix_djwvpntgt9wn-3>li:before{content:"\0025cf  "}.lst-kix_djwvpntgt9wn-7>li:before{content:"\0025cb  "}.lst-kix_og0h44h11kom-0>li:before{content:"" counter(lst-ctn-kix_og0h44h11kom-0,decimal) ". "}ol.lst-kix_8vs3c95uml8g-5{list-style-type:none}.lst-kix_9agb6svh85y5-8>li{counter-increment:lst-ctn-kix_9agb6svh85y5-8}ol.lst-kix_8vs3c95uml8g-6{list-style-type:none}ol.lst-kix_8vs3c95uml8g-7{list-style-type:none}.lst-kix_og0h44h11kom-2>li:before{content:"" counter(lst-ctn-kix_og0h44h11kom-2,lower-roman) ". "}.lst-kix_ozrzovx1mz7z-7>li:before{content:"\0025cb  "}ol.lst-kix_8vs3c95uml8g-8{list-style-type:none}.lst-kix_og0h44h11kom-4>li:before{content:"" counter(lst-ctn-kix_og0h44h11kom-4,lower-latin) ". "}.lst-kix_og0h44h11kom-8>li:before{content:"" counter(lst-ctn-kix_og0h44h11kom-8,lower-roman) ". "}.lst-kix_ozrzovx1mz7z-1>li:before{content:"\0025cb  "}.lst-kix_ozrzovx1mz7z-5>li:before{content:"\0025a0  "}ol.lst-kix_jzsgaky6g7z3-7.start{counter-reset:lst-ctn-kix_jzsgaky6g7z3-7 0}.lst-kix_nz0lhoo7aztq-2>li{counter-increment:lst-ctn-kix_nz0lhoo7aztq-2}.lst-kix_k4fu9hb01p68-0>li:before{content:"" counter(lst-ctn-kix_k4fu9hb01p68-0,decimal) ". "}.lst-kix_scdn9fkfpojm-3>li{counter-increment:lst-ctn-kix_scdn9fkfpojm-3}.lst-kix_vu8ackanrfrr-5>li{counter-increment:lst-ctn-kix_vu8ackanrfrr-5}.lst-kix_j8m1cqcs8t5n-8>li:before{content:"" counter(lst-ctn-kix_j8m1cqcs8t5n-8,lower-roman) ". "}.lst-kix_og0h44h11kom-6>li:before{content:"" counter(lst-ctn-kix_og0h44h11kom-6,decimal) ". "}.lst-kix_6lbfx97xtcef-6>li{counter-increment:lst-ctn-kix_6lbfx97xtcef-6}.lst-kix_ydcqnhnvg283-3>li{counter-increment:lst-ctn-kix_ydcqnhnvg283-3}.lst-kix_ozrzovx1mz7z-3>li:before{content:"\0025cf  "}ol.lst-kix_ydcqnhnvg283-4.start{counter-reset:lst-ctn-kix_ydcqnhnvg283-4 0}ol.lst-kix_2v6s1svct7dg-6.start{counter-reset:lst-ctn-kix_2v6s1svct7dg-6 0}ol.lst-kix_8o0dmiuwe0b-6{list-style-type:none}.lst-kix_mkkzzu530uy6-6>li:before{content:"\0025cf  "}ol.lst-kix_8o0dmiuwe0b-5{list-style-type:none}ol.lst-kix_8o0dmiuwe0b-8{list-style-type:none}ol.lst-kix_8o0dmiuwe0b-7{list-style-type:none}ol.lst-kix_rztvt1qt68k4-3.start{counter-reset:lst-ctn-kix_rztvt1qt68k4-3 0}ol.lst-kix_w2m28ilmo2lu-6.start{counter-reset:lst-ctn-kix_w2m28ilmo2lu-6 0}.lst-kix_r0n1ukoeko9i-4>li{counter-increment:lst-ctn-kix_r0n1ukoeko9i-4}.lst-kix_mkkzzu530uy6-4>li:before{content:"\0025cb  "}.lst-kix_mkkzzu530uy6-2>li:before{content:"\0025a0  "}ol.lst-kix_kjf8zdvo1lyf-0.start{counter-reset:lst-ctn-kix_kjf8zdvo1lyf-0 0}ol.lst-kix_demv1nd5mcc4-1.start{counter-reset:lst-ctn-kix_demv1nd5mcc4-1 0}.lst-kix_djxeid5213p-3>li{counter-increment:lst-ctn-kix_djxeid5213p-3}ol.lst-kix_ixkeh6iza7m6-0.start{counter-reset:lst-ctn-kix_ixkeh6iza7m6-0 0}ol.lst-kix_8vs3c95uml8g-1{list-style-type:none}ol.lst-kix_8vs3c95uml8g-2{list-style-type:none}ol.lst-kix_8vs3c95uml8g-3{list-style-type:none}ol.lst-kix_8vs3c95uml8g-4{list-style-type:none}.lst-kix_mkkzzu530uy6-0>li:before{content:"\0025cf  "}ol.lst-kix_8vs3c95uml8g-0{list-style-type:none}.lst-kix_djwvpntgt9wn-1>li:before{content:"\0025cb  "}.lst-kix_1scnce6wk35f-7>li{counter-increment:lst-ctn-kix_1scnce6wk35f-7}.lst-kix_jzsgaky6g7z3-6>li{counter-increment:lst-ctn-kix_jzsgaky6g7z3-6}ol.lst-kix_vahsii3hvprg-4.start{counter-reset:lst-ctn-kix_vahsii3hvprg-4 0}.lst-kix_4a5cw2dlleht-1>li:before{content:"" counter(lst-ctn-kix_4a5cw2dlleht-1,lower-latin) ". "}ol.lst-kix_cg3ztxy94g5y-1.start{counter-reset:lst-ctn-kix_cg3ztxy94g5y-1 0}.lst-kix_cg3ztxy94g5y-7>li{counter-increment:lst-ctn-kix_cg3ztxy94g5y-7}.lst-kix_lo7chw702g52-5>li:before{content:"\0025a0  "}ol.lst-kix_8o0dmiuwe0b-7.start{counter-reset:lst-ctn-kix_8o0dmiuwe0b-7 0}.lst-kix_ynk1jb423v8p-2>li:before{content:"\0025a0  "}.lst-kix_ynk1jb423v8p-6>li:before{content:"\0025cf  "}ol.lst-kix_5y6fjlsif51k-7{list-style-type:none}ol.lst-kix_5y6fjlsif51k-6{list-style-type:none}ol.lst-kix_5y6fjlsif51k-8{list-style-type:none}ol.lst-kix_5y6fjlsif51k-3{list-style-type:none}ol.lst-kix_5y6fjlsif51k-2{list-style-type:none}ol.lst-kix_ry2l2t3q0bf2-6.start{counter-reset:lst-ctn-kix_ry2l2t3q0bf2-6 0}ol.lst-kix_5y6fjlsif51k-5{list-style-type:none}ol.lst-kix_5y6fjlsif51k-4{list-style-type:none}ol.lst-kix_231qltjiej1b-6{list-style-type:none}.lst-kix_ccmzo2unoagl-0>li{counter-increment:lst-ctn-kix_ccmzo2unoagl-0}ol.lst-kix_231qltjiej1b-5{list-style-type:none}ol.lst-kix_5y6fjlsif51k-1{list-style-type:none}ol.lst-kix_5y6fjlsif51k-1.start{counter-reset:lst-ctn-kix_5y6fjlsif51k-1 0}ol.lst-kix_231qltjiej1b-8{list-style-type:none}ol.lst-kix_5y6fjlsif51k-0{list-style-type:none}ol.lst-kix_231qltjiej1b-7{list-style-type:none}.lst-kix_lo7chw702g52-1>li:before{content:"\0025cb  "}ol.lst-kix_231qltjiej1b-2{list-style-type:none}ol.lst-kix_231qltjiej1b-1{list-style-type:none}ol.lst-kix_231qltjiej1b-4{list-style-type:none}.lst-kix_g5hw4owq9gm6-7>li:before{content:"" counter(lst-ctn-kix_g5hw4owq9gm6-7,lower-latin) ". "}ol.lst-kix_231qltjiej1b-3{list-style-type:none}.lst-kix_eeflv3tx7x8-2>li:before{content:"" counter(lst-ctn-kix_eeflv3tx7x8-2,lower-roman) ". "}ol.lst-kix_231qltjiej1b-0{list-style-type:none}ol.lst-kix_99kco6cmz88s-6.start{counter-reset:lst-ctn-kix_99kco6cmz88s-6 0}ol.lst-kix_mlk6dnhjzk7u-1.start{counter-reset:lst-ctn-kix_mlk6dnhjzk7u-1 0}ol.lst-kix_v3y9rkuhngfi-1.start{counter-reset:lst-ctn-kix_v3y9rkuhngfi-1 0}ol.lst-kix_og0h44h11kom-7.start{counter-reset:lst-ctn-kix_og0h44h11kom-7 0}.lst-kix_cg3ztxy94g5y-5>li{counter-increment:lst-ctn-kix_cg3ztxy94g5y-5}ol.lst-kix_ry2l2t3q0bf2-1.start{counter-reset:lst-ctn-kix_ry2l2t3q0bf2-1 0}.lst-kix_nz0lhoo7aztq-7>li:before{content:"" counter(lst-ctn-kix_nz0lhoo7aztq-7,lower-latin) ". "}.lst-kix_2yjh37mgtbm2-3>li:before{content:"\0025cf  "}.lst-kix_eeflv3tx7x8-6>li:before{content:"" counter(lst-ctn-kix_eeflv3tx7x8-6,decimal) ". "}ol.lst-kix_6lbfx97xtcef-4.start{counter-reset:lst-ctn-kix_6lbfx97xtcef-4 0}.lst-kix_v3y9rkuhngfi-2>li{counter-increment:lst-ctn-kix_v3y9rkuhngfi-2}.lst-kix_w2m28ilmo2lu-8>li{counter-increment:lst-ctn-kix_w2m28ilmo2lu-8}ol.lst-kix_nyn4osmxptvt-8.start{counter-reset:lst-ctn-kix_nyn4osmxptvt-8 0}.lst-kix_8o0dmiuwe0b-6>li{counter-increment:lst-ctn-kix_8o0dmiuwe0b-6}.lst-kix_4a5cw2dlleht-5>li:before{content:"" counter(lst-ctn-kix_4a5cw2dlleht-5,lower-roman) ". "}.lst-kix_j2km2ok9rn2f-5>li{counter-increment:lst-ctn-kix_j2km2ok9rn2f-5}.lst-kix_pjnl93gc3004-4>li{counter-increment:lst-ctn-kix_pjnl93gc3004-4}.lst-kix_2yjh37mgtbm2-7>li:before{content:"\0025cb  "}.lst-kix_g7bqe7r6c5y-2>li:before{content:"\0025a0  "}.lst-kix_ixkeh6iza7m6-0>li:before{content:"" counter(lst-ctn-kix_ixkeh6iza7m6-0,decimal) ". "}.lst-kix_ixkeh6iza7m6-4>li:before{content:"" counter(lst-ctn-kix_ixkeh6iza7m6-4,lower-latin) ". "}.lst-kix_r0n1ukoeko9i-6>li{counter-increment:lst-ctn-kix_r0n1ukoeko9i-6}.lst-kix_2epif0ienwnx-7>li:before{content:"\0025cb  "}.lst-kix_g7bqe7r6c5y-6>li:before{content:"\0025cf  "}.lst-kix_5y6fjlsif51k-3>li{counter-increment:lst-ctn-kix_5y6fjlsif51k-3}ol.lst-kix_zcvl3fbc6do4-1.start{counter-reset:lst-ctn-kix_zcvl3fbc6do4-1 0}ol.lst-kix_q1dqwj8wphtj-1.start{counter-reset:lst-ctn-kix_q1dqwj8wphtj-1 0}.lst-kix_2epif0ienwnx-3>li:before{content:"\0025cf  "}ol.lst-kix_3m69r918o16y-2.start{counter-reset:lst-ctn-kix_3m69r918o16y-2 0}.lst-kix_9agb6svh85y5-1>li{counter-increment:lst-ctn-kix_9agb6svh85y5-1}.lst-kix_j8m1cqcs8t5n-6>li{counter-increment:lst-ctn-kix_j8m1cqcs8t5n-6}.lst-kix_4x89tkurgtys-5>li:before{content:"\0025a0  "}ol.lst-kix_5y6fjlsif51k-6.start{counter-reset:lst-ctn-kix_5y6fjlsif51k-6 0}ol.lst-kix_99kco6cmz88s-1.start{counter-reset:lst-ctn-kix_99kco6cmz88s-1 0}ol.lst-kix_djxeid5213p-2.start{counter-reset:lst-ctn-kix_djxeid5213p-2 0}ol.lst-kix_9agb6svh85y5-8{list-style-type:none}ul.lst-kix_cflgkiusf2ss-7{list-style-type:none}ol.lst-kix_3vj5z9behcl1-3.start{counter-reset:lst-ctn-kix_3vj5z9behcl1-3 0}ul.lst-kix_cflgkiusf2ss-8{list-style-type:none}ul.lst-kix_cflgkiusf2ss-5{list-style-type:none}ol.lst-kix_9agb6svh85y5-4{list-style-type:none}ul.lst-kix_cflgkiusf2ss-6{list-style-type:none}ol.lst-kix_9agb6svh85y5-5{list-style-type:none}ul.lst-kix_cflgkiusf2ss-3{list-style-type:none}ol.lst-kix_9agb6svh85y5-6{list-style-type:none}.lst-kix_cg3ztxy94g5y-7>li:before{content:"" counter(lst-ctn-kix_cg3ztxy94g5y-7,lower-latin) ". "}ul.lst-kix_cflgkiusf2ss-4{list-style-type:none}ol.lst-kix_9agb6svh85y5-7{list-style-type:none}ul.lst-kix_cflgkiusf2ss-1{list-style-type:none}ol.lst-kix_9agb6svh85y5-0{list-style-type:none}ol.lst-kix_q1dqwj8wphtj-6.start{counter-reset:lst-ctn-kix_q1dqwj8wphtj-6 0}ul.lst-kix_cflgkiusf2ss-2{list-style-type:none}ol.lst-kix_9agb6svh85y5-1{list-style-type:none}ol.lst-kix_9agb6svh85y5-2{list-style-type:none}.lst-kix_9uwxlic953dp-1>li{counter-increment:lst-ctn-kix_9uwxlic953dp-1}ul.lst-kix_cflgkiusf2ss-0{list-style-type:none}ol.lst-kix_9agb6svh85y5-3{list-style-type:none}ol.lst-kix_mlk6dnhjzk7u-6.start{counter-reset:lst-ctn-kix_mlk6dnhjzk7u-6 0}.lst-kix_cekjy5rtkev4-4>li:before{content:"\0025cb  "}ol.lst-kix_4a5cw2dlleht-8.start{counter-reset:lst-ctn-kix_4a5cw2dlleht-8 0}.lst-kix_nz0lhoo7aztq-4>li{counter-increment:lst-ctn-kix_nz0lhoo7aztq-4}.lst-kix_ixkeh6iza7m6-8>li:before{content:"" counter(lst-ctn-kix_ixkeh6iza7m6-8,lower-roman) ". "}.lst-kix_cg3ztxy94g5y-3>li:before{content:"" counter(lst-ctn-kix_cg3ztxy94g5y-3,decimal) ". "}ol.lst-kix_pjnl93gc3004-0.start{counter-reset:lst-ctn-kix_pjnl93gc3004-0 0}ol.lst-kix_8vs3c95uml8g-6.start{counter-reset:lst-ctn-kix_8vs3c95uml8g-6 0}.lst-kix_cekjy5rtkev4-8>li:before{content:"\0025a0  "}ol.lst-kix_o4csfsvt568i-6.start{counter-reset:lst-ctn-kix_o4csfsvt568i-6 0}ol.lst-kix_zcvl3fbc6do4-6.start{counter-reset:lst-ctn-kix_zcvl3fbc6do4-6 0}.lst-kix_ccmzo2unoagl-5>li{counter-increment:lst-ctn-kix_ccmzo2unoagl-5}.lst-kix_toppvyk2j46u-0>li:before{content:"\0025cf  "}.lst-kix_toppvyk2j46u-4>li:before{content:"\0025cb  "}.lst-kix_scdn9fkfpojm-5>li{counter-increment:lst-ctn-kix_scdn9fkfpojm-5}.lst-kix_kjf8zdvo1lyf-8>li{counter-increment:lst-ctn-kix_kjf8zdvo1lyf-8}.lst-kix_toppvyk2j46u-8>li:before{content:"\0025a0  "}.lst-kix_pug38gcm3mfz-3>li{counter-increment:lst-ctn-kix_pug38gcm3mfz-3}ol.lst-kix_scdn9fkfpojm-7.start{counter-reset:lst-ctn-kix_scdn9fkfpojm-7 0}.lst-kix_kjf8zdvo1lyf-6>li{counter-increment:lst-ctn-kix_kjf8zdvo1lyf-6}.lst-kix_2wzv0c37mscg-1>li:before{content:"" counter(lst-ctn-kix_2wzv0c37mscg-1,lower-latin) ". "}.lst-kix_v3y9rkuhngfi-7>li{counter-increment:lst-ctn-kix_v3y9rkuhngfi-7}.lst-kix_beo0nvieqvft-2>li:before{content:"\0025a0  "}.lst-kix_beo0nvieqvft-6>li:before{content:"\0025cf  "}.lst-kix_ccmzo2unoagl-7>li{counter-increment:lst-ctn-kix_ccmzo2unoagl-7}.lst-kix_cg3ztxy94g5y-0>li{counter-increment:lst-ctn-kix_cg3ztxy94g5y-0}.lst-kix_gs67zzu7w7z9-5>li:before{content:"\0025a0  "}.lst-kix_9agb6svh85y5-6>li{counter-increment:lst-ctn-kix_9agb6svh85y5-6}.lst-kix_2wzv0c37mscg-5>li:before{content:"" counter(lst-ctn-kix_2wzv0c37mscg-5,lower-roman) ". "}ol.lst-kix_2v6s1svct7dg-1.start{counter-reset:lst-ctn-kix_2v6s1svct7dg-1 0}ol.lst-kix_kjf8zdvo1lyf-5.start{counter-reset:lst-ctn-kix_kjf8zdvo1lyf-5 0}.lst-kix_5m5pl1amlgdu-2>li:before{content:"\0025a0  "}.lst-kix_zcvl3fbc6do4-4>li{counter-increment:lst-ctn-kix_zcvl3fbc6do4-4}ol.lst-kix_9uwxlic953dp-1.start{counter-reset:lst-ctn-kix_9uwxlic953dp-1 0}ol.lst-kix_demv1nd5mcc4-8{list-style-type:none}ol.lst-kix_w2m28ilmo2lu-1.start{counter-reset:lst-ctn-kix_w2m28ilmo2lu-1 0}.lst-kix_j8m1cqcs8t5n-4>li{counter-increment:lst-ctn-kix_j8m1cqcs8t5n-4}.lst-kix_5m5pl1amlgdu-6>li:before{content:"\0025cf  "}ol.lst-kix_8o0dmiuwe0b-2.start{counter-reset:lst-ctn-kix_8o0dmiuwe0b-2 0}ol.lst-kix_eeflv3tx7x8-4.start{counter-reset:lst-ctn-kix_eeflv3tx7x8-4 0}.lst-kix_v3y9rkuhngfi-0>li{counter-increment:lst-ctn-kix_v3y9rkuhngfi-0}.lst-kix_w2m28ilmo2lu-3>li{counter-increment:lst-ctn-kix_w2m28ilmo2lu-3}ol.lst-kix_demv1nd5mcc4-7{list-style-type:none}.lst-kix_q1dqwj8wphtj-5>li{counter-increment:lst-ctn-kix_q1dqwj8wphtj-5}ol.lst-kix_demv1nd5mcc4-6{list-style-type:none}ol.lst-kix_demv1nd5mcc4-5{list-style-type:none}.lst-kix_3vj5z9behcl1-2>li{counter-increment:lst-ctn-kix_3vj5z9behcl1-2}ol.lst-kix_demv1nd5mcc4-4{list-style-type:none}ol.lst-kix_demv1nd5mcc4-3{list-style-type:none}ol.lst-kix_demv1nd5mcc4-2{list-style-type:none}ol.lst-kix_demv1nd5mcc4-1{list-style-type:none}ol.lst-kix_demv1nd5mcc4-0{list-style-type:none}.lst-kix_665pdbwbvds7-7>li:before{content:"\0025cb  "}ol.lst-kix_zcvl3fbc6do4-4.start{counter-reset:lst-ctn-kix_zcvl3fbc6do4-4 0}.lst-kix_lg8dkrfv0qcu-4>li{counter-increment:lst-ctn-kix_lg8dkrfv0qcu-4}.lst-kix_nz0lhoo7aztq-3>li:before{content:"" counter(lst-ctn-kix_nz0lhoo7aztq-3,decimal) ". "}.lst-kix_gs67zzu7w7z9-1>li:before{content:"\0025cb  "}ol.lst-kix_v3y9rkuhngfi-6.start{counter-reset:lst-ctn-kix_v3y9rkuhngfi-6 0}.lst-kix_kjf8zdvo1lyf-1>li{counter-increment:lst-ctn-kix_kjf8zdvo1lyf-1}.lst-kix_k7cvqq8ohnqa-2>li:before{content:"\0025a0  "}.lst-kix_g5hw4owq9gm6-3>li:before{content:"" counter(lst-ctn-kix_g5hw4owq9gm6-3,decimal) ". "}.lst-kix_demv1nd5mcc4-7>li{counter-increment:lst-ctn-kix_demv1nd5mcc4-7}.lst-kix_665pdbwbvds7-3>li:before{content:"\0025cf  "}.lst-kix_pjnl93gc3004-0>li:before{content:"" counter(lst-ctn-kix_pjnl93gc3004-0,decimal) ". "}.lst-kix_unslttc25noj-1>li:before{content:"\0025cb  "}ol.lst-kix_tcwr7sx3qmaw-5.start{counter-reset:lst-ctn-kix_tcwr7sx3qmaw-5 0}ol.lst-kix_ijvyr9rw1jkb-5.start{counter-reset:lst-ctn-kix_ijvyr9rw1jkb-5 0}.lst-kix_u7fc8e9svd3w-7>li:before{content:"" counter(lst-ctn-kix_u7fc8e9svd3w-7,lower-latin) ". "}ol.lst-kix_q1dqwj8wphtj-3.start{counter-reset:lst-ctn-kix_q1dqwj8wphtj-3 0}ol.lst-kix_8vs3c95uml8g-4.start{counter-reset:lst-ctn-kix_8vs3c95uml8g-4 0}.lst-kix_u7fc8e9svd3w-5>li:before{content:"" counter(lst-ctn-kix_u7fc8e9svd3w-5,lower-roman) ". "}.lst-kix_u7fc8e9svd3w-8>li{counter-increment:lst-ctn-kix_u7fc8e9svd3w-8}ol.lst-kix_cg3ztxy94g5y-4.start{counter-reset:lst-ctn-kix_cg3ztxy94g5y-4 0}.lst-kix_pjnl93gc3004-8>li:before{content:"" counter(lst-ctn-kix_pjnl93gc3004-8,lower-roman) ". "}.lst-kix_k7cvqq8ohnqa-4>li:before{content:"\0025cb  "}.lst-kix_eeflv3tx7x8-8>li{counter-increment:lst-ctn-kix_eeflv3tx7x8-8}ol.lst-kix_89ivjl2uxnp3-8.start{counter-reset:lst-ctn-kix_89ivjl2uxnp3-8 0}.lst-kix_kvzqjuu34aac-5>li{counter-increment:lst-ctn-kix_kvzqjuu34aac-5}.lst-kix_pjnl93gc3004-6>li:before{content:"" counter(lst-ctn-kix_pjnl93gc3004-6,decimal) ". "}.lst-kix_unslttc25noj-7>li:before{content:"\0025cb  "}.lst-kix_vahsii3hvprg-0>li{counter-increment:lst-ctn-kix_vahsii3hvprg-0}.lst-kix_1scnce6wk35f-2>li{counter-increment:lst-ctn-kix_1scnce6wk35f-2}.lst-kix_6lbfx97xtcef-8>li{counter-increment:lst-ctn-kix_6lbfx97xtcef-8}.lst-kix_u5ht8watzdqo-0>li:before{content:"\0025cf  "}.lst-kix_tbb8lbzcx158-7>li:before{content:"\0025cb  "}.lst-kix_vgyg99bsujsi-2>li:before{content:"\0025a0  "}.lst-kix_9agb6svh85y5-5>li:before{content:"" counter(lst-ctn-kix_9agb6svh85y5-5,lower-roman) ". "}ol.lst-kix_3vj5z9behcl1-5.start{counter-reset:lst-ctn-kix_3vj5z9behcl1-5 0}ol.lst-kix_89ivjl2uxnp3-3.start{counter-reset:lst-ctn-kix_89ivjl2uxnp3-3 0}.lst-kix_vgyg99bsujsi-0>li:before{content:"\0025cf  "}.lst-kix_vgyg99bsujsi-8>li:before{content:"\0025a0  "}.lst-kix_v3y9rkuhngfi-3>li:before{content:"" counter(lst-ctn-kix_v3y9rkuhngfi-3,decimal) ". "}.lst-kix_99kco6cmz88s-1>li:before{content:"" counter(lst-ctn-kix_99kco6cmz88s-1,lower-latin) ". "}.lst-kix_9agb6svh85y5-7>li:before{content:"" counter(lst-ctn-kix_9agb6svh85y5-7,lower-latin) ". "}.lst-kix_scdn9fkfpojm-1>li:before{content:"" counter(lst-ctn-kix_scdn9fkfpojm-1,lower-latin) ". "}.lst-kix_v3y9rkuhngfi-1>li:before{content:"" counter(lst-ctn-kix_v3y9rkuhngfi-1,lower-latin) ". "}.lst-kix_2g1cy18v17xb-7>li{counter-increment:lst-ctn-kix_2g1cy18v17xb-7}ol.lst-kix_eeflv3tx7x8-6.start{counter-reset:lst-ctn-kix_eeflv3tx7x8-6 0}.lst-kix_ydcqnhnvg283-1>li{counter-increment:lst-ctn-kix_ydcqnhnvg283-1}.lst-kix_tcwr7sx3qmaw-8>li{counter-increment:lst-ctn-kix_tcwr7sx3qmaw-8}ol.lst-kix_k4fu9hb01p68-3.start{counter-reset:lst-ctn-kix_k4fu9hb01p68-3 0}.lst-kix_2g1cy18v17xb-3>li:before{content:"" counter(lst-ctn-kix_2g1cy18v17xb-3,decimal) ". "}.lst-kix_scdn9fkfpojm-3>li:before{content:"" counter(lst-ctn-kix_scdn9fkfpojm-3,decimal) ". "}ol.lst-kix_nyn4osmxptvt-5.start{counter-reset:lst-ctn-kix_nyn4osmxptvt-5 0}.lst-kix_2g1cy18v17xb-5>li:before{content:"" counter(lst-ctn-kix_2g1cy18v17xb-5,lower-roman) ". "}.lst-kix_99kco6cmz88s-3>li:before{content:"" counter(lst-ctn-kix_99kco6cmz88s-3,decimal) ". "}.lst-kix_tbb8lbzcx158-5>li:before{content:"\0025a0  "}ol.lst-kix_99kco6cmz88s-8.start{counter-reset:lst-ctn-kix_99kco6cmz88s-8 0}ol.lst-kix_tcwr7sx3qmaw-0.start{counter-reset:lst-ctn-kix_tcwr7sx3qmaw-0 0}ol.lst-kix_n74u8poefvny-2.start{counter-reset:lst-ctn-kix_n74u8poefvny-2 0}.lst-kix_ydcqnhnvg283-8>li{counter-increment:lst-ctn-kix_ydcqnhnvg283-8}.lst-kix_6lbfx97xtcef-1>li{counter-increment:lst-ctn-kix_6lbfx97xtcef-1}ol.lst-kix_ry2l2t3q0bf2-4.start{counter-reset:lst-ctn-kix_ry2l2t3q0bf2-4 0}.lst-kix_zcvl3fbc6do4-6>li{counter-increment:lst-ctn-kix_zcvl3fbc6do4-6}.lst-kix_u7fc8e9svd3w-4>li{counter-increment:lst-ctn-kix_u7fc8e9svd3w-4}.lst-kix_rztvt1qt68k4-5>li{counter-increment:lst-ctn-kix_rztvt1qt68k4-5}.lst-kix_5y6fjlsif51k-2>li:before{content:"" counter(lst-ctn-kix_5y6fjlsif51k-2,lower-roman) ". "}.lst-kix_5y6fjlsif51k-4>li:before{content:"" counter(lst-ctn-kix_5y6fjlsif51k-4,lower-latin) ". "}.lst-kix_kjf8zdvo1lyf-3>li:before{content:"" counter(lst-ctn-kix_kjf8zdvo1lyf-3,decimal) ". "}.lst-kix_kjf8zdvo1lyf-1>li:before{content:"" counter(lst-ctn-kix_kjf8zdvo1lyf-1,lower-latin) ". "}.lst-kix_2wzv0c37mscg-7>li:before{content:"" counter(lst-ctn-kix_2wzv0c37mscg-7,lower-latin) ". "}ol.lst-kix_1scnce6wk35f-7.start{counter-reset:lst-ctn-kix_1scnce6wk35f-7 0}ol.lst-kix_6lbfx97xtcef-6.start{counter-reset:lst-ctn-kix_6lbfx97xtcef-6 0}.lst-kix_q1dqwj8wphtj-0>li{counter-increment:lst-ctn-kix_q1dqwj8wphtj-0}.lst-kix_sq802hiknv0u-5>li:before{content:"\0025a0  "}.lst-kix_nd89m1hvvn3x-4>li:before{content:"\0025cb  "}.lst-kix_nd89m1hvvn3x-6>li:before{content:"\0025cf  "}.lst-kix_eeflv3tx7x8-1>li{counter-increment:lst-ctn-kix_eeflv3tx7x8-1}.lst-kix_sq802hiknv0u-7>li:before{content:"\0025cb  "}.lst-kix_nyn4osmxptvt-1>li:before{content:"" counter(lst-ctn-kix_nyn4osmxptvt-1,lower-latin) ". "}.lst-kix_nyn4osmxptvt-3>li:before{content:"" counter(lst-ctn-kix_nyn4osmxptvt-3,decimal) ". "}ol.lst-kix_nz0lhoo7aztq-1{list-style-type:none}ol.lst-kix_nz0lhoo7aztq-0{list-style-type:none}ol.lst-kix_nz0lhoo7aztq-7{list-style-type:none}ol.lst-kix_nz0lhoo7aztq-6{list-style-type:none}ul.lst-kix_rs24r75b55qx-0{list-style-type:none}ol.lst-kix_nz0lhoo7aztq-8{list-style-type:none}ul.lst-kix_rs24r75b55qx-1{list-style-type:none}ol.lst-kix_nz0lhoo7aztq-3{list-style-type:none}ul.lst-kix_rs24r75b55qx-2{list-style-type:none}ol.lst-kix_nz0lhoo7aztq-2{list-style-type:none}ul.lst-kix_rs24r75b55qx-3{list-style-type:none}ol.lst-kix_nz0lhoo7aztq-5{list-style-type:none}ul.lst-kix_rs24r75b55qx-4{list-style-type:none}ol.lst-kix_nyn4osmxptvt-0.start{counter-reset:lst-ctn-kix_nyn4osmxptvt-0 0}ol.lst-kix_nz0lhoo7aztq-4{list-style-type:none}ul.lst-kix_rs24r75b55qx-5{list-style-type:none}ul.lst-kix_tumw717cctnl-5{list-style-type:none}ul.lst-kix_rs24r75b55qx-6{list-style-type:none}.lst-kix_r0n1ukoeko9i-4>li:before{content:"" counter(lst-ctn-kix_r0n1ukoeko9i-4,lower-latin) ". "}ul.lst-kix_tumw717cctnl-6{list-style-type:none}ul.lst-kix_rs24r75b55qx-7{list-style-type:none}ul.lst-kix_tumw717cctnl-7{list-style-type:none}ul.lst-kix_rs24r75b55qx-8{list-style-type:none}ol.lst-kix_k4fu9hb01p68-5.start{counter-reset:lst-ctn-kix_k4fu9hb01p68-5 0}ul.lst-kix_tumw717cctnl-8{list-style-type:none}ul.lst-kix_tumw717cctnl-1{list-style-type:none}ul.lst-kix_tumw717cctnl-2{list-style-type:none}ul.lst-kix_tumw717cctnl-3{list-style-type:none}ul.lst-kix_tumw717cctnl-4{list-style-type:none}.lst-kix_r0n1ukoeko9i-6>li:before{content:"" counter(lst-ctn-kix_r0n1ukoeko9i-6,decimal) ". "}.lst-kix_70i2e22v5l2-0>li:before{content:"\0025cf  "}.lst-kix_q1dqwj8wphtj-7>li{counter-increment:lst-ctn-kix_q1dqwj8wphtj-7}ol.lst-kix_nz0lhoo7aztq-5.start{counter-reset:lst-ctn-kix_nz0lhoo7aztq-5 0}.lst-kix_9uwxlic953dp-0>li:before{content:"" counter(lst-ctn-kix_9uwxlic953dp-0,decimal) ". "}.lst-kix_jzsgaky6g7z3-1>li:before{content:"" counter(lst-ctn-kix_jzsgaky6g7z3-1,lower-latin) ". "}.lst-kix_kvzqjuu34aac-5>li:before{content:"" counter(lst-ctn-kix_kvzqjuu34aac-5,lower-roman) ". "}ol.lst-kix_3m69r918o16y-5.start{counter-reset:lst-ctn-kix_3m69r918o16y-5 0}ul.lst-kix_sq802hiknv0u-6{list-style-type:none}.lst-kix_kvzqjuu34aac-3>li:before{content:"" counter(lst-ctn-kix_kvzqjuu34aac-3,decimal) ". "}ul.lst-kix_sq802hiknv0u-7{list-style-type:none}ul.lst-kix_sq802hiknv0u-8{list-style-type:none}.lst-kix_cekjy5rtkev4-0>li:before{content:"\0025cf  "}.lst-kix_rztvt1qt68k4-1>li{counter-increment:lst-ctn-kix_rztvt1qt68k4-1}ul.lst-kix_sq802hiknv0u-2{list-style-type:none}ul.lst-kix_sq802hiknv0u-3{list-style-type:none}ul.lst-kix_sq802hiknv0u-4{list-style-type:none}ul.lst-kix_sq802hiknv0u-5{list-style-type:none}.lst-kix_jzsgaky6g7z3-3>li:before{content:"" counter(lst-ctn-kix_jzsgaky6g7z3-3,decimal) ". "}.lst-kix_4a5cw2dlleht-8>li{counter-increment:lst-ctn-kix_4a5cw2dlleht-8}ol.lst-kix_kjf8zdvo1lyf-2.start{counter-reset:lst-ctn-kix_kjf8zdvo1lyf-2 0}.lst-kix_9uwxlic953dp-8>li:before{content:"" counter(lst-ctn-kix_9uwxlic953dp-8,lower-roman) ". "}.lst-kix_bp14me61tv7k-0>li:before{content:"\0025cf  "}ul.lst-kix_sq802hiknv0u-0{list-style-type:none}.lst-kix_4x89tkurgtys-1>li:before{content:"\0025cb  "}ul.lst-kix_sq802hiknv0u-1{list-style-type:none}.lst-kix_ijvyr9rw1jkb-5>li:before{content:"" counter(lst-ctn-kix_ijvyr9rw1jkb-5,lower-roman) ". "}.lst-kix_9uwxlic953dp-2>li:before{content:"" counter(lst-ctn-kix_9uwxlic953dp-2,lower-roman) ". "}ul.lst-kix_lo7chw702g52-4{list-style-type:none}ol.lst-kix_h61urw5blhfz-7{list-style-type:none}ul.lst-kix_lo7chw702g52-5{list-style-type:none}ol.lst-kix_h61urw5blhfz-8{list-style-type:none}ul.lst-kix_lo7chw702g52-6{list-style-type:none}ul.lst-kix_lo7chw702g52-7{list-style-type:none}ul.lst-kix_lo7chw702g52-0{list-style-type:none}ol.lst-kix_h61urw5blhfz-3{list-style-type:none}ul.lst-kix_lo7chw702g52-1{list-style-type:none}ol.lst-kix_h61urw5blhfz-4{list-style-type:none}.lst-kix_bp14me61tv7k-6>li:before{content:"\0025cf  "}ul.lst-kix_lo7chw702g52-2{list-style-type:none}ol.lst-kix_h61urw5blhfz-5{list-style-type:none}.lst-kix_70i2e22v5l2-8>li:before{content:"\0025a0  "}ul.lst-kix_lo7chw702g52-3{list-style-type:none}ol.lst-kix_h61urw5blhfz-6{list-style-type:none}.lst-kix_9uwxlic953dp-8>li{counter-increment:lst-ctn-kix_9uwxlic953dp-8}.lst-kix_pug38gcm3mfz-5>li{counter-increment:lst-ctn-kix_pug38gcm3mfz-5}ol.lst-kix_h61urw5blhfz-0{list-style-type:none}ol.lst-kix_h61urw5blhfz-1{list-style-type:none}ol.lst-kix_h61urw5blhfz-2{list-style-type:none}ul.lst-kix_lo7chw702g52-8{list-style-type:none}.lst-kix_2v6s1svct7dg-3>li:before{content:"" counter(lst-ctn-kix_2v6s1svct7dg-3,decimal) ". "}.lst-kix_70i2e22v5l2-6>li:before{content:"\0025cf  "}ol.lst-kix_tcwr7sx3qmaw-3.start{counter-reset:lst-ctn-kix_tcwr7sx3qmaw-3 0}ol.lst-kix_nz0lhoo7aztq-7.start{counter-reset:lst-ctn-kix_nz0lhoo7aztq-7 0}ol.lst-kix_u7fc8e9svd3w-2.start{counter-reset:lst-ctn-kix_u7fc8e9svd3w-2 0}ul.lst-kix_tumw717cctnl-0{list-style-type:none}ol.lst-kix_demv1nd5mcc4-3.start{counter-reset:lst-ctn-kix_demv1nd5mcc4-3 0}.lst-kix_231qltjiej1b-1>li:before{content:"" counter(lst-ctn-kix_231qltjiej1b-1,lower-latin) ". "}.lst-kix_ijvyr9rw1jkb-3>li:before{content:"" counter(lst-ctn-kix_ijvyr9rw1jkb-3,decimal) ". "}.lst-kix_o4csfsvt568i-0>li:before{content:"" counter(lst-ctn-kix_o4csfsvt568i-0,decimal) ". "}ol.lst-kix_um1ceofb3c39-1.start{counter-reset:lst-ctn-kix_um1ceofb3c39-1 0}.lst-kix_1znearomzlt0-1>li:before{content:"\0025cb  "}ol.lst-kix_cg3ztxy94g5y-6.start{counter-reset:lst-ctn-kix_cg3ztxy94g5y-6 0}ol.lst-kix_4a5cw2dlleht-6.start{counter-reset:lst-ctn-kix_4a5cw2dlleht-6 0}.lst-kix_2g1cy18v17xb-0>li{counter-increment:lst-ctn-kix_2g1cy18v17xb-0}.lst-kix_cflgkiusf2ss-3>li:before{content:"-  "}.lst-kix_1znearomzlt0-7>li:before{content:"\0025cb  "}.lst-kix_2v6s1svct7dg-5>li:before{content:"" counter(lst-ctn-kix_2v6s1svct7dg-5,lower-roman) ". "}.lst-kix_o4csfsvt568i-6>li:before{content:"" counter(lst-ctn-kix_o4csfsvt568i-6,decimal) ". "}.lst-kix_u5ht8watzdqo-8>li:before{content:"\0025a0  "}.lst-kix_o4csfsvt568i-8>li:before{content:"" counter(lst-ctn-kix_o4csfsvt568i-8,lower-roman) ". "}.lst-kix_ry2l2t3q0bf2-5>li{counter-increment:lst-ctn-kix_ry2l2t3q0bf2-5}.lst-kix_8vs3c95uml8g-3>li{counter-increment:lst-ctn-kix_8vs3c95uml8g-3}.lst-kix_cflgkiusf2ss-1>li:before{content:"-  "}ol.lst-kix_j2km2ok9rn2f-8{list-style-type:none}.lst-kix_u5ht8watzdqo-6>li:before{content:"\0025cf  "}ol.lst-kix_j2km2ok9rn2f-7{list-style-type:none}ol.lst-kix_ijvyr9rw1jkb-0.start{counter-reset:lst-ctn-kix_ijvyr9rw1jkb-0 0}ol.lst-kix_j2km2ok9rn2f-6{list-style-type:none}ol.lst-kix_j2km2ok9rn2f-5{list-style-type:none}ol.lst-kix_j2km2ok9rn2f-4{list-style-type:none}ol.lst-kix_j2km2ok9rn2f-3{list-style-type:none}ol.lst-kix_j2km2ok9rn2f-2{list-style-type:none}ol.lst-kix_j2km2ok9rn2f-1{list-style-type:none}ol.lst-kix_j2km2ok9rn2f-0{list-style-type:none}.lst-kix_j8m1cqcs8t5n-8>li{counter-increment:lst-ctn-kix_j8m1cqcs8t5n-8}.lst-kix_rs24r75b55qx-3>li:before{content:"\0025cf  "}ol.lst-kix_djxeid5213p-4.start{counter-reset:lst-ctn-kix_djxeid5213p-4 0}.lst-kix_vahsii3hvprg-7>li{counter-increment:lst-ctn-kix_vahsii3hvprg-7}.lst-kix_3m69r918o16y-2>li{counter-increment:lst-ctn-kix_3m69r918o16y-2}ol.lst-kix_nyn4osmxptvt-3.start{counter-reset:lst-ctn-kix_nyn4osmxptvt-3 0}ol.lst-kix_h61urw5blhfz-1.start{counter-reset:lst-ctn-kix_h61urw5blhfz-1 0}.lst-kix_tcwr7sx3qmaw-1>li{counter-increment:lst-ctn-kix_tcwr7sx3qmaw-1}ol.lst-kix_u7fc8e9svd3w-0.start{counter-reset:lst-ctn-kix_u7fc8e9svd3w-0 0}.lst-kix_rs24r75b55qx-5>li:before{content:"\0025a0  "}ol.lst-kix_k4fu9hb01p68-8.start{counter-reset:lst-ctn-kix_k4fu9hb01p68-8 0}ol.lst-kix_n74u8poefvny-7.start{counter-reset:lst-ctn-kix_n74u8poefvny-7 0}ol.lst-kix_89ivjl2uxnp3-1.start{counter-reset:lst-ctn-kix_89ivjl2uxnp3-1 0}.lst-kix_lo7chw702g52-7>li:before{content:"\0025cb  "}.lst-kix_pjnl93gc3004-6>li{counter-increment:lst-ctn-kix_pjnl93gc3004-6}.lst-kix_89ivjl2uxnp3-5>li:before{content:"" counter(lst-ctn-kix_89ivjl2uxnp3-5,lower-roman) ". "}ol.lst-kix_um1ceofb3c39-6.start{counter-reset:lst-ctn-kix_um1ceofb3c39-6 0}ol.lst-kix_9agb6svh85y5-4.start{counter-reset:lst-ctn-kix_9agb6svh85y5-4 0}.lst-kix_1scnce6wk35f-5>li:before{content:"" counter(lst-ctn-kix_1scnce6wk35f-5,lower-roman) ". "}ol.lst-kix_n74u8poefvny-4.start{counter-reset:lst-ctn-kix_n74u8poefvny-4 0}ol.lst-kix_3m69r918o16y-7{list-style-type:none}ol.lst-kix_3m69r918o16y-8{list-style-type:none}.lst-kix_4a5cw2dlleht-1>li{counter-increment:lst-ctn-kix_4a5cw2dlleht-1}.lst-kix_ynk1jb423v8p-0>li:before{content:"\0025cf  "}.lst-kix_ynk1jb423v8p-8>li:before{content:"\0025a0  "}.lst-kix_ccmzo2unoagl-5>li:before{content:"" counter(lst-ctn-kix_ccmzo2unoagl-5,lower-roman) ". "}ol.lst-kix_4a5cw2dlleht-1.start{counter-reset:lst-ctn-kix_4a5cw2dlleht-1 0}.lst-kix_tcwr7sx3qmaw-2>li:before{content:"" counter(lst-ctn-kix_tcwr7sx3qmaw-2,lower-roman) ". "}ol.lst-kix_3m69r918o16y-1{list-style-type:none}.lst-kix_n74u8poefvny-5>li{counter-increment:lst-ctn-kix_n74u8poefvny-5}ol.lst-kix_w2m28ilmo2lu-8.start{counter-reset:lst-ctn-kix_w2m28ilmo2lu-8 0}ol.lst-kix_3m69r918o16y-2{list-style-type:none}.lst-kix_rztvt1qt68k4-8>li{counter-increment:lst-ctn-kix_rztvt1qt68k4-8}ol.lst-kix_3m69r918o16y-0{list-style-type:none}ol.lst-kix_j2km2ok9rn2f-0.start{counter-reset:lst-ctn-kix_j2km2ok9rn2f-0 0}ol.lst-kix_3m69r918o16y-5{list-style-type:none}ol.lst-kix_pug38gcm3mfz-2.start{counter-reset:lst-ctn-kix_pug38gcm3mfz-2 0}ol.lst-kix_3m69r918o16y-6{list-style-type:none}ol.lst-kix_3m69r918o16y-3{list-style-type:none}ol.lst-kix_3m69r918o16y-4{list-style-type:none}ol.lst-kix_j8m1cqcs8t5n-4.start{counter-reset:lst-ctn-kix_j8m1cqcs8t5n-4 0}.lst-kix_mlk6dnhjzk7u-2>li{counter-increment:lst-ctn-kix_mlk6dnhjzk7u-2}ol.lst-kix_3vj5z9behcl1-8.start{counter-reset:lst-ctn-kix_3vj5z9behcl1-8 0}.lst-kix_mkkzzu530uy6-8>li:before{content:"\0025a0  "}.lst-kix_2yjh37mgtbm2-5>li:before{content:"\0025a0  "}ol.lst-kix_ydcqnhnvg283-6.start{counter-reset:lst-ctn-kix_ydcqnhnvg283-6 0}.lst-kix_mhuhx3jkg1i5-1>li:before{content:"\0025cb  "}.lst-kix_m8mqfhiovwl-5>li:before{content:"\0025a0  "}.lst-kix_6no4tthr2wo1-1>li:before{content:"" counter(lst-ctn-kix_6no4tthr2wo1-1,lower-latin) ". "}.lst-kix_2wzv0c37mscg-5>li{counter-increment:lst-ctn-kix_2wzv0c37mscg-5}.lst-kix_scdn9fkfpojm-1>li{counter-increment:lst-ctn-kix_scdn9fkfpojm-1}.lst-kix_r0n1ukoeko9i-2>li{counter-increment:lst-ctn-kix_r0n1ukoeko9i-2}.lst-kix_89ivjl2uxnp3-0>li{counter-increment:lst-ctn-kix_89ivjl2uxnp3-0}.lst-kix_eeflv3tx7x8-8>li:before{content:"" counter(lst-ctn-kix_eeflv3tx7x8-8,lower-roman) ". "}ol.lst-kix_h61urw5blhfz-6.start{counter-reset:lst-ctn-kix_h61urw5blhfz-6 0}.lst-kix_zcvl3fbc6do4-4>li:before{content:"" counter(lst-ctn-kix_zcvl3fbc6do4-4,lower-latin) ". "}ol.lst-kix_89ivjl2uxnp3-6.start{counter-reset:lst-ctn-kix_89ivjl2uxnp3-6 0}.lst-kix_4a5cw2dlleht-7>li:before{content:"" counter(lst-ctn-kix_4a5cw2dlleht-7,lower-latin) ". "}ol.lst-kix_8vs3c95uml8g-1.start{counter-reset:lst-ctn-kix_8vs3c95uml8g-1 0}.lst-kix_n6de3aaazbqx-2>li:before{content:"\0025a0  "}.lst-kix_3m69r918o16y-8>li:before{content:"" counter(lst-ctn-kix_3m69r918o16y-8,lower-roman) ". "}.lst-kix_g7bqe7r6c5y-0>li:before{content:"\0025cf  "}.lst-kix_g7bqe7r6c5y-8>li:before{content:"\0025a0  "}.lst-kix_2epif0ienwnx-1>li:before{content:"\0025cb  "}.lst-kix_231qltjiej1b-7>li:before{content:"" counter(lst-ctn-kix_231qltjiej1b-7,lower-latin) ". "}.lst-kix_nbgultvqf3c-1>li:before{content:"\0025cb  "}.lst-kix_4a5cw2dlleht-5>li{counter-increment:lst-ctn-kix_4a5cw2dlleht-5}ol.lst-kix_pug38gcm3mfz-7.start{counter-reset:lst-ctn-kix_pug38gcm3mfz-7 0}.lst-kix_4x89tkurgtys-7>li:before{content:"\0025cb  "}.lst-kix_vahsii3hvprg-3>li{counter-increment:lst-ctn-kix_vahsii3hvprg-3}.lst-kix_eeflv3tx7x8-0>li:before{content:"" counter(lst-ctn-kix_eeflv3tx7x8-0,decimal) ". "}.lst-kix_cekjy5rtkev4-6>li:before{content:"\0025cf  "}ol.lst-kix_n74u8poefvny-2{list-style-type:none}ol.lst-kix_g5hw4owq9gm6-8.start{counter-reset:lst-ctn-kix_g5hw4owq9gm6-8 0}ol.lst-kix_n74u8poefvny-3{list-style-type:none}ol.lst-kix_n74u8poefvny-0{list-style-type:none}.lst-kix_k4fu9hb01p68-0>li{counter-increment:lst-ctn-kix_k4fu9hb01p68-0}ol.lst-kix_n74u8poefvny-1{list-style-type:none}ol.lst-kix_ijvyr9rw1jkb-2.start{counter-reset:lst-ctn-kix_ijvyr9rw1jkb-2 0}ol.lst-kix_3m69r918o16y-7.start{counter-reset:lst-ctn-kix_3m69r918o16y-7 0}ol.lst-kix_ydcqnhnvg283-7.start{counter-reset:lst-ctn-kix_ydcqnhnvg283-7 0}ol.lst-kix_n74u8poefvny-8{list-style-type:none}.lst-kix_3m69r918o16y-0>li:before{content:"" counter(lst-ctn-kix_3m69r918o16y-0,decimal) ". "}ol.lst-kix_n74u8poefvny-6{list-style-type:none}ol.lst-kix_n74u8poefvny-7{list-style-type:none}ol.lst-kix_pug38gcm3mfz-8.start{counter-reset:lst-ctn-kix_pug38gcm3mfz-8 0}ol.lst-kix_n74u8poefvny-4{list-style-type:none}ol.lst-kix_n74u8poefvny-5{list-style-type:none}.lst-kix_scdn9fkfpojm-8>li{counter-increment:lst-ctn-kix_scdn9fkfpojm-8}ol.lst-kix_tcwr7sx3qmaw-8.start{counter-reset:lst-ctn-kix_tcwr7sx3qmaw-8 0}ol.lst-kix_g5hw4owq9gm6-1.start{counter-reset:lst-ctn-kix_g5hw4owq9gm6-1 0}.lst-kix_ixkeh6iza7m6-6>li:before{content:"" counter(lst-ctn-kix_ixkeh6iza7m6-6,decimal) ". "}.lst-kix_cg3ztxy94g5y-1>li:before{content:"" counter(lst-ctn-kix_cg3ztxy94g5y-1,lower-latin) ". "}.lst-kix_toppvyk2j46u-2>li:before{content:"\0025a0  "}.lst-kix_ijpqatjyilkj-5>li:before{content:"\0025a0  "}ol.lst-kix_nz0lhoo7aztq-2.start{counter-reset:lst-ctn-kix_nz0lhoo7aztq-2 0}.lst-kix_ydcqnhnvg283-5>li{counter-increment:lst-ctn-kix_ydcqnhnvg283-5}.lst-kix_jzsgaky6g7z3-2>li{counter-increment:lst-ctn-kix_jzsgaky6g7z3-2}ol.lst-kix_j2km2ok9rn2f-4.start{counter-reset:lst-ctn-kix_j2km2ok9rn2f-4 0}.lst-kix_mqxs1xcxmw0p-5>li:before{content:"\0025a0  "}.lst-kix_lfh56zd88abz-2>li:before{content:"\0025a0  "}ol.lst-kix_j8m1cqcs8t5n-1{list-style-type:none}ol.lst-kix_h61urw5blhfz-7.start{counter-reset:lst-ctn-kix_h61urw5blhfz-7 0}ol.lst-kix_j8m1cqcs8t5n-0{list-style-type:none}ol.lst-kix_j2km2ok9rn2f-7.start{counter-reset:lst-ctn-kix_j2km2ok9rn2f-7 0}.lst-kix_8vs3c95uml8g-6>li{counter-increment:lst-ctn-kix_8vs3c95uml8g-6}.lst-kix_ry2l2t3q0bf2-2>li{counter-increment:lst-ctn-kix_ry2l2t3q0bf2-2}ol.lst-kix_1scnce6wk35f-2.start{counter-reset:lst-ctn-kix_1scnce6wk35f-2 0}.lst-kix_1scnce6wk35f-5>li{counter-increment:lst-ctn-kix_1scnce6wk35f-5}.lst-kix_5m5pl1amlgdu-0>li:before{content:"\0025cf  "}.lst-kix_3m69r918o16y-6>li{counter-increment:lst-ctn-kix_3m69r918o16y-6}ol.lst-kix_9agb6svh85y5-3.start{counter-reset:lst-ctn-kix_9agb6svh85y5-3 0}ol.lst-kix_4a5cw2dlleht-0.start{counter-reset:lst-ctn-kix_4a5cw2dlleht-0 0}ol.lst-kix_g5hw4owq9gm6-3.start{counter-reset:lst-ctn-kix_g5hw4owq9gm6-3 0}.lst-kix_231qltjiej1b-2>li{counter-increment:lst-ctn-kix_231qltjiej1b-2}.lst-kix_beo0nvieqvft-0>li:before{content:"\0025cf  "}.lst-kix_beo0nvieqvft-8>li:before{content:"\0025a0  "}ol.lst-kix_pug38gcm3mfz-3.start{counter-reset:lst-ctn-kix_pug38gcm3mfz-3 0}.lst-kix_9uwxlic953dp-5>li{counter-increment:lst-ctn-kix_9uwxlic953dp-5}ol.lst-kix_j8m1cqcs8t5n-3.start{counter-reset:lst-ctn-kix_j8m1cqcs8t5n-3 0}.lst-kix_gs67zzu7w7z9-7>li:before{content:"\0025cb  "}ol.lst-kix_g5hw4owq9gm6-6.start{counter-reset:lst-ctn-kix_g5hw4owq9gm6-6 0}ol.lst-kix_ijvyr9rw1jkb-7.start{counter-reset:lst-ctn-kix_ijvyr9rw1jkb-7 0}ol.lst-kix_demv1nd5mcc4-6.start{counter-reset:lst-ctn-kix_demv1nd5mcc4-6 0}.lst-kix_5m5pl1amlgdu-8>li:before{content:"\0025a0  "}.lst-kix_99kco6cmz88s-3>li{counter-increment:lst-ctn-kix_99kco6cmz88s-3}ol.lst-kix_u7fc8e9svd3w-5.start{counter-reset:lst-ctn-kix_u7fc8e9svd3w-5 0}ol.lst-kix_j8m1cqcs8t5n-6.start{counter-reset:lst-ctn-kix_j8m1cqcs8t5n-6 0}.lst-kix_k4fu9hb01p68-7>li{counter-increment:lst-ctn-kix_k4fu9hb01p68-7}ol.lst-kix_g5hw4owq9gm6-4.start{counter-reset:lst-ctn-kix_g5hw4owq9gm6-4 0}ol.lst-kix_jzsgaky6g7z3-0{list-style-type:none}ol.lst-kix_k4fu9hb01p68-0.start{counter-reset:lst-ctn-kix_k4fu9hb01p68-0 0}ol.lst-kix_jzsgaky6g7z3-2{list-style-type:none}ol.lst-kix_jzsgaky6g7z3-1{list-style-type:none}ol.lst-kix_jzsgaky6g7z3-8{list-style-type:none}ol.lst-kix_jzsgaky6g7z3-7{list-style-type:none}ol.lst-kix_jzsgaky6g7z3-4{list-style-type:none}.lst-kix_nyn4osmxptvt-2>li{counter-increment:lst-ctn-kix_nyn4osmxptvt-2}ol.lst-kix_jzsgaky6g7z3-3{list-style-type:none}ol.lst-kix_jzsgaky6g7z3-6{list-style-type:none}ol.lst-kix_jzsgaky6g7z3-5{list-style-type:none}ol.lst-kix_nz0lhoo7aztq-0.start{counter-reset:lst-ctn-kix_nz0lhoo7aztq-0 0}ol.lst-kix_j2km2ok9rn2f-5.start{counter-reset:lst-ctn-kix_j2km2ok9rn2f-5 0}ol.lst-kix_um1ceofb3c39-7.start{counter-reset:lst-ctn-kix_um1ceofb3c39-7 0}.lst-kix_tauxjktfe261-2>li:before{content:"\0025a0  "}.lst-kix_eeflv3tx7x8-5>li{counter-increment:lst-ctn-kix_eeflv3tx7x8-5}.lst-kix_ydcqnhnvg283-4>li:before{content:"" counter(lst-ctn-kix_ydcqnhnvg283-4,lower-latin) ". "}ol.lst-kix_1scnce6wk35f-4.start{counter-reset:lst-ctn-kix_1scnce6wk35f-4 0}.lst-kix_g5hw4owq9gm6-6>li{counter-increment:lst-ctn-kix_g5hw4owq9gm6-6}.lst-kix_j2km2ok9rn2f-3>li:before{content:"" counter(lst-ctn-kix_j2km2ok9rn2f-3,decimal) ". "}ol.lst-kix_demv1nd5mcc4-8.start{counter-reset:lst-ctn-kix_demv1nd5mcc4-8 0}.lst-kix_nz0lhoo7aztq-1>li:before{content:"" counter(lst-ctn-kix_nz0lhoo7aztq-1,lower-latin) ". "}ol.lst-kix_3vj5z9behcl1-7{list-style-type:none}ol.lst-kix_3vj5z9behcl1-8{list-style-type:none}.lst-kix_g5hw4owq9gm6-5>li:before{content:"" counter(lst-ctn-kix_g5hw4owq9gm6-5,lower-roman) ". "}ol.lst-kix_u7fc8e9svd3w-7.start{counter-reset:lst-ctn-kix_u7fc8e9svd3w-7 0}ol.lst-kix_3vj5z9behcl1-3{list-style-type:none}ol.lst-kix_3vj5z9behcl1-4{list-style-type:none}.lst-kix_vahsii3hvprg-0>li:before{content:"" counter(lst-ctn-kix_vahsii3hvprg-0,decimal) ". "}ol.lst-kix_3vj5z9behcl1-5{list-style-type:none}ol.lst-kix_3vj5z9behcl1-6{list-style-type:none}ol.lst-kix_3vj5z9behcl1-0{list-style-type:none}.lst-kix_8o0dmiuwe0b-2>li:before{content:"" counter(lst-ctn-kix_8o0dmiuwe0b-2,lower-roman) ". "}ol.lst-kix_3vj5z9behcl1-1{list-style-type:none}.lst-kix_665pdbwbvds7-1>li:before{content:"\0025cb  "}ol.lst-kix_3vj5z9behcl1-2{list-style-type:none}ol.lst-kix_9agb6svh85y5-1.start{counter-reset:lst-ctn-kix_9agb6svh85y5-1 0}.lst-kix_q1dqwj8wphtj-8>li:before{content:"" counter(lst-ctn-kix_q1dqwj8wphtj-8,lower-roman) ". "}.lst-kix_dxyyq7gegouy-8>li:before{content:"\0025a0  "}.lst-kix_rztvt1qt68k4-7>li{counter-increment:lst-ctn-kix_rztvt1qt68k4-7}.lst-kix_q1dqwj8wphtj-2>li{counter-increment:lst-ctn-kix_q1dqwj8wphtj-2}.lst-kix_dxyyq7gegouy-7>li:before{content:"\0025cb  "}ul.lst-kix_k7cvqq8ohnqa-4{list-style-type:none}ol.lst-kix_demv1nd5mcc4-4.start{counter-reset:lst-ctn-kix_demv1nd5mcc4-4 0}ul.lst-kix_k7cvqq8ohnqa-3{list-style-type:none}ol.lst-kix_djxeid5213p-0.start{counter-reset:lst-ctn-kix_djxeid5213p-0 0}ul.lst-kix_k7cvqq8ohnqa-2{list-style-type:none}.lst-kix_3m69r918o16y-1>li{counter-increment:lst-ctn-kix_3m69r918o16y-1}.lst-kix_vahsii3hvprg-4>li:before{content:"" counter(lst-ctn-kix_vahsii3hvprg-4,lower-latin) ". "}ul.lst-kix_k7cvqq8ohnqa-1{list-style-type:none}.lst-kix_dxyyq7gegouy-4>li:before{content:"\0025cb  "}ul.lst-kix_k7cvqq8ohnqa-0{list-style-type:none}ol.lst-kix_eeflv3tx7x8-0{list-style-type:none}ol.lst-kix_8o0dmiuwe0b-4.start{counter-reset:lst-ctn-kix_8o0dmiuwe0b-4 0}.lst-kix_q1dqwj8wphtj-2>li:before{content:"" counter(lst-ctn-kix_q1dqwj8wphtj-2,lower-roman) ". "}ol.lst-kix_eeflv3tx7x8-2{list-style-type:none}.lst-kix_dxyyq7gegouy-5>li:before{content:"\0025a0  "}ol.lst-kix_eeflv3tx7x8-1{list-style-type:none}.lst-kix_w4optp8ta93z-5>li:before{content:"\0025a0  "}ol.lst-kix_vahsii3hvprg-1.start{counter-reset:lst-ctn-kix_vahsii3hvprg-1 0}ul.lst-kix_k7cvqq8ohnqa-8{list-style-type:none}.lst-kix_5y6fjlsif51k-6>li{counter-increment:lst-ctn-kix_5y6fjlsif51k-6}ul.lst-kix_k7cvqq8ohnqa-7{list-style-type:none}.lst-kix_w4optp8ta93z-2>li:before{content:"\0025a0  "}.lst-kix_w4optp8ta93z-6>li:before{content:"\0025cf  "}ul.lst-kix_k7cvqq8ohnqa-6{list-style-type:none}.lst-kix_ljr4eepmgt5w-2>li:before{content:"\0025a0  "}ul.lst-kix_k7cvqq8ohnqa-5{list-style-type:none}.lst-kix_ljr4eepmgt5w-1>li:before{content:"\0025cb  "}.lst-kix_scdn9fkfpojm-0>li{counter-increment:lst-ctn-kix_scdn9fkfpojm-0}.lst-kix_dxyyq7gegouy-1>li:before{content:"\0025cb  "}.lst-kix_vahsii3hvprg-7>li:before{content:"" counter(lst-ctn-kix_vahsii3hvprg-7,lower-latin) ". "}.lst-kix_lg8dkrfv0qcu-6>li{counter-increment:lst-ctn-kix_lg8dkrfv0qcu-6}.lst-kix_6lbfx97xtcef-4>li:before{content:"" counter(lst-ctn-kix_6lbfx97xtcef-4,lower-latin) ". "}ul.lst-kix_dxyyq7gegouy-0{list-style-type:none}ul.lst-kix_dxyyq7gegouy-2{list-style-type:none}ul.lst-kix_dxyyq7gegouy-1{list-style-type:none}ul.lst-kix_dxyyq7gegouy-4{list-style-type:none}ul.lst-kix_dxyyq7gegouy-3{list-style-type:none}.lst-kix_6lbfx97xtcef-7>li:before{content:"" counter(lst-ctn-kix_6lbfx97xtcef-7,lower-latin) ". "}ol.lst-kix_jzsgaky6g7z3-4.start{counter-reset:lst-ctn-kix_jzsgaky6g7z3-4 0}ul.lst-kix_dxyyq7gegouy-6{list-style-type:none}ol.lst-kix_pjnl93gc3004-2.start{counter-reset:lst-ctn-kix_pjnl93gc3004-2 0}ul.lst-kix_dxyyq7gegouy-5{list-style-type:none}.lst-kix_6lbfx97xtcef-6>li:before{content:"" counter(lst-ctn-kix_6lbfx97xtcef-6,decimal) ". "}ol.lst-kix_rztvt1qt68k4-5.start{counter-reset:lst-ctn-kix_rztvt1qt68k4-5 0}ul.lst-kix_dxyyq7gegouy-8{list-style-type:none}ul.lst-kix_dxyyq7gegouy-7{list-style-type:none}.lst-kix_vu8ackanrfrr-1>li{counter-increment:lst-ctn-kix_vu8ackanrfrr-1}.lst-kix_ydcqnhnvg283-0>li:before{content:"" counter(lst-ctn-kix_ydcqnhnvg283-0,decimal) ". "}.lst-kix_w4optp8ta93z-8>li:before{content:"\0025a0  "}.lst-kix_ljr4eepmgt5w-4>li:before{content:"\0025cb  "}ol.lst-kix_eeflv3tx7x8-4{list-style-type:none}.lst-kix_ljr4eepmgt5w-5>li:before{content:"\0025a0  "}ol.lst-kix_eeflv3tx7x8-3{list-style-type:none}ol.lst-kix_eeflv3tx7x8-6{list-style-type:none}ol.lst-kix_eeflv3tx7x8-5{list-style-type:none}.lst-kix_q1dqwj8wphtj-3>li:before{content:"" counter(lst-ctn-kix_q1dqwj8wphtj-3,decimal) ". "}ol.lst-kix_eeflv3tx7x8-8{list-style-type:none}.lst-kix_ljr4eepmgt5w-7>li:before{content:"\0025cb  "}ol.lst-kix_eeflv3tx7x8-7{list-style-type:none}ul.lst-kix_5wibt4kf5001-8{list-style-type:none}ul.lst-kix_5wibt4kf5001-7{list-style-type:none}.lst-kix_q1dqwj8wphtj-5>li:before{content:"" counter(lst-ctn-kix_q1dqwj8wphtj-5,lower-roman) ". "}.lst-kix_kvzqjuu34aac-3>li{counter-increment:lst-ctn-kix_kvzqjuu34aac-3}.lst-kix_g5hw4owq9gm6-2>li{counter-increment:lst-ctn-kix_g5hw4owq9gm6-2}ul.lst-kix_5wibt4kf5001-6{list-style-type:none}ul.lst-kix_5wibt4kf5001-5{list-style-type:none}ul.lst-kix_5wibt4kf5001-4{list-style-type:none}ul.lst-kix_5wibt4kf5001-3{list-style-type:none}ul.lst-kix_5wibt4kf5001-2{list-style-type:none}.lst-kix_q1dqwj8wphtj-6>li:before{content:"" counter(lst-ctn-kix_q1dqwj8wphtj-6,decimal) ". "}ol.lst-kix_2v6s1svct7dg-8.start{counter-reset:lst-ctn-kix_2v6s1svct7dg-8 0}ul.lst-kix_5wibt4kf5001-1{list-style-type:none}.lst-kix_ljr4eepmgt5w-8>li:before{content:"\0025a0  "}ul.lst-kix_5wibt4kf5001-0{list-style-type:none}ol.lst-kix_mlk6dnhjzk7u-4.start{counter-reset:lst-ctn-kix_mlk6dnhjzk7u-4 0}.lst-kix_vu8ackanrfrr-2>li:before{content:"" counter(lst-ctn-kix_vu8ackanrfrr-2,lower-roman) ". "}.lst-kix_ry2l2t3q0bf2-0>li:before{content:"" counter(lst-ctn-kix_ry2l2t3q0bf2-0,decimal) ". "}.lst-kix_tiqzyj3jp3gs-5>li:before{content:"\0025a0  "}.lst-kix_tiqzyj3jp3gs-7>li:before{content:"\0025cb  "}ol.lst-kix_1scnce6wk35f-1.start{counter-reset:lst-ctn-kix_1scnce6wk35f-1 0}.lst-kix_ry2l2t3q0bf2-3>li:before{content:"" counter(lst-ctn-kix_ry2l2t3q0bf2-3,decimal) ". "}.lst-kix_tiqzyj3jp3gs-2>li:before{content:"\0025a0  "}.lst-kix_ae2kguhc9rtx-1>li:before{content:"\0025cb  "}.lst-kix_ry2l2t3q0bf2-4>li:before{content:"" counter(lst-ctn-kix_ry2l2t3q0bf2-4,lower-latin) ". "}.lst-kix_ixkeh6iza7m6-1>li{counter-increment:lst-ctn-kix_ixkeh6iza7m6-1}.lst-kix_vu8ackanrfrr-4>li:before{content:"" counter(lst-ctn-kix_vu8ackanrfrr-4,lower-latin) ". "}.lst-kix_vu8ackanrfrr-5>li:before{content:"" counter(lst-ctn-kix_vu8ackanrfrr-5,lower-roman) ". "}.lst-kix_tiqzyj3jp3gs-4>li:before{content:"\0025cb  "}ul.lst-kix_ijpqatjyilkj-4{list-style-type:none}ul.lst-kix_ijpqatjyilkj-3{list-style-type:none}ul.lst-kix_ijpqatjyilkj-6{list-style-type:none}ol.lst-kix_1scnce6wk35f-0{list-style-type:none}ul.lst-kix_ijpqatjyilkj-5{list-style-type:none}ol.lst-kix_1scnce6wk35f-1{list-style-type:none}ul.lst-kix_ijpqatjyilkj-8{list-style-type:none}ol.lst-kix_1scnce6wk35f-2{list-style-type:none}ul.lst-kix_ijpqatjyilkj-7{list-style-type:none}ol.lst-kix_1scnce6wk35f-3{list-style-type:none}ol.lst-kix_pjnl93gc3004-7.start{counter-reset:lst-ctn-kix_pjnl93gc3004-7 0}ol.lst-kix_o4csfsvt568i-8.start{counter-reset:lst-ctn-kix_o4csfsvt568i-8 0}ol.lst-kix_1scnce6wk35f-4{list-style-type:none}ol.lst-kix_1scnce6wk35f-5{list-style-type:none}ul.lst-kix_m8mqfhiovwl-5{list-style-type:none}ol.lst-kix_1scnce6wk35f-6{list-style-type:none}ol.lst-kix_mvwurm2wk0z0-7.start{counter-reset:lst-ctn-kix_mvwurm2wk0z0-7 0}ul.lst-kix_m8mqfhiovwl-6{list-style-type:none}.lst-kix_vu8ackanrfrr-7>li:before{content:"" counter(lst-ctn-kix_vu8ackanrfrr-7,lower-latin) ". "}ol.lst-kix_1scnce6wk35f-7{list-style-type:none}ul.lst-kix_m8mqfhiovwl-7{list-style-type:none}ol.lst-kix_vahsii3hvprg-6.start{counter-reset:lst-ctn-kix_vahsii3hvprg-6 0}ol.lst-kix_1scnce6wk35f-8{list-style-type:none}ul.lst-kix_m8mqfhiovwl-8{list-style-type:none}ul.lst-kix_ijpqatjyilkj-0{list-style-type:none}.lst-kix_vu8ackanrfrr-8>li:before{content:"" counter(lst-ctn-kix_vu8ackanrfrr-8,lower-roman) ". "}ul.lst-kix_ijpqatjyilkj-2{list-style-type:none}ul.lst-kix_ijpqatjyilkj-1{list-style-type:none}ol.lst-kix_eeflv3tx7x8-7.start{counter-reset:lst-ctn-kix_eeflv3tx7x8-7 0}.lst-kix_tiqzyj3jp3gs-8>li:before{content:"\0025a0  "}.lst-kix_mlk6dnhjzk7u-6>li:before{content:"" counter(lst-ctn-kix_mlk6dnhjzk7u-6,decimal) ". "}.lst-kix_mlk6dnhjzk7u-7>li:before{content:"" counter(lst-ctn-kix_mlk6dnhjzk7u-7,lower-latin) ". "}.lst-kix_3vj5z9behcl1-6>li{counter-increment:lst-ctn-kix_3vj5z9behcl1-6}ul.lst-kix_m8mqfhiovwl-0{list-style-type:none}.lst-kix_mvwurm2wk0z0-5>li:before{content:"" counter(lst-ctn-kix_mvwurm2wk0z0-5,lower-roman) ". "}ul.lst-kix_m8mqfhiovwl-1{list-style-type:none}ul.lst-kix_m8mqfhiovwl-2{list-style-type:none}ul.lst-kix_m8mqfhiovwl-3{list-style-type:none}ul.lst-kix_m8mqfhiovwl-4{list-style-type:none}ol.lst-kix_j8m1cqcs8t5n-8{list-style-type:none}ol.lst-kix_j8m1cqcs8t5n-7{list-style-type:none}.lst-kix_ae2kguhc9rtx-8>li:before{content:"\0025a0  "}.lst-kix_mlk6dnhjzk7u-3>li:before{content:"" counter(lst-ctn-kix_mlk6dnhjzk7u-3,decimal) ". "}.lst-kix_5wibt4kf5001-8>li:before{content:"\0025a0  "}ol.lst-kix_j8m1cqcs8t5n-6{list-style-type:none}ol.lst-kix_2g1cy18v17xb-0.start{counter-reset:lst-ctn-kix_2g1cy18v17xb-0 0}ol.lst-kix_rztvt1qt68k4-0.start{counter-reset:lst-ctn-kix_rztvt1qt68k4-0 0}ol.lst-kix_j8m1cqcs8t5n-5{list-style-type:none}ol.lst-kix_j8m1cqcs8t5n-4{list-style-type:none}ol.lst-kix_j8m1cqcs8t5n-3{list-style-type:none}.lst-kix_2g1cy18v17xb-5>li{counter-increment:lst-ctn-kix_2g1cy18v17xb-5}ol.lst-kix_j8m1cqcs8t5n-2{list-style-type:none}.lst-kix_pug38gcm3mfz-7>li{counter-increment:lst-ctn-kix_pug38gcm3mfz-7}.lst-kix_mvwurm2wk0z0-6>li:before{content:"" counter(lst-ctn-kix_mvwurm2wk0z0-6,decimal) ". "}ol.lst-kix_2v6s1svct7dg-3.start{counter-reset:lst-ctn-kix_2v6s1svct7dg-3 0}.lst-kix_ae2kguhc9rtx-4>li:before{content:"\0025cb  "}.lst-kix_ae2kguhc9rtx-7>li:before{content:"\0025cb  "}.lst-kix_ry2l2t3q0bf2-6>li:before{content:"" counter(lst-ctn-kix_ry2l2t3q0bf2-6,decimal) ". "}.lst-kix_ry2l2t3q0bf2-7>li:before{content:"" counter(lst-ctn-kix_ry2l2t3q0bf2-7,lower-latin) ". "}.lst-kix_og0h44h11kom-4>li{counter-increment:lst-ctn-kix_og0h44h11kom-4}ol.lst-kix_cg3ztxy94g5y-3.start{counter-reset:lst-ctn-kix_cg3ztxy94g5y-3 0}.lst-kix_mvwurm2wk0z0-0>li:before{content:"" counter(lst-ctn-kix_mvwurm2wk0z0-0,decimal) ". "}.lst-kix_tiqzyj3jp3gs-1>li:before{content:"\0025cb  "}.lst-kix_mvwurm2wk0z0-3>li:before{content:"" counter(lst-ctn-kix_mvwurm2wk0z0-3,decimal) ". "}.lst-kix_mlk6dnhjzk7u-0>li:before{content:"" counter(lst-ctn-kix_mlk6dnhjzk7u-0,decimal) ". "}.lst-kix_vu8ackanrfrr-1>li:before{content:"" counter(lst-ctn-kix_vu8ackanrfrr-1,lower-latin) ". "}ol.lst-kix_j8m1cqcs8t5n-8.start{counter-reset:lst-ctn-kix_j8m1cqcs8t5n-8 0}.lst-kix_231qltjiej1b-6>li{counter-increment:lst-ctn-kix_231qltjiej1b-6}.lst-kix_mvwurm2wk0z0-2>li:before{content:"" counter(lst-ctn-kix_mvwurm2wk0z0-2,lower-roman) ". "}.lst-kix_n74u8poefvny-4>li:before{content:"" counter(lst-ctn-kix_n74u8poefvny-4,lower-latin) ". "}ol.lst-kix_nyn4osmxptvt-6.start{counter-reset:lst-ctn-kix_nyn4osmxptvt-6 0}.lst-kix_2wzv0c37mscg-0>li{counter-increment:lst-ctn-kix_2wzv0c37mscg-0}.lst-kix_mqxs1xcxmw0p-8>li:before{content:"\0025a0  "}ol.lst-kix_6no4tthr2wo1-1.start{counter-reset:lst-ctn-kix_6no4tthr2wo1-1 0}.lst-kix_mqxs1xcxmw0p-4>li:before{content:"\0025cb  "}.lst-kix_lfh56zd88abz-1>li:before{content:"\0025cb  "}.lst-kix_5wibt4kf5001-4>li:before{content:"\0025cb  "}ol.lst-kix_5y6fjlsif51k-8.start{counter-reset:lst-ctn-kix_5y6fjlsif51k-8 0}ol.lst-kix_mvwurm2wk0z0-2.start{counter-reset:lst-ctn-kix_mvwurm2wk0z0-2 0}ol.lst-kix_231qltjiej1b-0.start{counter-reset:lst-ctn-kix_231qltjiej1b-0 0}ol.lst-kix_og0h44h11kom-0{list-style-type:none}ol.lst-kix_og0h44h11kom-1{list-style-type:none}.lst-kix_djxeid5213p-7>li:before{content:"" counter(lst-ctn-kix_djxeid5213p-7,lower-latin) ". "}ol.lst-kix_og0h44h11kom-4{list-style-type:none}ol.lst-kix_og0h44h11kom-5{list-style-type:none}ol.lst-kix_og0h44h11kom-2{list-style-type:none}ol.lst-kix_og0h44h11kom-3{list-style-type:none}ul.lst-kix_70i2e22v5l2-8{list-style-type:none}.lst-kix_tcwr7sx3qmaw-2>li{counter-increment:lst-ctn-kix_tcwr7sx3qmaw-2}.lst-kix_9agb6svh85y5-3>li{counter-increment:lst-ctn-kix_9agb6svh85y5-3}ul.lst-kix_70i2e22v5l2-7{list-style-type:none}ul.lst-kix_70i2e22v5l2-6{list-style-type:none}.lst-kix_cg3ztxy94g5y-3>li{counter-increment:lst-ctn-kix_cg3ztxy94g5y-3}ul.lst-kix_70i2e22v5l2-5{list-style-type:none}ul.lst-kix_70i2e22v5l2-4{list-style-type:none}ul.lst-kix_70i2e22v5l2-3{list-style-type:none}ul.lst-kix_70i2e22v5l2-2{list-style-type:none}ul.lst-kix_70i2e22v5l2-1{list-style-type:none}.lst-kix_k4fu9hb01p68-5>li{counter-increment:lst-ctn-kix_k4fu9hb01p68-5}ol.lst-kix_2g1cy18v17xb-5.start{counter-reset:lst-ctn-kix_2g1cy18v17xb-5 0}ul.lst-kix_70i2e22v5l2-0{list-style-type:none}ol.lst-kix_q1dqwj8wphtj-8{list-style-type:none}ol.lst-kix_q1dqwj8wphtj-7{list-style-type:none}.lst-kix_8vs3c95uml8g-4>li{counter-increment:lst-ctn-kix_8vs3c95uml8g-4}ol.lst-kix_q1dqwj8wphtj-6{list-style-type:none}.lst-kix_lfh56zd88abz-5>li:before{content:"\0025a0  "}ol.lst-kix_q1dqwj8wphtj-5{list-style-type:none}ol.lst-kix_q1dqwj8wphtj-4{list-style-type:none}ol.lst-kix_q1dqwj8wphtj-3{list-style-type:none}ol.lst-kix_q1dqwj8wphtj-2{list-style-type:none}.lst-kix_n74u8poefvny-0>li:before{content:"" counter(lst-ctn-kix_n74u8poefvny-0,decimal) ". "}ol.lst-kix_q1dqwj8wphtj-1{list-style-type:none}ol.lst-kix_og0h44h11kom-8{list-style-type:none}ol.lst-kix_q1dqwj8wphtj-0{list-style-type:none}.lst-kix_djxeid5213p-3>li:before{content:"" counter(lst-ctn-kix_djxeid5213p-3,decimal) ". "}ol.lst-kix_og0h44h11kom-6{list-style-type:none}.lst-kix_lfh56zd88abz-7>li:before{content:"\0025cb  "}ol.lst-kix_cg3ztxy94g5y-8.start{counter-reset:lst-ctn-kix_cg3ztxy94g5y-8 0}ol.lst-kix_og0h44h11kom-7{list-style-type:none}.lst-kix_pug38gcm3mfz-1>li:before{content:"" counter(lst-ctn-kix_pug38gcm3mfz-1,lower-latin) ". "}.lst-kix_lcivzm6bc10p-5>li:before{content:"\0025a0  "}ol.lst-kix_2wzv0c37mscg-2.start{counter-reset:lst-ctn-kix_2wzv0c37mscg-2 0}.lst-kix_lcivzm6bc10p-7>li:before{content:"\0025cb  "}ol.lst-kix_djxeid5213p-5.start{counter-reset:lst-ctn-kix_djxeid5213p-5 0}ol.lst-kix_ccmzo2unoagl-5.start{counter-reset:lst-ctn-kix_ccmzo2unoagl-5 0}.lst-kix_ydcqnhnvg283-7>li:before{content:"" counter(lst-ctn-kix_ydcqnhnvg283-7,lower-latin) ". "}ul.lst-kix_gs67zzu7w7z9-0{list-style-type:none}ul.lst-kix_gs67zzu7w7z9-1{list-style-type:none}ul.lst-kix_gs67zzu7w7z9-2{list-style-type:none}ul.lst-kix_gs67zzu7w7z9-3{list-style-type:none}ul.lst-kix_gs67zzu7w7z9-4{list-style-type:none}ul.lst-kix_gs67zzu7w7z9-5{list-style-type:none}.lst-kix_ydcqnhnvg283-3>li:before{content:"" counter(lst-ctn-kix_ydcqnhnvg283-3,decimal) ". "}ul.lst-kix_gs67zzu7w7z9-6{list-style-type:none}.lst-kix_2wzv0c37mscg-8>li{counter-increment:lst-ctn-kix_2wzv0c37mscg-8}.lst-kix_zcvl3fbc6do4-1>li{counter-increment:lst-ctn-kix_zcvl3fbc6do4-1}ol.lst-kix_kjf8zdvo1lyf-2{list-style-type:none}ul.lst-kix_gs67zzu7w7z9-7{list-style-type:none}ol.lst-kix_kjf8zdvo1lyf-1{list-style-type:none}ul.lst-kix_gs67zzu7w7z9-8{list-style-type:none}ol.lst-kix_kjf8zdvo1lyf-0{list-style-type:none}ul.lst-kix_3ihm6str0kxg-0{list-style-type:none}ol.lst-kix_kjf8zdvo1lyf-6{list-style-type:none}ol.lst-kix_kjf8zdvo1lyf-5{list-style-type:none}ol.lst-kix_kjf8zdvo1lyf-4{list-style-type:none}ol.lst-kix_kjf8zdvo1lyf-3{list-style-type:none}.lst-kix_pug38gcm3mfz-5>li:before{content:"" counter(lst-ctn-kix_pug38gcm3mfz-5,lower-roman) ". "}.lst-kix_6no4tthr2wo1-5>li:before{content:"" counter(lst-ctn-kix_6no4tthr2wo1-5,lower-roman) ". "}ol.lst-kix_kjf8zdvo1lyf-8{list-style-type:none}ol.lst-kix_kjf8zdvo1lyf-7{list-style-type:none}.lst-kix_tauxjktfe261-1>li:before{content:"\0025cb  "}ul.lst-kix_3ihm6str0kxg-8{list-style-type:none}ul.lst-kix_3ihm6str0kxg-7{list-style-type:none}ul.lst-kix_3ihm6str0kxg-6{list-style-type:none}ol.lst-kix_4a5cw2dlleht-5.start{counter-reset:lst-ctn-kix_4a5cw2dlleht-5 0}ul.lst-kix_3ihm6str0kxg-5{list-style-type:none}ul.lst-kix_3ihm6str0kxg-4{list-style-type:none}.lst-kix_vahsii3hvprg-1>li{counter-increment:lst-ctn-kix_vahsii3hvprg-1}ul.lst-kix_3ihm6str0kxg-3{list-style-type:none}ul.lst-kix_3ihm6str0kxg-2{list-style-type:none}.lst-kix_g5hw4owq9gm6-3>li{counter-increment:lst-ctn-kix_g5hw4owq9gm6-3}ul.lst-kix_3ihm6str0kxg-1{list-style-type:none}.lst-kix_tcwr7sx3qmaw-6>li:before{content:"" counter(lst-ctn-kix_tcwr7sx3qmaw-6,decimal) ". "}.lst-kix_6lbfx97xtcef-0>li:before{content:"" counter(lst-ctn-kix_6lbfx97xtcef-0,decimal) ". "}.lst-kix_tauxjktfe261-5>li:before{content:"\0025a0  "}.lst-kix_vahsii3hvprg-1>li:before{content:"" counter(lst-ctn-kix_vahsii3hvprg-1,lower-latin) ". "}ol.lst-kix_r0n1ukoeko9i-1.start{counter-reset:lst-ctn-kix_r0n1ukoeko9i-1 0}.lst-kix_8o0dmiuwe0b-3>li:before{content:"" counter(lst-ctn-kix_8o0dmiuwe0b-3,decimal) ". "}.lst-kix_tauxjktfe261-7>li:before{content:"\0025cb  "}ol.lst-kix_3m69r918o16y-4.start{counter-reset:lst-ctn-kix_3m69r918o16y-4 0}.lst-kix_lcivzm6bc10p-1>li:before{content:"\0025cb  "}.lst-kix_o4csfsvt568i-7>li{counter-increment:lst-ctn-kix_o4csfsvt568i-7}.lst-kix_3ihm6str0kxg-5>li:before{content:"\0025a0  "}ul.lst-kix_2epif0ienwnx-3{list-style-type:none}ul.lst-kix_2epif0ienwnx-2{list-style-type:none}ul.lst-kix_2epif0ienwnx-1{list-style-type:none}.lst-kix_ccmzo2unoagl-4>li:before{content:"" counter(lst-ctn-kix_ccmzo2unoagl-4,lower-latin) ". "}ul.lst-kix_2epif0ienwnx-0{list-style-type:none}.lst-kix_1scnce6wk35f-8>li:before{content:"" counter(lst-ctn-kix_1scnce6wk35f-8,lower-roman) ". "}.lst-kix_89ivjl2uxnp3-7>li:before{content:"" counter(lst-ctn-kix_89ivjl2uxnp3-7,lower-latin) ". "}ol.lst-kix_9uwxlic953dp-8.start{counter-reset:lst-ctn-kix_9uwxlic953dp-8 0}.lst-kix_1scnce6wk35f-4>li:before{content:"" counter(lst-ctn-kix_1scnce6wk35f-4,lower-latin) ". "}.lst-kix_5y6fjlsif51k-5>li{counter-increment:lst-ctn-kix_5y6fjlsif51k-5}.lst-kix_mhuhx3jkg1i5-8>li:before{content:"\0025a0  "}ul.lst-kix_2epif0ienwnx-8{list-style-type:none}.lst-kix_tcwr7sx3qmaw-0>li:before{content:"" counter(lst-ctn-kix_tcwr7sx3qmaw-0,decimal) ". "}ul.lst-kix_nbgultvqf3c-8{list-style-type:none}ul.lst-kix_2epif0ienwnx-7{list-style-type:none}.lst-kix_89ivjl2uxnp3-8>li:before{content:"" counter(lst-ctn-kix_89ivjl2uxnp3-8,lower-roman) ". "}ul.lst-kix_2epif0ienwnx-6{list-style-type:none}ul.lst-kix_2epif0ienwnx-5{list-style-type:none}ul.lst-kix_2epif0ienwnx-4{list-style-type:none}.lst-kix_jzsgaky6g7z3-8>li{counter-increment:lst-ctn-kix_jzsgaky6g7z3-8}.lst-kix_um1ceofb3c39-0>li{counter-increment:lst-ctn-kix_um1ceofb3c39-0}.lst-kix_tcwr7sx3qmaw-3>li:before{content:"" counter(lst-ctn-kix_tcwr7sx3qmaw-3,decimal) ". "}.lst-kix_kjf8zdvo1lyf-3>li{counter-increment:lst-ctn-kix_kjf8zdvo1lyf-3}ul.lst-kix_tiqzyj3jp3gs-8{list-style-type:none}ul.lst-kix_tiqzyj3jp3gs-7{list-style-type:none}ul.lst-kix_tiqzyj3jp3gs-6{list-style-type:none}ul.lst-kix_tiqzyj3jp3gs-5{list-style-type:none}ul.lst-kix_tiqzyj3jp3gs-4{list-style-type:none}ul.lst-kix_tiqzyj3jp3gs-3{list-style-type:none}ul.lst-kix_tiqzyj3jp3gs-2{list-style-type:none}ul.lst-kix_tiqzyj3jp3gs-1{list-style-type:none}ul.lst-kix_tiqzyj3jp3gs-0{list-style-type:none}ul.lst-kix_nbgultvqf3c-4{list-style-type:none}.lst-kix_n6de3aaazbqx-3>li:before{content:"\0025cf  "}.lst-kix_m8mqfhiovwl-7>li:before{content:"\0025cb  "}ul.lst-kix_nbgultvqf3c-5{list-style-type:none}ol.lst-kix_r0n1ukoeko9i-2.start{counter-reset:lst-ctn-kix_r0n1ukoeko9i-2 0}ul.lst-kix_nbgultvqf3c-6{list-style-type:none}ul.lst-kix_nbgultvqf3c-7{list-style-type:none}ul.lst-kix_nbgultvqf3c-0{list-style-type:none}ul.lst-kix_nbgultvqf3c-1{list-style-type:none}ul.lst-kix_nbgultvqf3c-2{list-style-type:none}.lst-kix_n6de3aaazbqx-0>li:before{content:"\0025cf  "}ul.lst-kix_nbgultvqf3c-3{list-style-type:none}ol.lst-kix_eeflv3tx7x8-3.start{counter-reset:lst-ctn-kix_eeflv3tx7x8-3 0}ol.lst-kix_o4csfsvt568i-4.start{counter-reset:lst-ctn-kix_o4csfsvt568i-4 0}.lst-kix_89ivjl2uxnp3-4>li:before{content:"" counter(lst-ctn-kix_89ivjl2uxnp3-4,lower-latin) ". "}ol.lst-kix_5y6fjlsif51k-7.start{counter-reset:lst-ctn-kix_5y6fjlsif51k-7 0}.lst-kix_zcvl3fbc6do4-2>li:before{content:"" counter(lst-ctn-kix_zcvl3fbc6do4-2,lower-roman) ". "}.lst-kix_1scnce6wk35f-7>li:before{content:"" counter(lst-ctn-kix_1scnce6wk35f-7,lower-latin) ". "}ol.lst-kix_mlk6dnhjzk7u-0.start{counter-reset:lst-ctn-kix_mlk6dnhjzk7u-0 0}.lst-kix_n74u8poefvny-3>li{counter-increment:lst-ctn-kix_n74u8poefvny-3}.lst-kix_ccmzo2unoagl-2>li{counter-increment:lst-ctn-kix_ccmzo2unoagl-2}.lst-kix_mlk6dnhjzk7u-6>li{counter-increment:lst-ctn-kix_mlk6dnhjzk7u-6}.lst-kix_3m69r918o16y-7>li:before{content:"" counter(lst-ctn-kix_3m69r918o16y-7,lower-latin) ". "}.lst-kix_8o0dmiuwe0b-2>li{counter-increment:lst-ctn-kix_8o0dmiuwe0b-2}ol.lst-kix_rztvt1qt68k4-1.start{counter-reset:lst-ctn-kix_rztvt1qt68k4-1 0}ol.lst-kix_2v6s1svct7dg-4.start{counter-reset:lst-ctn-kix_2v6s1svct7dg-4 0}ol.lst-kix_nz0lhoo7aztq-8.start{counter-reset:lst-ctn-kix_nz0lhoo7aztq-8 0}ol.lst-kix_nyn4osmxptvt-7.start{counter-reset:lst-ctn-kix_nyn4osmxptvt-7 0}ol.lst-kix_eeflv3tx7x8-8.start{counter-reset:lst-ctn-kix_eeflv3tx7x8-8 0}.lst-kix_ccmzo2unoagl-7>li:before{content:"" counter(lst-ctn-kix_ccmzo2unoagl-7,lower-latin) ". "}.lst-kix_pug38gcm3mfz-1>li{counter-increment:lst-ctn-kix_pug38gcm3mfz-1}.lst-kix_nbgultvqf3c-8>li:before{content:"\0025a0  "}.lst-kix_ccmzo2unoagl-8>li:before{content:"" counter(lst-ctn-kix_ccmzo2unoagl-8,lower-roman) ". "}ol.lst-kix_vahsii3hvprg-5.start{counter-reset:lst-ctn-kix_vahsii3hvprg-5 0}.lst-kix_um1ceofb3c39-5>li{counter-increment:lst-ctn-kix_um1ceofb3c39-5}.lst-kix_ijpqatjyilkj-7>li:before{content:"\0025cb  "}.lst-kix_9uwxlic953dp-6>li{counter-increment:lst-ctn-kix_9uwxlic953dp-6}.lst-kix_6lbfx97xtcef-4>li{counter-increment:lst-ctn-kix_6lbfx97xtcef-4}.lst-kix_mqxs1xcxmw0p-7>li:before{content:"\0025cb  "}.lst-kix_5y6fjlsif51k-0>li{counter-increment:lst-ctn-kix_5y6fjlsif51k-0}ol.lst-kix_8o0dmiuwe0b-0.start{counter-reset:lst-ctn-kix_8o0dmiuwe0b-0 0}.lst-kix_9agb6svh85y5-4>li{counter-increment:lst-ctn-kix_9agb6svh85y5-4}ol.lst-kix_o4csfsvt568i-3.start{counter-reset:lst-ctn-kix_o4csfsvt568i-3 0}.lst-kix_5wibt4kf5001-7>li:before{content:"\0025cb  "}ol.lst-kix_w2m28ilmo2lu-0{list-style-type:none}ol.lst-kix_w2m28ilmo2lu-3{list-style-type:none}ol.lst-kix_mlk6dnhjzk7u-5.start{counter-reset:lst-ctn-kix_mlk6dnhjzk7u-5 0}ol.lst-kix_w2m28ilmo2lu-4{list-style-type:none}.lst-kix_ydcqnhnvg283-6>li{counter-increment:lst-ctn-kix_ydcqnhnvg283-6}ol.lst-kix_w2m28ilmo2lu-1{list-style-type:none}ol.lst-kix_w2m28ilmo2lu-2{list-style-type:none}ol.lst-kix_eeflv3tx7x8-2.start{counter-reset:lst-ctn-kix_eeflv3tx7x8-2 0}ol.lst-kix_w2m28ilmo2lu-7{list-style-type:none}ol.lst-kix_w2m28ilmo2lu-8{list-style-type:none}ol.lst-kix_w2m28ilmo2lu-5{list-style-type:none}ol.lst-kix_w2m28ilmo2lu-6{list-style-type:none}ol.lst-kix_u7fc8e9svd3w-0{list-style-type:none}.lst-kix_djxeid5213p-6>li:before{content:"" counter(lst-ctn-kix_djxeid5213p-6,decimal) ". "}.lst-kix_ry2l2t3q0bf2-3>li{counter-increment:lst-ctn-kix_ry2l2t3q0bf2-3}.lst-kix_demv1nd5mcc4-0>li{counter-increment:lst-ctn-kix_demv1nd5mcc4-0}ol.lst-kix_3m69r918o16y-0.start{counter-reset:lst-ctn-kix_3m69r918o16y-0 0}ol.lst-kix_u7fc8e9svd3w-2{list-style-type:none}ol.lst-kix_u7fc8e9svd3w-1{list-style-type:none}.lst-kix_bp14me61tv7k-1>li:before{content:"\0025cb  "}ol.lst-kix_9uwxlic953dp-4.start{counter-reset:lst-ctn-kix_9uwxlic953dp-4 0}ol.lst-kix_u7fc8e9svd3w-4{list-style-type:none}.lst-kix_og0h44h11kom-5>li{counter-increment:lst-ctn-kix_og0h44h11kom-5}ol.lst-kix_u7fc8e9svd3w-3{list-style-type:none}ol.lst-kix_8o0dmiuwe0b-3.start{counter-reset:lst-ctn-kix_8o0dmiuwe0b-3 0}ol.lst-kix_u7fc8e9svd3w-6{list-style-type:none}ol.lst-kix_u7fc8e9svd3w-5{list-style-type:none}ol.lst-kix_u7fc8e9svd3w-8{list-style-type:none}ol.lst-kix_u7fc8e9svd3w-7{list-style-type:none}.lst-kix_9uwxlic953dp-3>li:before{content:"" counter(lst-ctn-kix_9uwxlic953dp-3,decimal) ". "}ol.lst-kix_r0n1ukoeko9i-6.start{counter-reset:lst-ctn-kix_r0n1ukoeko9i-6 0}.lst-kix_6lbfx97xtcef-2>li{counter-increment:lst-ctn-kix_6lbfx97xtcef-2}ol.lst-kix_cg3ztxy94g5y-2.start{counter-reset:lst-ctn-kix_cg3ztxy94g5y-2 0}.lst-kix_r0n1ukoeko9i-8>li{counter-increment:lst-ctn-kix_r0n1ukoeko9i-8}ol.lst-kix_vahsii3hvprg-0.start{counter-reset:lst-ctn-kix_vahsii3hvprg-0 0}.lst-kix_lfh56zd88abz-4>li:before{content:"\0025cb  "}.lst-kix_lfh56zd88abz-8>li:before{content:"\0025a0  "}.lst-kix_n74u8poefvny-1>li:before{content:"" counter(lst-ctn-kix_n74u8poefvny-1,lower-latin) ". "}.lst-kix_cflgkiusf2ss-8>li:before{content:"-  "}.lst-kix_jzsgaky6g7z3-8>li:before{content:"" counter(lst-ctn-kix_jzsgaky6g7z3-8,lower-roman) ". "}.lst-kix_lcivzm6bc10p-4>li:before{content:"\0025cb  "}ol.lst-kix_9uwxlic953dp-3.start{counter-reset:lst-ctn-kix_9uwxlic953dp-3 0}.lst-kix_4a5cw2dlleht-4>li{counter-increment:lst-ctn-kix_4a5cw2dlleht-4}.lst-kix_1znearomzlt0-6>li:before{content:"\0025cf  "}.lst-kix_pug38gcm3mfz-2>li:before{content:"" counter(lst-ctn-kix_pug38gcm3mfz-2,lower-roman) ". "}.lst-kix_ydcqnhnvg283-6>li:before{content:"" counter(lst-ctn-kix_ydcqnhnvg283-6,decimal) ". "}.lst-kix_o4csfsvt568i-5>li:before{content:"" counter(lst-ctn-kix_o4csfsvt568i-5,lower-roman) ". "}.lst-kix_tauxjktfe261-4>li:before{content:"\0025cb  "}.lst-kix_3vj5z9behcl1-7>li{counter-increment:lst-ctn-kix_3vj5z9behcl1-7}.lst-kix_6no4tthr2wo1-2>li:before{content:"" counter(lst-ctn-kix_6no4tthr2wo1-2,lower-roman) ". "}ol.lst-kix_mlk6dnhjzk7u-3.start{counter-reset:lst-ctn-kix_mlk6dnhjzk7u-3 0}.lst-kix_u5ht8watzdqo-5>li:before{content:"\0025a0  "}.lst-kix_lcivzm6bc10p-8>li:before{content:"\0025a0  "}.lst-kix_pjnl93gc3004-2>li{counter-increment:lst-ctn-kix_pjnl93gc3004-2}.lst-kix_j2km2ok9rn2f-5>li:before{content:"" counter(lst-ctn-kix_j2km2ok9rn2f-5,lower-roman) ". "}ol.lst-kix_5y6fjlsif51k-3.start{counter-reset:lst-ctn-kix_5y6fjlsif51k-3 0}.lst-kix_mvwurm2wk0z0-7>li{counter-increment:lst-ctn-kix_mvwurm2wk0z0-7}.lst-kix_6lbfx97xtcef-3>li:before{content:"" counter(lst-ctn-kix_6lbfx97xtcef-3,decimal) ". "}.lst-kix_jzsgaky6g7z3-3>li{counter-increment:lst-ctn-kix_jzsgaky6g7z3-3}.lst-kix_mlk6dnhjzk7u-8>li{counter-increment:lst-ctn-kix_mlk6dnhjzk7u-8}.lst-kix_djxeid5213p-0>li{counter-increment:lst-ctn-kix_djxeid5213p-0}.lst-kix_3ihm6str0kxg-8>li:before{content:"\0025a0  "}ol.lst-kix_r0n1ukoeko9i-7.start{counter-reset:lst-ctn-kix_r0n1ukoeko9i-7 0}.lst-kix_tcwr7sx3qmaw-4>li{counter-increment:lst-ctn-kix_tcwr7sx3qmaw-4}ol.lst-kix_vahsii3hvprg-2.start{counter-reset:lst-ctn-kix_vahsii3hvprg-2 0}.lst-kix_h61urw5blhfz-0>li{counter-increment:lst-ctn-kix_h61urw5blhfz-0}.lst-kix_tauxjktfe261-8>li:before{content:"\0025a0  "}ol.lst-kix_5y6fjlsif51k-2.start{counter-reset:lst-ctn-kix_5y6fjlsif51k-2 0}.lst-kix_8o0dmiuwe0b-0>li:before{content:"" counter(lst-ctn-kix_8o0dmiuwe0b-0,decimal) ". "}.lst-kix_unslttc25noj-2>li:before{content:"\0025a0  "}ol.lst-kix_5y6fjlsif51k-4.start{counter-reset:lst-ctn-kix_5y6fjlsif51k-4 0}.lst-kix_2v6s1svct7dg-4>li{counter-increment:lst-ctn-kix_2v6s1svct7dg-4}.lst-kix_2wzv0c37mscg-6>li{counter-increment:lst-ctn-kix_2wzv0c37mscg-6}.lst-kix_unslttc25noj-5>li:before{content:"\0025a0  "}.lst-kix_pjnl93gc3004-4>li:before{content:"" counter(lst-ctn-kix_pjnl93gc3004-4,lower-latin) ". "}.lst-kix_2g1cy18v17xb-2>li:before{content:"" counter(lst-ctn-kix_2g1cy18v17xb-2,lower-roman) ". "}.lst-kix_r0n1ukoeko9i-3>li{counter-increment:lst-ctn-kix_r0n1ukoeko9i-3}.lst-kix_8o0dmiuwe0b-5>li{counter-increment:lst-ctn-kix_8o0dmiuwe0b-5}.lst-kix_pjnl93gc3004-7>li:before{content:"" counter(lst-ctn-kix_pjnl93gc3004-7,lower-latin) ". "}.lst-kix_unslttc25noj-8>li:before{content:"\0025a0  "}.lst-kix_k7cvqq8ohnqa-6>li:before{content:"\0025cf  "}.lst-kix_9agb6svh85y5-4>li:before{content:"" counter(lst-ctn-kix_9agb6svh85y5-4,lower-latin) ". "}.lst-kix_9uwxlic953dp-0>li{counter-increment:lst-ctn-kix_9uwxlic953dp-0}ol.lst-kix_2g1cy18v17xb-0{list-style-type:none}ol.lst-kix_2g1cy18v17xb-1{list-style-type:none}.lst-kix_u5ht8watzdqo-2>li:before{content:"\0025a0  "}ol.lst-kix_6no4tthr2wo1-2.start{counter-reset:lst-ctn-kix_6no4tthr2wo1-2 0}.lst-kix_ijvyr9rw1jkb-0>li{counter-increment:lst-ctn-kix_ijvyr9rw1jkb-0}.lst-kix_99kco6cmz88s-8>li:before{content:"" counter(lst-ctn-kix_99kco6cmz88s-8,lower-roman) ". "}.lst-kix_scdn9fkfpojm-7>li:before{content:"" counter(lst-ctn-kix_scdn9fkfpojm-7,lower-latin) ". "}ol.lst-kix_2g1cy18v17xb-8{list-style-type:none}.lst-kix_v3y9rkuhngfi-8>li:before{content:"" counter(lst-ctn-kix_v3y9rkuhngfi-8,lower-roman) ". "}ol.lst-kix_2g1cy18v17xb-6{list-style-type:none}.lst-kix_vgyg99bsujsi-1>li:before{content:"\0025cb  "}.lst-kix_vgyg99bsujsi-7>li:before{content:"\0025cb  "}ol.lst-kix_2g1cy18v17xb-7{list-style-type:none}ol.lst-kix_2g1cy18v17xb-4{list-style-type:none}ol.lst-kix_o4csfsvt568i-7.start{counter-reset:lst-ctn-kix_o4csfsvt568i-7 0}ol.lst-kix_2g1cy18v17xb-5{list-style-type:none}ol.lst-kix_2g1cy18v17xb-2{list-style-type:none}ol.lst-kix_2g1cy18v17xb-3{list-style-type:none}.lst-kix_u7fc8e9svd3w-4>li:before{content:"" counter(lst-ctn-kix_u7fc8e9svd3w-4,lower-latin) ". "}ol.lst-kix_ccmzo2unoagl-1.start{counter-reset:lst-ctn-kix_ccmzo2unoagl-1 0}.lst-kix_v3y9rkuhngfi-2>li:before{content:"" counter(lst-ctn-kix_v3y9rkuhngfi-2,lower-roman) ". "}.lst-kix_99kco6cmz88s-2>li:before{content:"" counter(lst-ctn-kix_99kco6cmz88s-2,lower-roman) ". "}ol.lst-kix_vahsii3hvprg-7.start{counter-reset:lst-ctn-kix_vahsii3hvprg-7 0}.lst-kix_v3y9rkuhngfi-5>li:before{content:"" counter(lst-ctn-kix_v3y9rkuhngfi-5,lower-roman) ". "}.lst-kix_tbb8lbzcx158-3>li:before{content:"\0025cf  "}.lst-kix_scdn9fkfpojm-4>li:before{content:"" counter(lst-ctn-kix_scdn9fkfpojm-4,lower-latin) ". "}ol.lst-kix_2wzv0c37mscg-6.start{counter-reset:lst-ctn-kix_2wzv0c37mscg-6 0}.lst-kix_tbb8lbzcx158-6>li:before{content:"\0025cf  "}.lst-kix_99kco6cmz88s-5>li:before{content:"" counter(lst-ctn-kix_99kco6cmz88s-5,lower-roman) ". "}ol.lst-kix_mvwurm2wk0z0-1.start{counter-reset:lst-ctn-kix_mvwurm2wk0z0-1 0}ol.lst-kix_pjnl93gc3004-8.start{counter-reset:lst-ctn-kix_pjnl93gc3004-8 0}.lst-kix_u7fc8e9svd3w-1>li:before{content:"" counter(lst-ctn-kix_u7fc8e9svd3w-1,lower-latin) ". "}.lst-kix_vgyg99bsujsi-4>li:before{content:"\0025cb  "}ol.lst-kix_jzsgaky6g7z3-3.start{counter-reset:lst-ctn-kix_jzsgaky6g7z3-3 0}ol.lst-kix_r0n1ukoeko9i-5.start{counter-reset:lst-ctn-kix_r0n1ukoeko9i-5 0}ol.lst-kix_2g1cy18v17xb-1.start{counter-reset:lst-ctn-kix_2g1cy18v17xb-1 0}.lst-kix_kjf8zdvo1lyf-4>li:before{content:"" counter(lst-ctn-kix_kjf8zdvo1lyf-4,lower-latin) ". "}ol.lst-kix_8o0dmiuwe0b-5.start{counter-reset:lst-ctn-kix_8o0dmiuwe0b-5 0}ol.lst-kix_9uwxlic953dp-0.start{counter-reset:lst-ctn-kix_9uwxlic953dp-0 0}.lst-kix_5y6fjlsif51k-5>li:before{content:"" counter(lst-ctn-kix_5y6fjlsif51k-5,lower-roman) ". "}ol.lst-kix_231qltjiej1b-8.start{counter-reset:lst-ctn-kix_231qltjiej1b-8 0}.lst-kix_djxeid5213p-5>li{counter-increment:lst-ctn-kix_djxeid5213p-5}ol.lst-kix_ccmzo2unoagl-8.start{counter-reset:lst-ctn-kix_ccmzo2unoagl-8 0}.lst-kix_2wzv0c37mscg-8>li:before{content:"" counter(lst-ctn-kix_2wzv0c37mscg-8,lower-roman) ". "}.lst-kix_sq802hiknv0u-0>li:before{content:"\0025cf  "}.lst-kix_9agb6svh85y5-1>li:before{content:"" counter(lst-ctn-kix_9agb6svh85y5-1,lower-latin) ". "}.lst-kix_6no4tthr2wo1-4>li{counter-increment:lst-ctn-kix_6no4tthr2wo1-4}.lst-kix_nd89m1hvvn3x-7>li:before{content:"\0025cb  "}.lst-kix_w2m28ilmo2lu-7>li{counter-increment:lst-ctn-kix_w2m28ilmo2lu-7}ol.lst-kix_4a5cw2dlleht-8{list-style-type:none}.lst-kix_eeflv3tx7x8-4>li{counter-increment:lst-ctn-kix_eeflv3tx7x8-4}.lst-kix_5y6fjlsif51k-8>li:before{content:"" counter(lst-ctn-kix_5y6fjlsif51k-8,lower-roman) ". "}.lst-kix_nyn4osmxptvt-7>li:before{content:"" counter(lst-ctn-kix_nyn4osmxptvt-7,lower-latin) ". "}ol.lst-kix_4a5cw2dlleht-4{list-style-type:none}.lst-kix_sq802hiknv0u-6>li:before{content:"\0025cf  "}ol.lst-kix_4a5cw2dlleht-5{list-style-type:none}ol.lst-kix_4a5cw2dlleht-6{list-style-type:none}.lst-kix_j8m1cqcs8t5n-0>li{counter-increment:lst-ctn-kix_j8m1cqcs8t5n-0}ol.lst-kix_4a5cw2dlleht-7{list-style-type:none}ul.lst-kix_u5ht8watzdqo-0{list-style-type:none}ul.lst-kix_u5ht8watzdqo-1{list-style-type:none}.lst-kix_mvwurm2wk0z0-2>li{counter-increment:lst-ctn-kix_mvwurm2wk0z0-2}ul.lst-kix_u5ht8watzdqo-2{list-style-type:none}ol.lst-kix_eeflv3tx7x8-1.start{counter-reset:lst-ctn-kix_eeflv3tx7x8-1 0}.lst-kix_nd89m1hvvn3x-0>li:before{content:"\0025cf  "}ol.lst-kix_2g1cy18v17xb-6.start{counter-reset:lst-ctn-kix_2g1cy18v17xb-6 0}ol.lst-kix_231qltjiej1b-1.start{counter-reset:lst-ctn-kix_231qltjiej1b-1 0}ul.lst-kix_u5ht8watzdqo-7{list-style-type:none}.lst-kix_nyn4osmxptvt-4>li{counter-increment:lst-ctn-kix_nyn4osmxptvt-4}ul.lst-kix_u5ht8watzdqo-8{list-style-type:none}.lst-kix_nyn4osmxptvt-7>li{counter-increment:lst-ctn-kix_nyn4osmxptvt-7}ul.lst-kix_u5ht8watzdqo-3{list-style-type:none}.lst-kix_nyn4osmxptvt-4>li:before{content:"" counter(lst-ctn-kix_nyn4osmxptvt-4,lower-latin) ". "}ul.lst-kix_u5ht8watzdqo-4{list-style-type:none}.lst-kix_sq802hiknv0u-3>li:before{content:"\0025cf  "}ol.lst-kix_mvwurm2wk0z0-6.start{counter-reset:lst-ctn-kix_mvwurm2wk0z0-6 0}ul.lst-kix_u5ht8watzdqo-5{list-style-type:none}ul.lst-kix_u5ht8watzdqo-6{list-style-type:none}.lst-kix_89ivjl2uxnp3-8>li{counter-increment:lst-ctn-kix_89ivjl2uxnp3-8}.lst-kix_1scnce6wk35f-6>li{counter-increment:lst-ctn-kix_1scnce6wk35f-6}.lst-kix_djxeid5213p-8>li{counter-increment:lst-ctn-kix_djxeid5213p-8}.lst-kix_ijpqatjyilkj-4>li:before{content:"\0025cb  "}ol.lst-kix_pjnl93gc3004-1.start{counter-reset:lst-ctn-kix_pjnl93gc3004-1 0}ol.lst-kix_jzsgaky6g7z3-8.start{counter-reset:lst-ctn-kix_jzsgaky6g7z3-8 0}ol.lst-kix_4a5cw2dlleht-0{list-style-type:none}ol.lst-kix_4a5cw2dlleht-1{list-style-type:none}ol.lst-kix_4a5cw2dlleht-2{list-style-type:none}.lst-kix_3vj5z9behcl1-4>li{counter-increment:lst-ctn-kix_3vj5z9behcl1-4}ol.lst-kix_4a5cw2dlleht-3{list-style-type:none}ol.lst-kix_jzsgaky6g7z3-5.start{counter-reset:lst-ctn-kix_jzsgaky6g7z3-5 0}.lst-kix_cekjy5rtkev4-2>li:before{content:"\0025a0  "}ol.lst-kix_mlk6dnhjzk7u-8.start{counter-reset:lst-ctn-kix_mlk6dnhjzk7u-8 0}ol.lst-kix_ccmzo2unoagl-3.start{counter-reset:lst-ctn-kix_ccmzo2unoagl-3 0}ol.lst-kix_r0n1ukoeko9i-3.start{counter-reset:lst-ctn-kix_r0n1ukoeko9i-3 0}ol.lst-kix_rztvt1qt68k4-6.start{counter-reset:lst-ctn-kix_rztvt1qt68k4-6 0}ol.lst-kix_r0n1ukoeko9i-0.start{counter-reset:lst-ctn-kix_r0n1ukoeko9i-0 0}.lst-kix_3m69r918o16y-7>li{counter-increment:lst-ctn-kix_3m69r918o16y-7}.lst-kix_r0n1ukoeko9i-2>li:before{content:"" counter(lst-ctn-kix_r0n1ukoeko9i-2,lower-roman) ". "}.lst-kix_9uwxlic953dp-6>li:before{content:"" counter(lst-ctn-kix_9uwxlic953dp-6,decimal) ". "}ol.lst-kix_ydcqnhnvg283-7{list-style-type:none}.lst-kix_jzsgaky6g7z3-5>li:before{content:"" counter(lst-ctn-kix_jzsgaky6g7z3-5,lower-roman) ". "}ol.lst-kix_ydcqnhnvg283-6{list-style-type:none}ol.lst-kix_ydcqnhnvg283-8{list-style-type:none}ul.lst-kix_bp14me61tv7k-0{list-style-type:none}ul.lst-kix_bp14me61tv7k-1{list-style-type:none}ul.lst-kix_bp14me61tv7k-2{list-style-type:none}.lst-kix_beo0nvieqvft-1>li:before{content:"\0025cb  "}.lst-kix_beo0nvieqvft-7>li:before{content:"\0025cb  "}.lst-kix_5m5pl1amlgdu-1>li:before{content:"\0025cb  "}ul.lst-kix_bp14me61tv7k-3{list-style-type:none}ul.lst-kix_bp14me61tv7k-4{list-style-type:none}.lst-kix_lg8dkrfv0qcu-0>li{counter-increment:lst-ctn-kix_lg8dkrfv0qcu-0}.lst-kix_demv1nd5mcc4-3>li{counter-increment:lst-ctn-kix_demv1nd5mcc4-3}ul.lst-kix_bp14me61tv7k-5{list-style-type:none}ul.lst-kix_bp14me61tv7k-6{list-style-type:none}.lst-kix_231qltjiej1b-5>li:before{content:"" counter(lst-ctn-kix_231qltjiej1b-5,lower-roman) ". "}.lst-kix_ijvyr9rw1jkb-7>li:before{content:"" counter(lst-ctn-kix_ijvyr9rw1jkb-7,lower-latin) ". "}.lst-kix_og0h44h11kom-2>li{counter-increment:lst-ctn-kix_og0h44h11kom-2}.lst-kix_bp14me61tv7k-4>li:before{content:"\0025cb  "}.lst-kix_70i2e22v5l2-2>li:before{content:"\0025a0  "}.lst-kix_ijvyr9rw1jkb-1>li:before{content:"" counter(lst-ctn-kix_ijvyr9rw1jkb-1,lower-latin) ". "}.lst-kix_r0n1ukoeko9i-8>li:before{content:"" counter(lst-ctn-kix_r0n1ukoeko9i-8,lower-roman) ". "}.lst-kix_kjf8zdvo1lyf-7>li:before{content:"" counter(lst-ctn-kix_kjf8zdvo1lyf-7,lower-latin) ". "}.lst-kix_g5hw4owq9gm6-8>li{counter-increment:lst-ctn-kix_g5hw4owq9gm6-8}.lst-kix_5m5pl1amlgdu-7>li:before{content:"\0025cb  "}.lst-kix_2v6s1svct7dg-1>li:before{content:"" counter(lst-ctn-kix_2v6s1svct7dg-1,lower-latin) ". "}ol.lst-kix_rztvt1qt68k4-4.start{counter-reset:lst-ctn-kix_rztvt1qt68k4-4 0}.lst-kix_cflgkiusf2ss-5>li:before{content:"-  "}.lst-kix_9uwxlic953dp-3>li{counter-increment:lst-ctn-kix_9uwxlic953dp-3}ol.lst-kix_pjnl93gc3004-3.start{counter-reset:lst-ctn-kix_pjnl93gc3004-3 0}.lst-kix_um1ceofb3c39-8>li{counter-increment:lst-ctn-kix_um1ceofb3c39-8}.lst-kix_2v6s1svct7dg-7>li:before{content:"" counter(lst-ctn-kix_2v6s1svct7dg-7,lower-latin) ". "}ol.lst-kix_mvwurm2wk0z0-4.start{counter-reset:lst-ctn-kix_mvwurm2wk0z0-4 0}.lst-kix_5y6fjlsif51k-8>li{counter-increment:lst-ctn-kix_5y6fjlsif51k-8}.lst-kix_o4csfsvt568i-2>li:before{content:"" counter(lst-ctn-kix_o4csfsvt568i-2,lower-roman) ". "}ul.lst-kix_bp14me61tv7k-7{list-style-type:none}ul.lst-kix_bp14me61tv7k-8{list-style-type:none}.lst-kix_j2km2ok9rn2f-7>li{counter-increment:lst-ctn-kix_j2km2ok9rn2f-7}ol.lst-kix_2g1cy18v17xb-4.start{counter-reset:lst-ctn-kix_2g1cy18v17xb-4 0}.lst-kix_rs24r75b55qx-1>li:before{content:"\0025cb  "}.lst-kix_u7fc8e9svd3w-5>li{counter-increment:lst-ctn-kix_u7fc8e9svd3w-5}ol.lst-kix_ydcqnhnvg283-1{list-style-type:none}ol.lst-kix_ydcqnhnvg283-0{list-style-type:none}ol.lst-kix_ydcqnhnvg283-3{list-style-type:none}ol.lst-kix_ydcqnhnvg283-2{list-style-type:none}.lst-kix_1znearomzlt0-3>li:before{content:"\0025cf  "}ol.lst-kix_ydcqnhnvg283-5{list-style-type:none}ol.lst-kix_ydcqnhnvg283-4{list-style-type:none}.lst-kix_jzsgaky6g7z3-0>li{counter-increment:lst-ctn-kix_jzsgaky6g7z3-0}ol.lst-kix_8o0dmiuwe0b-8.start{counter-reset:lst-ctn-kix_8o0dmiuwe0b-8 0}.lst-kix_j2km2ok9rn2f-2>li:before{content:"" counter(lst-ctn-kix_j2km2ok9rn2f-2,lower-roman) ". "}.lst-kix_99kco6cmz88s-5>li{counter-increment:lst-ctn-kix_99kco6cmz88s-5}ol.lst-kix_mvwurm2wk0z0-3.start{counter-reset:lst-ctn-kix_mvwurm2wk0z0-3 0}ol.lst-kix_ccmzo2unoagl-6.start{counter-reset:lst-ctn-kix_ccmzo2unoagl-6 0}ol.lst-kix_6no4tthr2wo1-0.start{counter-reset:lst-ctn-kix_6no4tthr2wo1-0 0}.lst-kix_tcwr7sx3qmaw-7>li{counter-increment:lst-ctn-kix_tcwr7sx3qmaw-7}.lst-kix_j2km2ok9rn2f-1>li{counter-increment:lst-ctn-kix_j2km2ok9rn2f-1}ol.lst-kix_kvzqjuu34aac-6{list-style-type:none}.lst-kix_k7cvqq8ohnqa-3>li:before{content:"\0025cf  "}ol.lst-kix_kvzqjuu34aac-5{list-style-type:none}ol.lst-kix_kvzqjuu34aac-8{list-style-type:none}ol.lst-kix_kvzqjuu34aac-7{list-style-type:none}ol.lst-kix_kvzqjuu34aac-0{list-style-type:none}.lst-kix_4a5cw2dlleht-7>li{counter-increment:lst-ctn-kix_4a5cw2dlleht-7}.lst-kix_o4csfsvt568i-1>li{counter-increment:lst-ctn-kix_o4csfsvt568i-1}ol.lst-kix_kvzqjuu34aac-2{list-style-type:none}ol.lst-kix_kvzqjuu34aac-1{list-style-type:none}ol.lst-kix_2wzv0c37mscg-1.start{counter-reset:lst-ctn-kix_2wzv0c37mscg-1 0}.lst-kix_rs24r75b55qx-7>li:before{content:"\0025cb  "}ol.lst-kix_kvzqjuu34aac-4{list-style-type:none}ol.lst-kix_2g1cy18v17xb-3.start{counter-reset:lst-ctn-kix_2g1cy18v17xb-3 0}ol.lst-kix_kvzqjuu34aac-3{list-style-type:none}.lst-kix_lo7chw702g52-3>li:before{content:"\0025cf  "}ol.lst-kix_pjnl93gc3004-5.start{counter-reset:lst-ctn-kix_pjnl93gc3004-5 0}.lst-kix_89ivjl2uxnp3-1>li:before{content:"" counter(lst-ctn-kix_89ivjl2uxnp3-1,lower-latin) ". "}.lst-kix_4a5cw2dlleht-3>li:before{content:"" counter(lst-ctn-kix_4a5cw2dlleht-3,decimal) ". "}.lst-kix_89ivjl2uxnp3-2>li{counter-increment:lst-ctn-kix_89ivjl2uxnp3-2}ol.lst-kix_6no4tthr2wo1-5.start{counter-reset:lst-ctn-kix_6no4tthr2wo1-5 0}.lst-kix_mhuhx3jkg1i5-2>li:before{content:"\0025a0  "}.lst-kix_lo7chw702g52-0>li:before{content:"\0025cf  "}.lst-kix_ydcqnhnvg283-0>li{counter-increment:lst-ctn-kix_ydcqnhnvg283-0}.lst-kix_eeflv3tx7x8-4>li:before{content:"" counter(lst-ctn-kix_eeflv3tx7x8-4,lower-latin) ". "}ol.lst-kix_um1ceofb3c39-0{list-style-type:none}.lst-kix_1scnce6wk35f-1>li:before{content:"" counter(lst-ctn-kix_1scnce6wk35f-1,lower-latin) ". "}.lst-kix_v3y9rkuhngfi-4>li{counter-increment:lst-ctn-kix_v3y9rkuhngfi-4}.lst-kix_mhuhx3jkg1i5-5>li:before{content:"\0025a0  "}.lst-kix_m8mqfhiovwl-1>li:before{content:"\0025cb  "}.lst-kix_ccmzo2unoagl-1>li:before{content:"" counter(lst-ctn-kix_ccmzo2unoagl-1,lower-latin) ". "}.lst-kix_nz0lhoo7aztq-5>li:before{content:"" counter(lst-ctn-kix_nz0lhoo7aztq-5,lower-roman) ". "}.lst-kix_zcvl3fbc6do4-8>li:before{content:"" counter(lst-ctn-kix_zcvl3fbc6do4-8,lower-roman) ". "}.lst-kix_2yjh37mgtbm2-1>li:before{content:"\0025cb  "}ul.lst-kix_ynk1jb423v8p-5{list-style-type:none}ol.lst-kix_2wzv0c37mscg-3.start{counter-reset:lst-ctn-kix_2wzv0c37mscg-3 0}ol.lst-kix_um1ceofb3c39-2{list-style-type:none}.lst-kix_nz0lhoo7aztq-8>li:before{content:"" counter(lst-ctn-kix_nz0lhoo7aztq-8,lower-roman) ". "}.lst-kix_m8mqfhiovwl-4>li:before{content:"\0025cb  "}ul.lst-kix_ynk1jb423v8p-6{list-style-type:none}ol.lst-kix_um1ceofb3c39-1{list-style-type:none}ul.lst-kix_ynk1jb423v8p-7{list-style-type:none}ol.lst-kix_rztvt1qt68k4-8.start{counter-reset:lst-ctn-kix_rztvt1qt68k4-8 0}ol.lst-kix_um1ceofb3c39-4{list-style-type:none}ul.lst-kix_ynk1jb423v8p-8{list-style-type:none}ol.lst-kix_um1ceofb3c39-3{list-style-type:none}.lst-kix_demv1nd5mcc4-6>li{counter-increment:lst-ctn-kix_demv1nd5mcc4-6}ol.lst-kix_um1ceofb3c39-6{list-style-type:none}ol.lst-kix_um1ceofb3c39-5{list-style-type:none}ol.lst-kix_um1ceofb3c39-8{list-style-type:none}.lst-kix_n6de3aaazbqx-6>li:before{content:"\0025cf  "}ol.lst-kix_um1ceofb3c39-7{list-style-type:none}.lst-kix_vu8ackanrfrr-4>li{counter-increment:lst-ctn-kix_vu8ackanrfrr-4}.lst-kix_eeflv3tx7x8-7>li:before{content:"" counter(lst-ctn-kix_eeflv3tx7x8-7,lower-latin) ". "}ul.lst-kix_ynk1jb423v8p-0{list-style-type:none}ul.lst-kix_ynk1jb423v8p-1{list-style-type:none}.lst-kix_zcvl3fbc6do4-5>li:before{content:"" counter(lst-ctn-kix_zcvl3fbc6do4-5,lower-roman) ". "}ul.lst-kix_ynk1jb423v8p-2{list-style-type:none}ul.lst-kix_ynk1jb423v8p-3{list-style-type:none}ul.lst-kix_ynk1jb423v8p-4{list-style-type:none}ol.lst-kix_jzsgaky6g7z3-1.start{counter-reset:lst-ctn-kix_jzsgaky6g7z3-1 0}.lst-kix_4a5cw2dlleht-6>li:before{content:"" counter(lst-ctn-kix_4a5cw2dlleht-6,decimal) ". "}ol.lst-kix_ccmzo2unoagl-4.start{counter-reset:lst-ctn-kix_ccmzo2unoagl-4 0}.lst-kix_2wzv0c37mscg-3>li{counter-increment:lst-ctn-kix_2wzv0c37mscg-3}.lst-kix_3m69r918o16y-4>li{counter-increment:lst-ctn-kix_3m69r918o16y-4}.lst-kix_2epif0ienwnx-8>li:before{content:"\0025a0  "}.lst-kix_r0n1ukoeko9i-0>li{counter-increment:lst-ctn-kix_r0n1ukoeko9i-0}.lst-kix_2epif0ienwnx-5>li:before{content:"\0025a0  "}.lst-kix_1scnce6wk35f-3>li{counter-increment:lst-ctn-kix_1scnce6wk35f-3}.lst-kix_bp14me61tv7k-7>li:before{content:"\0025cb  "}.lst-kix_231qltjiej1b-8>li:before{content:"" counter(lst-ctn-kix_231qltjiej1b-8,lower-roman) ". "}.lst-kix_4x89tkurgtys-8>li:before{content:"\0025a0  "}.lst-kix_8o0dmiuwe0b-8>li{counter-increment:lst-ctn-kix_8o0dmiuwe0b-8}ol.lst-kix_cg3ztxy94g5y-0{list-style-type:none}.lst-kix_nbgultvqf3c-2>li:before{content:"\0025a0  "}.lst-kix_2v6s1svct7dg-1>li{counter-increment:lst-ctn-kix_2v6s1svct7dg-1}ol.lst-kix_jzsgaky6g7z3-2.start{counter-reset:lst-ctn-kix_jzsgaky6g7z3-2 0}.lst-kix_2g1cy18v17xb-8>li{counter-increment:lst-ctn-kix_2g1cy18v17xb-8}.lst-kix_w2m28ilmo2lu-4>li{counter-increment:lst-ctn-kix_w2m28ilmo2lu-4}.lst-kix_j8m1cqcs8t5n-3>li{counter-increment:lst-ctn-kix_j8m1cqcs8t5n-3}ol.lst-kix_cg3ztxy94g5y-3{list-style-type:none}.lst-kix_eeflv3tx7x8-7>li{counter-increment:lst-ctn-kix_eeflv3tx7x8-7}ol.lst-kix_cg3ztxy94g5y-4{list-style-type:none}.lst-kix_pug38gcm3mfz-4>li{counter-increment:lst-ctn-kix_pug38gcm3mfz-4}ol.lst-kix_cg3ztxy94g5y-1{list-style-type:none}ol.lst-kix_cg3ztxy94g5y-2{list-style-type:none}ol.lst-kix_cg3ztxy94g5y-7{list-style-type:none}ol.lst-kix_cg3ztxy94g5y-8{list-style-type:none}ol.lst-kix_pjnl93gc3004-6.start{counter-reset:lst-ctn-kix_pjnl93gc3004-6 0}.lst-kix_cg3ztxy94g5y-5>li:before{content:"" counter(lst-ctn-kix_cg3ztxy94g5y-5,lower-roman) ". "}ol.lst-kix_cg3ztxy94g5y-5{list-style-type:none}.lst-kix_6no4tthr2wo1-1>li{counter-increment:lst-ctn-kix_6no4tthr2wo1-1}ol.lst-kix_cg3ztxy94g5y-6{list-style-type:none}.lst-kix_nbgultvqf3c-5>li:before{content:"\0025a0  "}.lst-kix_mlk6dnhjzk7u-0>li{counter-increment:lst-ctn-kix_mlk6dnhjzk7u-0}ol.lst-kix_rztvt1qt68k4-7.start{counter-reset:lst-ctn-kix_rztvt1qt68k4-7 0}ol.lst-kix_2wzv0c37mscg-4.start{counter-reset:lst-ctn-kix_2wzv0c37mscg-4 0}.lst-kix_3m69r918o16y-1>li:before{content:"" counter(lst-ctn-kix_3m69r918o16y-1,lower-latin) ". "}.lst-kix_cg3ztxy94g5y-2>li:before{content:"" counter(lst-ctn-kix_cg3ztxy94g5y-2,lower-roman) ". "}.lst-kix_231qltjiej1b-0>li{counter-increment:lst-ctn-kix_231qltjiej1b-0}.lst-kix_ixkeh6iza7m6-7>li:before{content:"" counter(lst-ctn-kix_ixkeh6iza7m6-7,lower-latin) ". "}.lst-kix_3m69r918o16y-4>li:before{content:"" counter(lst-ctn-kix_3m69r918o16y-4,lower-latin) ". "}.lst-kix_nz0lhoo7aztq-7>li{counter-increment:lst-ctn-kix_nz0lhoo7aztq-7}ul.lst-kix_unslttc25noj-7{list-style-type:none}ul.lst-kix_unslttc25noj-6{list-style-type:none}.lst-kix_r0n1ukoeko9i-5>li:before{content:"" counter(lst-ctn-kix_r0n1ukoeko9i-5,lower-roman) ". "}ul.lst-kix_unslttc25noj-5{list-style-type:none}ul.lst-kix_unslttc25noj-4{list-style-type:none}ol.lst-kix_2wzv0c37mscg-7.start{counter-reset:lst-ctn-kix_2wzv0c37mscg-7 0}ul.lst-kix_unslttc25noj-8{list-style-type:none}.lst-kix_5wibt4kf5001-1>li:before{content:"\0025cb  "}ol.lst-kix_231qltjiej1b-3.start{counter-reset:lst-ctn-kix_231qltjiej1b-3 0}ul.lst-kix_unslttc25noj-3{list-style-type:none}ul.lst-kix_unslttc25noj-2{list-style-type:none}.lst-kix_n74u8poefvny-0>li{counter-increment:lst-ctn-kix_n74u8poefvny-0}ul.lst-kix_unslttc25noj-1{list-style-type:none}ul.lst-kix_unslttc25noj-0{list-style-type:none}ol.lst-kix_6no4tthr2wo1-4.start{counter-reset:lst-ctn-kix_6no4tthr2wo1-4 0}.lst-kix_u7fc8e9svd3w-2>li{counter-increment:lst-ctn-kix_u7fc8e9svd3w-2}.lst-kix_n74u8poefvny-7>li:before{content:"" counter(lst-ctn-kix_n74u8poefvny-7,lower-latin) ". "}.lst-kix_ijpqatjyilkj-1>li:before{content:"\0025cb  "}ol.lst-kix_ccmzo2unoagl-0.start{counter-reset:lst-ctn-kix_ccmzo2unoagl-0 0}ol.lst-kix_2g1cy18v17xb-7.start{counter-reset:lst-ctn-kix_2g1cy18v17xb-7 0}.lst-kix_mqxs1xcxmw0p-1>li:before{content:"\0025cb  "}.lst-kix_rztvt1qt68k4-8>li:before{content:"" counter(lst-ctn-kix_rztvt1qt68k4-8,lower-roman) ". "}.lst-kix_lg8dkrfv0qcu-3>li{counter-increment:lst-ctn-kix_lg8dkrfv0qcu-3}.lst-kix_scdn9fkfpojm-6>li{counter-increment:lst-ctn-kix_scdn9fkfpojm-6}ol.lst-kix_mvwurm2wk0z0-8.start{counter-reset:lst-ctn-kix_mvwurm2wk0z0-8 0}.lst-kix_jzsgaky6g7z3-2>li:before{content:"" counter(lst-ctn-kix_jzsgaky6g7z3-2,lower-roman) ". "}.lst-kix_vu8ackanrfrr-7>li{counter-increment:lst-ctn-kix_vu8ackanrfrr-7}ol.lst-kix_o4csfsvt568i-5{list-style-type:none}ol.lst-kix_o4csfsvt568i-6{list-style-type:none}ol.lst-kix_o4csfsvt568i-7{list-style-type:none}ol.lst-kix_o4csfsvt568i-8{list-style-type:none}ol.lst-kix_231qltjiej1b-6.start{counter-reset:lst-ctn-kix_231qltjiej1b-6 0}.lst-kix_j8m1cqcs8t5n-3>li:before{content:"" counter(lst-ctn-kix_j8m1cqcs8t5n-3,decimal) ". "}.lst-kix_djxeid5213p-0>li:before{content:"" counter(lst-ctn-kix_djxeid5213p-0,decimal) ". "}.lst-kix_ijvyr9rw1jkb-3>li{counter-increment:lst-ctn-kix_ijvyr9rw1jkb-3}ul.lst-kix_4x89tkurgtys-1{list-style-type:none}ul.lst-kix_4x89tkurgtys-2{list-style-type:none}ul.lst-kix_4x89tkurgtys-3{list-style-type:none}ul.lst-kix_4x89tkurgtys-4{list-style-type:none}.lst-kix_ixkeh6iza7m6-7>li{counter-increment:lst-ctn-kix_ixkeh6iza7m6-7}.lst-kix_k4fu9hb01p68-2>li{counter-increment:lst-ctn-kix_k4fu9hb01p68-2}ol.lst-kix_o4csfsvt568i-0{list-style-type:none}ul.lst-kix_4x89tkurgtys-5{list-style-type:none}ol.lst-kix_o4csfsvt568i-1{list-style-type:none}ul.lst-kix_4x89tkurgtys-6{list-style-type:none}ol.lst-kix_o4csfsvt568i-2{list-style-type:none}ul.lst-kix_4x89tkurgtys-7{list-style-type:none}ol.lst-kix_o4csfsvt568i-3{list-style-type:none}ul.lst-kix_4x89tkurgtys-8{list-style-type:none}.lst-kix_5m5pl1amlgdu-4>li:before{content:"\0025cb  "}ol.lst-kix_o4csfsvt568i-4{list-style-type:none}.lst-kix_ijvyr9rw1jkb-4>li:before{content:"" counter(lst-ctn-kix_ijvyr9rw1jkb-4,lower-latin) ". "}.lst-kix_beo0nvieqvft-4>li:before{content:"\0025cb  "}ol.lst-kix_2g1cy18v17xb-8.start{counter-reset:lst-ctn-kix_2g1cy18v17xb-8 0}.lst-kix_djwvpntgt9wn-6>li:before{content:"\0025cf  "}ol.lst-kix_231qltjiej1b-5.start{counter-reset:lst-ctn-kix_231qltjiej1b-5 0}.lst-kix_2v6s1svct7dg-4>li:before{content:"" counter(lst-ctn-kix_2v6s1svct7dg-4,lower-latin) ". "}.lst-kix_cflgkiusf2ss-2>li:before{content:"-  "}.lst-kix_1znearomzlt0-0>li:before{content:"\0025cf  "}.lst-kix_89ivjl2uxnp3-5>li{counter-increment:lst-ctn-kix_89ivjl2uxnp3-5}ul.lst-kix_4x89tkurgtys-0{list-style-type:none}.lst-kix_pug38gcm3mfz-8>li:before{content:"" counter(lst-ctn-kix_pug38gcm3mfz-8,lower-roman) ". "}.lst-kix_h61urw5blhfz-6>li{counter-increment:lst-ctn-kix_h61urw5blhfz-6}.lst-kix_og0h44h11kom-5>li:before{content:"" counter(lst-ctn-kix_og0h44h11kom-5,lower-roman) ". "}.lst-kix_3vj5z9behcl1-1>li{counter-increment:lst-ctn-kix_3vj5z9behcl1-1}ol.lst-kix_jzsgaky6g7z3-0.start{counter-reset:lst-ctn-kix_jzsgaky6g7z3-0 0}.lst-kix_99kco6cmz88s-8>li{counter-increment:lst-ctn-kix_99kco6cmz88s-8}ol.lst-kix_6no4tthr2wo1-7.start{counter-reset:lst-ctn-kix_6no4tthr2wo1-7 0}.lst-kix_6no4tthr2wo1-8>li:before{content:"" counter(lst-ctn-kix_6no4tthr2wo1-8,lower-roman) ". "}ol.lst-kix_231qltjiej1b-4.start{counter-reset:lst-ctn-kix_231qltjiej1b-4 0}.lst-kix_8o0dmiuwe0b-6>li:before{content:"" counter(lst-ctn-kix_8o0dmiuwe0b-6,decimal) ". "}ol.lst-kix_2wzv0c37mscg-8.start{counter-reset:lst-ctn-kix_2wzv0c37mscg-8 0}.lst-kix_j2km2ok9rn2f-4>li{counter-increment:lst-ctn-kix_j2km2ok9rn2f-4}.lst-kix_pjnl93gc3004-8>li{counter-increment:lst-ctn-kix_pjnl93gc3004-8}.lst-kix_3ihm6str0kxg-2>li:before{content:"\0025a0  "}.lst-kix_rs24r75b55qx-4>li:before{content:"\0025cb  "}.lst-kix_665pdbwbvds7-5>li:before{content:"\0025a0  "}.lst-kix_k7cvqq8ohnqa-0>li:before{content:"\0025cf  "}ol.lst-kix_6no4tthr2wo1-6.start{counter-reset:lst-ctn-kix_6no4tthr2wo1-6 0}.lst-kix_g5hw4owq9gm6-1>li:before{content:"" counter(lst-ctn-kix_g5hw4owq9gm6-1,lower-latin) ". "}.lst-kix_o4csfsvt568i-4>li{counter-increment:lst-ctn-kix_o4csfsvt568i-4}.lst-kix_n74u8poefvny-6>li{counter-increment:lst-ctn-kix_n74u8poefvny-6}ol.lst-kix_2wzv0c37mscg-0.start{counter-reset:lst-ctn-kix_2wzv0c37mscg-0 0}.lst-kix_h61urw5blhfz-0>li:before{content:"" counter(lst-ctn-kix_h61urw5blhfz-0,decimal) ". "}.lst-kix_i0lb8zu4qt6n-5>li:before{content:"\0025a0  "}.lst-kix_w2m28ilmo2lu-1>li:before{content:"" counter(lst-ctn-kix_w2m28ilmo2lu-1,lower-latin) ". "}ol.lst-kix_u7fc8e9svd3w-1.start{counter-reset:lst-ctn-kix_u7fc8e9svd3w-1 0}.lst-kix_h61urw5blhfz-4>li:before{content:"" counter(lst-ctn-kix_h61urw5blhfz-4,lower-latin) ". "}ol.lst-kix_nz0lhoo7aztq-6.start{counter-reset:lst-ctn-kix_nz0lhoo7aztq-6 0}.lst-kix_cg3ztxy94g5y-6>li{counter-increment:lst-ctn-kix_cg3ztxy94g5y-6}.lst-kix_h61urw5blhfz-2>li:before{content:"" counter(lst-ctn-kix_h61urw5blhfz-2,lower-roman) ". "}.lst-kix_h61urw5blhfz-6>li:before{content:"" counter(lst-ctn-kix_h61urw5blhfz-6,decimal) ". "}.lst-kix_4a5cw2dlleht-2>li{counter-increment:lst-ctn-kix_4a5cw2dlleht-2}.lst-kix_i0lb8zu4qt6n-7>li:before{content:"\0025cb  "}.lst-kix_lg8dkrfv0qcu-1>li:before{content:"" counter(lst-ctn-kix_lg8dkrfv0qcu-1,lower-latin) ". "}.lst-kix_k4fu9hb01p68-3>li:before{content:"" counter(lst-ctn-kix_k4fu9hb01p68-3,decimal) ". "}.lst-kix_kjf8zdvo1lyf-0>li{counter-increment:lst-ctn-kix_kjf8zdvo1lyf-0}.lst-kix_w2m28ilmo2lu-7>li:before{content:"" counter(lst-ctn-kix_w2m28ilmo2lu-7,lower-latin) ". "}.lst-kix_k4fu9hb01p68-1>li:before{content:"" counter(lst-ctn-kix_k4fu9hb01p68-1,lower-latin) ". "}.lst-kix_k4fu9hb01p68-5>li:before{content:"" counter(lst-ctn-kix_k4fu9hb01p68-5,lower-roman) ". "}.lst-kix_lg8dkrfv0qcu-5>li:before{content:"" counter(lst-ctn-kix_lg8dkrfv0qcu-5,lower-roman) ". "}.lst-kix_h61urw5blhfz-8>li:before{content:"" counter(lst-ctn-kix_h61urw5blhfz-8,lower-roman) ". "}ol.lst-kix_eeflv3tx7x8-0.start{counter-reset:lst-ctn-kix_eeflv3tx7x8-0 0}.lst-kix_9agb6svh85y5-0>li{counter-increment:lst-ctn-kix_9agb6svh85y5-0}.lst-kix_3vj5z9behcl1-8>li:before{content:"" counter(lst-ctn-kix_3vj5z9behcl1-8,lower-roman) ". "}.lst-kix_k4fu9hb01p68-8>li{counter-increment:lst-ctn-kix_k4fu9hb01p68-8}.lst-kix_lg8dkrfv0qcu-3>li:before{content:"" counter(lst-ctn-kix_lg8dkrfv0qcu-3,decimal) ". "}ol.lst-kix_nz0lhoo7aztq-1.start{counter-reset:lst-ctn-kix_nz0lhoo7aztq-1 0}ol.lst-kix_scdn9fkfpojm-8.start{counter-reset:lst-ctn-kix_scdn9fkfpojm-8 0}.lst-kix_w2m28ilmo2lu-3>li:before{content:"" counter(lst-ctn-kix_w2m28ilmo2lu-3,decimal) ". "}.lst-kix_r0n1ukoeko9i-5>li{counter-increment:lst-ctn-kix_r0n1ukoeko9i-5}.lst-kix_1ybkggemz7qs-3>li:before{content:"\0025cf  "}.lst-kix_9uwxlic953dp-2>li{counter-increment:lst-ctn-kix_9uwxlic953dp-2}.lst-kix_w2m28ilmo2lu-5>li:before{content:"" counter(lst-ctn-kix_w2m28ilmo2lu-5,lower-roman) ". "}.lst-kix_k4fu9hb01p68-7>li:before{content:"" counter(lst-ctn-kix_k4fu9hb01p68-7,lower-latin) ". "}.lst-kix_lg8dkrfv0qcu-7>li:before{content:"" counter(lst-ctn-kix_lg8dkrfv0qcu-7,lower-latin) ". "}.lst-kix_1ybkggemz7qs-1>li:before{content:"\0025cb  "}.lst-kix_1ybkggemz7qs-7>li:before{content:"\0025cb  "}ol.lst-kix_6lbfx97xtcef-0.start{counter-reset:lst-ctn-kix_6lbfx97xtcef-0 0}.lst-kix_3vj5z9behcl1-0>li:before{content:"" counter(lst-ctn-kix_3vj5z9behcl1-0,decimal) ". "}.lst-kix_jzsgaky6g7z3-5>li{counter-increment:lst-ctn-kix_jzsgaky6g7z3-5}ol.lst-kix_mvwurm2wk0z0-0.start{counter-reset:lst-ctn-kix_mvwurm2wk0z0-0 0}.lst-kix_1ybkggemz7qs-5>li:before{content:"\0025a0  "}.lst-kix_9agb6svh85y5-7>li{counter-increment:lst-ctn-kix_9agb6svh85y5-7}ol.lst-kix_8vs3c95uml8g-5.start{counter-reset:lst-ctn-kix_8vs3c95uml8g-5 0}ol.lst-kix_2wzv0c37mscg-5.start{counter-reset:lst-ctn-kix_2wzv0c37mscg-5 0}.lst-kix_3vj5z9behcl1-2>li:before{content:"" counter(lst-ctn-kix_3vj5z9behcl1-2,lower-roman) ". "}.lst-kix_3vj5z9behcl1-4>li:before{content:"" counter(lst-ctn-kix_3vj5z9behcl1-4,lower-latin) ". "}.lst-kix_tumw717cctnl-7>li:before{content:"\0025cb  "}.lst-kix_v3y9rkuhngfi-1>li{counter-increment:lst-ctn-kix_v3y9rkuhngfi-1}.lst-kix_3vj5z9behcl1-6>li:before{content:"" counter(lst-ctn-kix_3vj5z9behcl1-6,decimal) ". "}.lst-kix_tumw717cctnl-1>li:before{content:"\0025cb  "}ol.lst-kix_v3y9rkuhngfi-8{list-style-type:none}ol.lst-kix_v3y9rkuhngfi-7{list-style-type:none}ol.lst-kix_v3y9rkuhngfi-6{list-style-type:none}ol.lst-kix_k4fu9hb01p68-4.start{counter-reset:lst-ctn-kix_k4fu9hb01p68-4 0}ol.lst-kix_99kco6cmz88s-2.start{counter-reset:lst-ctn-kix_99kco6cmz88s-2 0}ol.lst-kix_v3y9rkuhngfi-5{list-style-type:none}.lst-kix_tumw717cctnl-3>li:before{content:"\0025cf  "}.lst-kix_3vj5z9behcl1-3>li{counter-increment:lst-ctn-kix_3vj5z9behcl1-3}.lst-kix_q1dqwj8wphtj-6>li{counter-increment:lst-ctn-kix_q1dqwj8wphtj-6}ol.lst-kix_v3y9rkuhngfi-4{list-style-type:none}ol.lst-kix_v3y9rkuhngfi-3{list-style-type:none}.lst-kix_j2km2ok9rn2f-6>li{counter-increment:lst-ctn-kix_j2km2ok9rn2f-6}ol.lst-kix_v3y9rkuhngfi-2{list-style-type:none}.lst-kix_tumw717cctnl-5>li:before{content:"\0025a0  "}ol.lst-kix_5y6fjlsif51k-5.start{counter-reset:lst-ctn-kix_5y6fjlsif51k-5 0}.lst-kix_i0lb8zu4qt6n-1>li:before{content:"\0025cb  "}.lst-kix_i0lb8zu4qt6n-3>li:before{content:"\0025cf  "}.lst-kix_mlk6dnhjzk7u-3>li{counter-increment:lst-ctn-kix_mlk6dnhjzk7u-3}.lst-kix_toppvyk2j46u-1>li:before{content:"\0025cb  "}.lst-kix_toppvyk2j46u-3>li:before{content:"\0025cf  "}.lst-kix_8o0dmiuwe0b-0>li{counter-increment:lst-ctn-kix_8o0dmiuwe0b-0}.lst-kix_mvwurm2wk0z0-3>li{counter-increment:lst-ctn-kix_mvwurm2wk0z0-3}.lst-kix_toppvyk2j46u-5>li:before{content:"\0025a0  "}ol.lst-kix_8vs3c95uml8g-0.start{counter-reset:lst-ctn-kix_8vs3c95uml8g-0 0}ol.lst-kix_3vj5z9behcl1-4.start{counter-reset:lst-ctn-kix_3vj5z9behcl1-4 0}ol.lst-kix_q1dqwj8wphtj-7.start{counter-reset:lst-ctn-kix_q1dqwj8wphtj-7 0}ol.lst-kix_v3y9rkuhngfi-2.start{counter-reset:lst-ctn-kix_v3y9rkuhngfi-2 0}.lst-kix_v3y9rkuhngfi-8>li{counter-increment:lst-ctn-kix_v3y9rkuhngfi-8}.lst-kix_eeflv3tx7x8-2>li{counter-increment:lst-ctn-kix_eeflv3tx7x8-2}.lst-kix_toppvyk2j46u-7>li:before{content:"\0025cb  "}ol.lst-kix_mvwurm2wk0z0-5.start{counter-reset:lst-ctn-kix_mvwurm2wk0z0-5 0}ol.lst-kix_v3y9rkuhngfi-1{list-style-type:none}ol.lst-kix_v3y9rkuhngfi-0{list-style-type:none}.lst-kix_vahsii3hvprg-6>li{counter-increment:lst-ctn-kix_vahsii3hvprg-6}.lst-kix_gs67zzu7w7z9-2>li:before{content:"\0025a0  "}ol.lst-kix_2g1cy18v17xb-2.start{counter-reset:lst-ctn-kix_2g1cy18v17xb-2 0}.lst-kix_1scnce6wk35f-8>li{counter-increment:lst-ctn-kix_1scnce6wk35f-8}ol.lst-kix_pjnl93gc3004-4.start{counter-reset:lst-ctn-kix_pjnl93gc3004-4 0}.lst-kix_gs67zzu7w7z9-4>li:before{content:"\0025cb  "}ol.lst-kix_zcvl3fbc6do4-0.start{counter-reset:lst-ctn-kix_zcvl3fbc6do4-0 0}.lst-kix_gs67zzu7w7z9-6>li:before{content:"\0025cf  "}.lst-kix_ijvyr9rw1jkb-6>li{counter-increment:lst-ctn-kix_ijvyr9rw1jkb-6}ol.lst-kix_n74u8poefvny-8.start{counter-reset:lst-ctn-kix_n74u8poefvny-8 0}.lst-kix_scdn9fkfpojm-4>li{counter-increment:lst-ctn-kix_scdn9fkfpojm-4}.lst-kix_gs67zzu7w7z9-8>li:before{content:"\0025a0  "}ol.lst-kix_ijvyr9rw1jkb-1.start{counter-reset:lst-ctn-kix_ijvyr9rw1jkb-1 0}ol.lst-kix_cg3ztxy94g5y-5.start{counter-reset:lst-ctn-kix_cg3ztxy94g5y-5 0}ol.lst-kix_nyn4osmxptvt-6{list-style-type:none}.lst-kix_2g1cy18v17xb-1>li{counter-increment:lst-ctn-kix_2g1cy18v17xb-1}ol.lst-kix_nyn4osmxptvt-5{list-style-type:none}ol.lst-kix_nyn4osmxptvt-8{list-style-type:none}ol.lst-kix_8o0dmiuwe0b-6.start{counter-reset:lst-ctn-kix_8o0dmiuwe0b-6 0}ol.lst-kix_nyn4osmxptvt-7{list-style-type:none}.lst-kix_um1ceofb3c39-2>li{counter-increment:lst-ctn-kix_um1ceofb3c39-2}ol.lst-kix_nyn4osmxptvt-2{list-style-type:none}ol.lst-kix_nyn4osmxptvt-1{list-style-type:none}ol.lst-kix_demv1nd5mcc4-2.start{counter-reset:lst-ctn-kix_demv1nd5mcc4-2 0}ol.lst-kix_nyn4osmxptvt-4{list-style-type:none}ol.lst-kix_nyn4osmxptvt-3{list-style-type:none}ol.lst-kix_nyn4osmxptvt-0{list-style-type:none}.lst-kix_665pdbwbvds7-8>li:before{content:"\0025a0  "}ol.lst-kix_og0h44h11kom-3.start{counter-reset:lst-ctn-kix_og0h44h11kom-3 0}.lst-kix_nz0lhoo7aztq-3>li{counter-increment:lst-ctn-kix_nz0lhoo7aztq-3}ol.lst-kix_89ivjl2uxnp3-2.start{counter-reset:lst-ctn-kix_89ivjl2uxnp3-2 0}.lst-kix_5y6fjlsif51k-2>li{counter-increment:lst-ctn-kix_5y6fjlsif51k-2}ol.lst-kix_nyn4osmxptvt-4.start{counter-reset:lst-ctn-kix_nyn4osmxptvt-4 0}ol.lst-kix_tcwr7sx3qmaw-4.start{counter-reset:lst-ctn-kix_tcwr7sx3qmaw-4 0}.lst-kix_8o0dmiuwe0b-7>li{counter-increment:lst-ctn-kix_8o0dmiuwe0b-7}.lst-kix_nz0lhoo7aztq-2>li:before{content:"" counter(lst-ctn-kix_nz0lhoo7aztq-2,lower-roman) ". "}.lst-kix_gs67zzu7w7z9-0>li:before{content:"\0025cf  "}.lst-kix_nz0lhoo7aztq-0>li:before{content:"" counter(lst-ctn-kix_nz0lhoo7aztq-0,decimal) ". "}.lst-kix_pjnl93gc3004-5>li{counter-increment:lst-ctn-kix_pjnl93gc3004-5}ol.lst-kix_vahsii3hvprg-8.start{counter-reset:lst-ctn-kix_vahsii3hvprg-8 0}.lst-kix_g5hw4owq9gm6-6>li:before{content:"" counter(lst-ctn-kix_g5hw4owq9gm6-6,decimal) ". "}.lst-kix_665pdbwbvds7-0>li:before{content:"\0025cf  "}.lst-kix_2v6s1svct7dg-5>li{counter-increment:lst-ctn-kix_2v6s1svct7dg-5}.lst-kix_g5hw4owq9gm6-2>li:before{content:"" counter(lst-ctn-kix_g5hw4owq9gm6-2,lower-roman) ". "}.lst-kix_g5hw4owq9gm6-4>li:before{content:"" counter(lst-ctn-kix_g5hw4owq9gm6-4,lower-latin) ". "}.lst-kix_665pdbwbvds7-4>li:before{content:"\0025cb  "}.lst-kix_665pdbwbvds7-6>li:before{content:"\0025cf  "}.lst-kix_h61urw5blhfz-3>li{counter-increment:lst-ctn-kix_h61urw5blhfz-3}ol.lst-kix_ry2l2t3q0bf2-0.start{counter-reset:lst-ctn-kix_ry2l2t3q0bf2-0 0}.lst-kix_g5hw4owq9gm6-0>li:before{content:"" counter(lst-ctn-kix_g5hw4owq9gm6-0,decimal) ". "}ol.lst-kix_scdn9fkfpojm-3.start{counter-reset:lst-ctn-kix_scdn9fkfpojm-3 0}.lst-kix_665pdbwbvds7-2>li:before{content:"\0025a0  "}ol.lst-kix_jzsgaky6g7z3-6.start{counter-reset:lst-ctn-kix_jzsgaky6g7z3-6 0}ol.lst-kix_kjf8zdvo1lyf-1.start{counter-reset:lst-ctn-kix_kjf8zdvo1lyf-1 0}.lst-kix_lo7chw702g52-6>li:before{content:"\0025cf  "}.lst-kix_lo7chw702g52-8>li:before{content:"\0025a0  "}.lst-kix_4a5cw2dlleht-0>li:before{content:"" counter(lst-ctn-kix_4a5cw2dlleht-0,decimal) ". "}.lst-kix_ynk1jb423v8p-5>li:before{content:"\0025a0  "}ol.lst-kix_9uwxlic953dp-6{list-style-type:none}ol.lst-kix_9uwxlic953dp-5{list-style-type:none}ol.lst-kix_9uwxlic953dp-8{list-style-type:none}ol.lst-kix_9uwxlic953dp-7{list-style-type:none}ol.lst-kix_9uwxlic953dp-2{list-style-type:none}ol.lst-kix_9uwxlic953dp-1{list-style-type:none}ol.lst-kix_9uwxlic953dp-4{list-style-type:none}.lst-kix_lo7chw702g52-2>li:before{content:"\0025a0  "}.lst-kix_4a5cw2dlleht-4>li:before{content:"" counter(lst-ctn-kix_4a5cw2dlleht-4,lower-latin) ". "}.lst-kix_ynk1jb423v8p-1>li:before{content:"\0025cb  "}ol.lst-kix_9uwxlic953dp-3{list-style-type:none}ol.lst-kix_2v6s1svct7dg-5.start{counter-reset:lst-ctn-kix_2v6s1svct7dg-5 0}ol.lst-kix_h61urw5blhfz-0.start{counter-reset:lst-ctn-kix_h61urw5blhfz-0 0}ol.lst-kix_9uwxlic953dp-0{list-style-type:none}ol.lst-kix_w2m28ilmo2lu-2.start{counter-reset:lst-ctn-kix_w2m28ilmo2lu-2 0}.lst-kix_eeflv3tx7x8-5>li:before{content:"" counter(lst-ctn-kix_eeflv3tx7x8-5,lower-roman) ". "}.lst-kix_ry2l2t3q0bf2-8>li{counter-increment:lst-ctn-kix_ry2l2t3q0bf2-8}ol.lst-kix_4a5cw2dlleht-7.start{counter-reset:lst-ctn-kix_4a5cw2dlleht-7 0}ol.lst-kix_mvwurm2wk0z0-8{list-style-type:none}ol.lst-kix_mvwurm2wk0z0-7{list-style-type:none}ol.lst-kix_mvwurm2wk0z0-6{list-style-type:none}ol.lst-kix_ydcqnhnvg283-0.start{counter-reset:lst-ctn-kix_ydcqnhnvg283-0 0}ol.lst-kix_mvwurm2wk0z0-5{list-style-type:none}ol.lst-kix_mlk6dnhjzk7u-0{list-style-type:none}.lst-kix_djxeid5213p-2>li{counter-increment:lst-ctn-kix_djxeid5213p-2}ol.lst-kix_mlk6dnhjzk7u-1{list-style-type:none}.lst-kix_8vs3c95uml8g-0>li{counter-increment:lst-ctn-kix_8vs3c95uml8g-0}.lst-kix_eeflv3tx7x8-1>li:before{content:"" counter(lst-ctn-kix_eeflv3tx7x8-1,lower-latin) ". "}.lst-kix_2yjh37mgtbm2-0>li:before{content:"\0025cf  "}.lst-kix_6no4tthr2wo1-5>li{counter-increment:lst-ctn-kix_6no4tthr2wo1-5}ol.lst-kix_6no4tthr2wo1-4{list-style-type:none}ol.lst-kix_6no4tthr2wo1-3{list-style-type:none}ol.lst-kix_6no4tthr2wo1-2{list-style-type:none}.lst-kix_ry2l2t3q0bf2-6>li{counter-increment:lst-ctn-kix_ry2l2t3q0bf2-6}.lst-kix_2yjh37mgtbm2-4>li:before{content:"\0025cb  "}ol.lst-kix_6no4tthr2wo1-1{list-style-type:none}ol.lst-kix_6no4tthr2wo1-8{list-style-type:none}ol.lst-kix_um1ceofb3c39-0.start{counter-reset:lst-ctn-kix_um1ceofb3c39-0 0}.lst-kix_nz0lhoo7aztq-6>li:before{content:"" counter(lst-ctn-kix_nz0lhoo7aztq-6,decimal) ". "}ol.lst-kix_6no4tthr2wo1-7{list-style-type:none}ol.lst-kix_6no4tthr2wo1-6{list-style-type:none}ol.lst-kix_6no4tthr2wo1-5{list-style-type:none}ol.lst-kix_6no4tthr2wo1-0{list-style-type:none}.lst-kix_nyn4osmxptvt-8>li{counter-increment:lst-ctn-kix_nyn4osmxptvt-8}.lst-kix_4a5cw2dlleht-8>li:before{content:"" counter(lst-ctn-kix_4a5cw2dlleht-8,lower-roman) ". "}.lst-kix_ixkeh6iza7m6-4>li{counter-increment:lst-ctn-kix_ixkeh6iza7m6-4}.lst-kix_2yjh37mgtbm2-8>li:before{content:"\0025a0  "}ol.lst-kix_djxeid5213p-3.start{counter-reset:lst-ctn-kix_djxeid5213p-3 0}.lst-kix_kvzqjuu34aac-6>li{counter-increment:lst-ctn-kix_kvzqjuu34aac-6}ol.lst-kix_rztvt1qt68k4-2.start{counter-reset:lst-ctn-kix_rztvt1qt68k4-2 0}.lst-kix_g5hw4owq9gm6-5>li{counter-increment:lst-ctn-kix_g5hw4owq9gm6-5}ol.lst-kix_mlk6dnhjzk7u-7.start{counter-reset:lst-ctn-kix_mlk6dnhjzk7u-7 0}.lst-kix_8vs3c95uml8g-2>li{counter-increment:lst-ctn-kix_8vs3c95uml8g-2}.lst-kix_g7bqe7r6c5y-1>li:before{content:"\0025cb  "}.lst-kix_2v6s1svct7dg-7>li{counter-increment:lst-ctn-kix_2v6s1svct7dg-7}.lst-kix_g7bqe7r6c5y-5>li:before{content:"\0025a0  "}.lst-kix_2epif0ienwnx-6>li:before{content:"\0025cf  "}.lst-kix_6lbfx97xtcef-7>li{counter-increment:lst-ctn-kix_6lbfx97xtcef-7}.lst-kix_ixkeh6iza7m6-1>li:before{content:"" counter(lst-ctn-kix_ixkeh6iza7m6-1,lower-latin) ". "}ol.lst-kix_g5hw4owq9gm6-8{list-style-type:none}.lst-kix_2epif0ienwnx-2>li:before{content:"\0025a0  "}ol.lst-kix_g5hw4owq9gm6-6{list-style-type:none}.lst-kix_4x89tkurgtys-6>li:before{content:"\0025cf  "}ol.lst-kix_g5hw4owq9gm6-7{list-style-type:none}.lst-kix_g5hw4owq9gm6-7>li{counter-increment:lst-ctn-kix_g5hw4owq9gm6-7}ol.lst-kix_g5hw4owq9gm6-0{list-style-type:none}ol.lst-kix_g5hw4owq9gm6-1{list-style-type:none}ol.lst-kix_g5hw4owq9gm6-4{list-style-type:none}ol.lst-kix_g5hw4owq9gm6-5{list-style-type:none}ol.lst-kix_g5hw4owq9gm6-2{list-style-type:none}ol.lst-kix_g5hw4owq9gm6-3{list-style-type:none}ol.lst-kix_mlk6dnhjzk7u-8{list-style-type:none}.lst-kix_cg3ztxy94g5y-8>li:before{content:"" counter(lst-ctn-kix_cg3ztxy94g5y-8,lower-roman) ". "}ol.lst-kix_mlk6dnhjzk7u-6{list-style-type:none}ol.lst-kix_mlk6dnhjzk7u-7{list-style-type:none}ol.lst-kix_mlk6dnhjzk7u-4{list-style-type:none}.lst-kix_cekjy5rtkev4-5>li:before{content:"\0025a0  "}ol.lst-kix_mlk6dnhjzk7u-5{list-style-type:none}.lst-kix_6no4tthr2wo1-7>li{counter-increment:lst-ctn-kix_6no4tthr2wo1-7}ol.lst-kix_mlk6dnhjzk7u-2{list-style-type:none}ol.lst-kix_mlk6dnhjzk7u-3{list-style-type:none}.lst-kix_cg3ztxy94g5y-4>li:before{content:"" counter(lst-ctn-kix_cg3ztxy94g5y-4,lower-latin) ". "}.lst-kix_cg3ztxy94g5y-0>li:before{content:"" counter(lst-ctn-kix_cg3ztxy94g5y-0,decimal) ". "}.lst-kix_og0h44h11kom-7>li{counter-increment:lst-ctn-kix_og0h44h11kom-7}.lst-kix_rztvt1qt68k4-2>li{counter-increment:lst-ctn-kix_rztvt1qt68k4-2}.lst-kix_231qltjiej1b-3>li{counter-increment:lst-ctn-kix_231qltjiej1b-3}.lst-kix_vu8ackanrfrr-6>li{counter-increment:lst-ctn-kix_vu8ackanrfrr-6}.lst-kix_ry2l2t3q0bf2-1>li{counter-increment:lst-ctn-kix_ry2l2t3q0bf2-1}.lst-kix_nyn4osmxptvt-1>li{counter-increment:lst-ctn-kix_nyn4osmxptvt-1}ol.lst-kix_3m69r918o16y-1.start{counter-reset:lst-ctn-kix_3m69r918o16y-1 0}.lst-kix_ixkeh6iza7m6-5>li:before{content:"" counter(lst-ctn-kix_ixkeh6iza7m6-5,lower-roman) ". "}ol.lst-kix_vahsii3hvprg-3{list-style-type:none}.lst-kix_demv1nd5mcc4-0>li:before{content:"" counter(lst-ctn-kix_demv1nd5mcc4-0,decimal) ". "}.lst-kix_kvzqjuu34aac-2>li:before{content:"" counter(lst-ctn-kix_kvzqjuu34aac-2,lower-roman) ". "}ol.lst-kix_vahsii3hvprg-4{list-style-type:none}ol.lst-kix_vahsii3hvprg-1{list-style-type:none}ol.lst-kix_vahsii3hvprg-2{list-style-type:none}.lst-kix_o4csfsvt568i-3>li{counter-increment:lst-ctn-kix_o4csfsvt568i-3}ol.lst-kix_vahsii3hvprg-0{list-style-type:none}ol.lst-kix_kvzqjuu34aac-1.start{counter-reset:lst-ctn-kix_kvzqjuu34aac-1 0}.lst-kix_demv1nd5mcc4-4>li:before{content:"" counter(lst-ctn-kix_demv1nd5mcc4-4,lower-latin) ". "}ol.lst-kix_mlk6dnhjzk7u-2.start{counter-reset:lst-ctn-kix_mlk6dnhjzk7u-2 0}ol.lst-kix_kvzqjuu34aac-4.start{counter-reset:lst-ctn-kix_kvzqjuu34aac-4 0}.lst-kix_kvzqjuu34aac-6>li:before{content:"" counter(lst-ctn-kix_kvzqjuu34aac-6,decimal) ". "}ol.lst-kix_6lbfx97xtcef-5.start{counter-reset:lst-ctn-kix_6lbfx97xtcef-5 0}ol.lst-kix_vahsii3hvprg-7{list-style-type:none}ol.lst-kix_vahsii3hvprg-8{list-style-type:none}ol.lst-kix_vahsii3hvprg-5{list-style-type:none}ol.lst-kix_vahsii3hvprg-6{list-style-type:none}ol.lst-kix_og0h44h11kom-8.start{counter-reset:lst-ctn-kix_og0h44h11kom-8 0}ol.lst-kix_ixkeh6iza7m6-4{list-style-type:none}ol.lst-kix_ixkeh6iza7m6-6.start{counter-reset:lst-ctn-kix_ixkeh6iza7m6-6 0}ol.lst-kix_ixkeh6iza7m6-5{list-style-type:none}ol.lst-kix_ixkeh6iza7m6-6{list-style-type:none}ol.lst-kix_ixkeh6iza7m6-7{list-style-type:none}ol.lst-kix_ixkeh6iza7m6-0{list-style-type:none}.lst-kix_cekjy5rtkev4-1>li:before{content:"\0025cb  "}ol.lst-kix_ixkeh6iza7m6-1{list-style-type:none}ol.lst-kix_ixkeh6iza7m6-2{list-style-type:none}ol.lst-kix_ixkeh6iza7m6-3{list-style-type:none}ol.lst-kix_scdn9fkfpojm-4{list-style-type:none}.lst-kix_231qltjiej1b-1>li{counter-increment:lst-ctn-kix_231qltjiej1b-1}ol.lst-kix_scdn9fkfpojm-3{list-style-type:none}ol.lst-kix_scdn9fkfpojm-6{list-style-type:none}ol.lst-kix_scdn9fkfpojm-5{list-style-type:none}.lst-kix_rztvt1qt68k4-2>li:before{content:"" counter(lst-ctn-kix_rztvt1qt68k4-2,lower-roman) ". "}ol.lst-kix_scdn9fkfpojm-8{list-style-type:none}ol.lst-kix_ixkeh6iza7m6-8{list-style-type:none}ol.lst-kix_scdn9fkfpojm-7{list-style-type:none}.lst-kix_g5hw4owq9gm6-0>li{counter-increment:lst-ctn-kix_g5hw4owq9gm6-0}.lst-kix_j8m1cqcs8t5n-5>li:before{content:"" counter(lst-ctn-kix_j8m1cqcs8t5n-5,lower-roman) ". "}.lst-kix_nyn4osmxptvt-3>li{counter-increment:lst-ctn-kix_nyn4osmxptvt-3}.lst-kix_231qltjiej1b-2>li:before{content:"" counter(lst-ctn-kix_231qltjiej1b-2,lower-roman) ". "}ol.lst-kix_scdn9fkfpojm-0{list-style-type:none}.lst-kix_um1ceofb3c39-1>li:before{content:"" counter(lst-ctn-kix_um1ceofb3c39-1,lower-latin) ". "}.lst-kix_um1ceofb3c39-5>li:before{content:"" counter(lst-ctn-kix_um1ceofb3c39-5,lower-roman) ". "}ol.lst-kix_scdn9fkfpojm-2{list-style-type:none}ol.lst-kix_scdn9fkfpojm-1{list-style-type:none}ol.lst-kix_99kco6cmz88s-7.start{counter-reset:lst-ctn-kix_99kco6cmz88s-7 0}ol.lst-kix_ry2l2t3q0bf2-5.start{counter-reset:lst-ctn-kix_ry2l2t3q0bf2-5 0}ol.lst-kix_5y6fjlsif51k-0.start{counter-reset:lst-ctn-kix_5y6fjlsif51k-0 0}.lst-kix_4x89tkurgtys-2>li:before{content:"\0025a0  "}.lst-kix_231qltjiej1b-6>li:before{content:"" counter(lst-ctn-kix_231qltjiej1b-6,decimal) ". "}ol.lst-kix_q1dqwj8wphtj-2.start{counter-reset:lst-ctn-kix_q1dqwj8wphtj-2 0}.lst-kix_rztvt1qt68k4-6>li:before{content:"" counter(lst-ctn-kix_rztvt1qt68k4-6,decimal) ". "}ol.lst-kix_vahsii3hvprg-3.start{counter-reset:lst-ctn-kix_vahsii3hvprg-3 0}.lst-kix_8vs3c95uml8g-8>li:before{content:"" counter(lst-ctn-kix_8vs3c95uml8g-8,lower-roman) ". "}.lst-kix_demv1nd5mcc4-8>li:before{content:"" counter(lst-ctn-kix_demv1nd5mcc4-8,lower-roman) ". "}.lst-kix_8vs3c95uml8g-7>li{counter-increment:lst-ctn-kix_8vs3c95uml8g-7}.lst-kix_70i2e22v5l2-1>li:before{content:"\0025cb  "}.lst-kix_kjf8zdvo1lyf-8>li:before{content:"" counter(lst-ctn-kix_kjf8zdvo1lyf-8,lower-roman) ". "}.lst-kix_j8m1cqcs8t5n-1>li:before{content:"" counter(lst-ctn-kix_j8m1cqcs8t5n-1,lower-latin) ". "}.lst-kix_70i2e22v5l2-5>li:before{content:"\0025a0  "}.lst-kix_6no4tthr2wo1-0>li{counter-increment:lst-ctn-kix_6no4tthr2wo1-0}.lst-kix_89ivjl2uxnp3-6>li{counter-increment:lst-ctn-kix_89ivjl2uxnp3-6}.lst-kix_8vs3c95uml8g-4>li:before{content:"" counter(lst-ctn-kix_8vs3c95uml8g-4,lower-latin) ". "}ol.lst-kix_v3y9rkuhngfi-7.start{counter-reset:lst-ctn-kix_v3y9rkuhngfi-7 0}.lst-kix_djwvpntgt9wn-4>li:before{content:"\0025cb  "}.lst-kix_ozrzovx1mz7z-8>li:before{content:"\0025a0  "}ol.lst-kix_2v6s1svct7dg-0.start{counter-reset:lst-ctn-kix_2v6s1svct7dg-0 0}ol.lst-kix_kjf8zdvo1lyf-6.start{counter-reset:lst-ctn-kix_kjf8zdvo1lyf-6 0}ul.lst-kix_tauxjktfe261-2{list-style-type:none}.lst-kix_ixkeh6iza7m6-6>li{counter-increment:lst-ctn-kix_ixkeh6iza7m6-6}ul.lst-kix_tauxjktfe261-3{list-style-type:none}ul.lst-kix_tauxjktfe261-4{list-style-type:none}ul.lst-kix_tauxjktfe261-5{list-style-type:none}ul.lst-kix_tauxjktfe261-0{list-style-type:none}ul.lst-kix_tauxjktfe261-1{list-style-type:none}.lst-kix_8vs3c95uml8g-0>li:before{content:"" counter(lst-ctn-kix_8vs3c95uml8g-0,decimal) ". "}.lst-kix_rs24r75b55qx-2>li:before{content:"\0025a0  "}ol.lst-kix_r0n1ukoeko9i-8.start{counter-reset:lst-ctn-kix_r0n1ukoeko9i-8 0}.lst-kix_ozrzovx1mz7z-0>li:before{content:"\0025cf  "}ul.lst-kix_tauxjktfe261-6{list-style-type:none}.lst-kix_og0h44h11kom-3>li:before{content:"" counter(lst-ctn-kix_og0h44h11kom-3,decimal) ". "}.lst-kix_og0h44h11kom-7>li:before{content:"" counter(lst-ctn-kix_og0h44h11kom-7,lower-latin) ". "}ul.lst-kix_tauxjktfe261-7{list-style-type:none}ul.lst-kix_tauxjktfe261-8{list-style-type:none}.lst-kix_og0h44h11kom-0>li{counter-increment:lst-ctn-kix_og0h44h11kom-0}.lst-kix_rztvt1qt68k4-4>li{counter-increment:lst-ctn-kix_rztvt1qt68k4-4}.lst-kix_djwvpntgt9wn-8>li:before{content:"\0025a0  "}ol.lst-kix_o4csfsvt568i-5.start{counter-reset:lst-ctn-kix_o4csfsvt568i-5 0}.lst-kix_ozrzovx1mz7z-4>li:before{content:"\0025cb  "}.lst-kix_2wzv0c37mscg-4>li{counter-increment:lst-ctn-kix_2wzv0c37mscg-4}.lst-kix_k4fu9hb01p68-1>li{counter-increment:lst-ctn-kix_k4fu9hb01p68-1}.lst-kix_mkkzzu530uy6-7>li:before{content:"\0025cb  "}.lst-kix_99kco6cmz88s-2>li{counter-increment:lst-ctn-kix_99kco6cmz88s-2}.lst-kix_vahsii3hvprg-4>li{counter-increment:lst-ctn-kix_vahsii3hvprg-4}ol.lst-kix_mvwurm2wk0z0-4{list-style-type:none}ol.lst-kix_mvwurm2wk0z0-3{list-style-type:none}ol.lst-kix_9uwxlic953dp-2.start{counter-reset:lst-ctn-kix_9uwxlic953dp-2 0}ol.lst-kix_mvwurm2wk0z0-2{list-style-type:none}ol.lst-kix_mvwurm2wk0z0-1{list-style-type:none}ol.lst-kix_eeflv3tx7x8-5.start{counter-reset:lst-ctn-kix_eeflv3tx7x8-5 0}ol.lst-kix_zcvl3fbc6do4-5.start{counter-reset:lst-ctn-kix_zcvl3fbc6do4-5 0}ol.lst-kix_mvwurm2wk0z0-0{list-style-type:none}.lst-kix_mkkzzu530uy6-3>li:before{content:"\0025cf  "}.lst-kix_3m69r918o16y-5>li{counter-increment:lst-ctn-kix_3m69r918o16y-5}.lst-kix_rs24r75b55qx-6>li:before{content:"\0025cf  "}.lst-kix_djwvpntgt9wn-0>li:before{content:"\0025cf  "}ol.lst-kix_8o0dmiuwe0b-1.start{counter-reset:lst-ctn-kix_8o0dmiuwe0b-1 0}ol.lst-kix_cg3ztxy94g5y-0.start{counter-reset:lst-ctn-kix_cg3ztxy94g5y-0 0}.lst-kix_2g1cy18v17xb-6>li:before{content:"" counter(lst-ctn-kix_2g1cy18v17xb-6,decimal) ". "}.lst-kix_2g1cy18v17xb-8>li:before{content:"" counter(lst-ctn-kix_2g1cy18v17xb-8,lower-roman) ". "}.lst-kix_pjnl93gc3004-1>li:before{content:"" counter(lst-ctn-kix_pjnl93gc3004-1,lower-latin) ". "}.lst-kix_v3y9rkuhngfi-3>li{counter-increment:lst-ctn-kix_v3y9rkuhngfi-3}.lst-kix_unslttc25noj-4>li:before{content:"\0025cb  "}ol.lst-kix_4a5cw2dlleht-4.start{counter-reset:lst-ctn-kix_4a5cw2dlleht-4 0}ol.lst-kix_zcvl3fbc6do4-0{list-style-type:none}.lst-kix_pjnl93gc3004-3>li:before{content:"" counter(lst-ctn-kix_pjnl93gc3004-3,decimal) ". "}.lst-kix_lg8dkrfv0qcu-8>li{counter-increment:lst-ctn-kix_lg8dkrfv0qcu-8}ul.lst-kix_665pdbwbvds7-0{list-style-type:none}.lst-kix_2g1cy18v17xb-0>li:before{content:"" counter(lst-ctn-kix_2g1cy18v17xb-0,decimal) ". "}ul.lst-kix_665pdbwbvds7-2{list-style-type:none}ol.lst-kix_9agb6svh85y5-7.start{counter-reset:lst-ctn-kix_9agb6svh85y5-7 0}ul.lst-kix_665pdbwbvds7-1{list-style-type:none}ol.lst-kix_2v6s1svct7dg-2.start{counter-reset:lst-ctn-kix_2v6s1svct7dg-2 0}.lst-kix_kjf8zdvo1lyf-2>li{counter-increment:lst-ctn-kix_kjf8zdvo1lyf-2}ol.lst-kix_g5hw4owq9gm6-5.start{counter-reset:lst-ctn-kix_g5hw4owq9gm6-5 0}ul.lst-kix_665pdbwbvds7-8{list-style-type:none}.lst-kix_unslttc25noj-6>li:before{content:"\0025cf  "}.lst-kix_k7cvqq8ohnqa-7>li:before{content:"\0025cb  "}ol.lst-kix_9uwxlic953dp-5.start{counter-reset:lst-ctn-kix_9uwxlic953dp-5 0}.lst-kix_u7fc8e9svd3w-8>li:before{content:"" counter(lst-ctn-kix_u7fc8e9svd3w-8,lower-roman) ". "}ul.lst-kix_665pdbwbvds7-7{list-style-type:none}ul.lst-kix_665pdbwbvds7-4{list-style-type:none}ol.lst-kix_ydcqnhnvg283-3.start{counter-reset:lst-ctn-kix_ydcqnhnvg283-3 0}.lst-kix_9agb6svh85y5-2>li:before{content:"" counter(lst-ctn-kix_9agb6svh85y5-2,lower-roman) ". "}ul.lst-kix_665pdbwbvds7-3{list-style-type:none}ul.lst-kix_665pdbwbvds7-6{list-style-type:none}ol.lst-kix_w2m28ilmo2lu-5.start{counter-reset:lst-ctn-kix_w2m28ilmo2lu-5 0}ul.lst-kix_665pdbwbvds7-5{list-style-type:none}.lst-kix_vgyg99bsujsi-3>li:before{content:"\0025cf  "}.lst-kix_vgyg99bsujsi-5>li:before{content:"\0025a0  "}.lst-kix_u5ht8watzdqo-3>li:before{content:"\0025cf  "}.lst-kix_tbb8lbzcx158-8>li:before{content:"\0025a0  "}.lst-kix_ccmzo2unoagl-1>li{counter-increment:lst-ctn-kix_ccmzo2unoagl-1}ol.lst-kix_j8m1cqcs8t5n-7.start{counter-reset:lst-ctn-kix_j8m1cqcs8t5n-7 0}.lst-kix_scdn9fkfpojm-8>li:before{content:"" counter(lst-ctn-kix_scdn9fkfpojm-8,lower-roman) ". "}.lst-kix_231qltjiej1b-8>li{counter-increment:lst-ctn-kix_231qltjiej1b-8}.lst-kix_cg3ztxy94g5y-8>li{counter-increment:lst-ctn-kix_cg3ztxy94g5y-8}ol.lst-kix_j2km2ok9rn2f-8.start{counter-reset:lst-ctn-kix_j2km2ok9rn2f-8 0}.lst-kix_3m69r918o16y-3>li{counter-increment:lst-ctn-kix_3m69r918o16y-3}.lst-kix_v3y9rkuhngfi-6>li:before{content:"" counter(lst-ctn-kix_v3y9rkuhngfi-6,decimal) ". "}.lst-kix_99kco6cmz88s-6>li:before{content:"" counter(lst-ctn-kix_99kco6cmz88s-6,decimal) ". "}.lst-kix_scdn9fkfpojm-6>li:before{content:"" counter(lst-ctn-kix_scdn9fkfpojm-6,decimal) ". "}.lst-kix_9agb6svh85y5-8>li:before{content:"" counter(lst-ctn-kix_9agb6svh85y5-8,lower-roman) ". "}.lst-kix_tbb8lbzcx158-2>li:before{content:"\0025a0  "}ol.lst-kix_zcvl3fbc6do4-6{list-style-type:none}.lst-kix_n74u8poefvny-8>li{counter-increment:lst-ctn-kix_n74u8poefvny-8}ol.lst-kix_zcvl3fbc6do4-5{list-style-type:none}.lst-kix_v3y9rkuhngfi-4>li:before{content:"" counter(lst-ctn-kix_v3y9rkuhngfi-4,lower-latin) ". "}ol.lst-kix_zcvl3fbc6do4-8{list-style-type:none}ol.lst-kix_zcvl3fbc6do4-7{list-style-type:none}ol.lst-kix_zcvl3fbc6do4-2{list-style-type:none}ol.lst-kix_zcvl3fbc6do4-1{list-style-type:none}ol.lst-kix_zcvl3fbc6do4-4{list-style-type:none}.lst-kix_scdn9fkfpojm-0>li:before{content:"" counter(lst-ctn-kix_scdn9fkfpojm-0,decimal) ". "}ol.lst-kix_zcvl3fbc6do4-3{list-style-type:none}ol.lst-kix_djxeid5213p-6.start{counter-reset:lst-ctn-kix_djxeid5213p-6 0}.lst-kix_u7fc8e9svd3w-0>li:before{content:"" counter(lst-ctn-kix_u7fc8e9svd3w-0,decimal) ". "}.lst-kix_99kco6cmz88s-4>li:before{content:"" counter(lst-ctn-kix_99kco6cmz88s-4,lower-latin) ". "}.lst-kix_pjnl93gc3004-7>li{counter-increment:lst-ctn-kix_pjnl93gc3004-7}ol.lst-kix_h61urw5blhfz-3.start{counter-reset:lst-ctn-kix_h61urw5blhfz-3 0}ol.lst-kix_um1ceofb3c39-3.start{counter-reset:lst-ctn-kix_um1ceofb3c39-3 0}.lst-kix_u7fc8e9svd3w-2>li:before{content:"" counter(lst-ctn-kix_u7fc8e9svd3w-2,lower-roman) ". "}.lst-kix_pjnl93gc3004-3>li{counter-increment:lst-ctn-kix_pjnl93gc3004-3}.lst-kix_nyn4osmxptvt-0>li:before{content:"" counter(lst-ctn-kix_nyn4osmxptvt-0,decimal) ". "}ol.lst-kix_g5hw4owq9gm6-0.start{counter-reset:lst-ctn-kix_g5hw4owq9gm6-0 0}.lst-kix_5y6fjlsif51k-1>li:before{content:"" counter(lst-ctn-kix_5y6fjlsif51k-1,lower-latin) ". "}ol.lst-kix_j8m1cqcs8t5n-2.start{counter-reset:lst-ctn-kix_j8m1cqcs8t5n-2 0}.lst-kix_tbb8lbzcx158-0>li:before{content:"\0025cf  "}.lst-kix_h61urw5blhfz-5>li{counter-increment:lst-ctn-kix_h61urw5blhfz-5}ol.lst-kix_ydcqnhnvg283-8.start{counter-reset:lst-ctn-kix_ydcqnhnvg283-8 0}.lst-kix_kjf8zdvo1lyf-0>li:before{content:"" counter(lst-ctn-kix_kjf8zdvo1lyf-0,decimal) ". "}.lst-kix_9agb6svh85y5-0>li:before{content:"" counter(lst-ctn-kix_9agb6svh85y5-0,decimal) ". "}ol.lst-kix_j2km2ok9rn2f-3.start{counter-reset:lst-ctn-kix_j2km2ok9rn2f-3 0}ol.lst-kix_ixkeh6iza7m6-4.start{counter-reset:lst-ctn-kix_ixkeh6iza7m6-4 0}.lst-kix_k4fu9hb01p68-3>li{counter-increment:lst-ctn-kix_k4fu9hb01p68-3}.lst-kix_5y6fjlsif51k-7>li:before{content:"" counter(lst-ctn-kix_5y6fjlsif51k-7,lower-latin) ". "}.lst-kix_nyn4osmxptvt-6>li:before{content:"" counter(lst-ctn-kix_nyn4osmxptvt-6,decimal) ". "}ol.lst-kix_ry2l2t3q0bf2-1{list-style-type:none}ol.lst-kix_ry2l2t3q0bf2-0{list-style-type:none}ol.lst-kix_o4csfsvt568i-2.start{counter-reset:lst-ctn-kix_o4csfsvt568i-2 0}ol.lst-kix_ry2l2t3q0bf2-3{list-style-type:none}ol.lst-kix_ry2l2t3q0bf2-2{list-style-type:none}.lst-kix_nyn4osmxptvt-8>li:before{content:"" counter(lst-ctn-kix_nyn4osmxptvt-8,lower-roman) ". "}ol.lst-kix_ry2l2t3q0bf2-5{list-style-type:none}ol.lst-kix_ry2l2t3q0bf2-4{list-style-type:none}ol.lst-kix_demv1nd5mcc4-5.start{counter-reset:lst-ctn-kix_demv1nd5mcc4-5 0}ol.lst-kix_ry2l2t3q0bf2-7{list-style-type:none}ol.lst-kix_ry2l2t3q0bf2-6{list-style-type:none}.lst-kix_nd89m1hvvn3x-1>li:before{content:"\0025cb  "}ul.lst-kix_djwvpntgt9wn-1{list-style-type:none}ul.lst-kix_djwvpntgt9wn-2{list-style-type:none}ul.lst-kix_djwvpntgt9wn-0{list-style-type:none}.lst-kix_nd89m1hvvn3x-3>li:before{content:"\0025cf  "}ul.lst-kix_djwvpntgt9wn-5{list-style-type:none}ul.lst-kix_djwvpntgt9wn-6{list-style-type:none}ol.lst-kix_kjf8zdvo1lyf-4.start{counter-reset:lst-ctn-kix_kjf8zdvo1lyf-4 0}ul.lst-kix_djwvpntgt9wn-3{list-style-type:none}.lst-kix_nz0lhoo7aztq-1>li{counter-increment:lst-ctn-kix_nz0lhoo7aztq-1}ol.lst-kix_djxeid5213p-1.start{counter-reset:lst-ctn-kix_djxeid5213p-1 0}ul.lst-kix_djwvpntgt9wn-4{list-style-type:none}.lst-kix_mvwurm2wk0z0-5>li{counter-increment:lst-ctn-kix_mvwurm2wk0z0-5}.lst-kix_sq802hiknv0u-4>li:before{content:"\0025cb  "}ul.lst-kix_djwvpntgt9wn-7{list-style-type:none}ol.lst-kix_1scnce6wk35f-0.start{counter-reset:lst-ctn-kix_1scnce6wk35f-0 0}ul.lst-kix_djwvpntgt9wn-8{list-style-type:none}.lst-kix_ijvyr9rw1jkb-4>li{counter-increment:lst-ctn-kix_ijvyr9rw1jkb-4}.lst-kix_zcvl3fbc6do4-3>li{counter-increment:lst-ctn-kix_zcvl3fbc6do4-3}.lst-kix_sq802hiknv0u-2>li:before{content:"\0025a0  "}.lst-kix_ccmzo2unoagl-8>li{counter-increment:lst-ctn-kix_ccmzo2unoagl-8}ul.lst-kix_1znearomzlt0-6{list-style-type:none}ul.lst-kix_1znearomzlt0-7{list-style-type:none}ul.lst-kix_1znearomzlt0-4{list-style-type:none}ul.lst-kix_1znearomzlt0-5{list-style-type:none}ul.lst-kix_1znearomzlt0-8{list-style-type:none}.lst-kix_q1dqwj8wphtj-8>li{counter-increment:lst-ctn-kix_q1dqwj8wphtj-8}.lst-kix_ijpqatjyilkj-2>li:before{content:"\0025a0  "}ol.lst-kix_ry2l2t3q0bf2-2.start{counter-reset:lst-ctn-kix_ry2l2t3q0bf2-2 0}.lst-kix_pjnl93gc3004-0>li{counter-increment:lst-ctn-kix_pjnl93gc3004-0}.lst-kix_ijpqatjyilkj-0>li:before{content:"\0025cf  "}.lst-kix_lg8dkrfv0qcu-1>li{counter-increment:lst-ctn-kix_lg8dkrfv0qcu-1}ol.lst-kix_j8m1cqcs8t5n-0.start{counter-reset:lst-ctn-kix_j8m1cqcs8t5n-0 0}.lst-kix_beo0nvieqvft-3>li:before{content:"\0025cf  "}.lst-kix_beo0nvieqvft-5>li:before{content:"\0025a0  "}.lst-kix_u7fc8e9svd3w-0>li{counter-increment:lst-ctn-kix_u7fc8e9svd3w-0}ol.lst-kix_pug38gcm3mfz-7{list-style-type:none}.lst-kix_2wzv0c37mscg-2>li:before{content:"" counter(lst-ctn-kix_2wzv0c37mscg-2,lower-roman) ". "}ol.lst-kix_pug38gcm3mfz-8{list-style-type:none}ol.lst-kix_pug38gcm3mfz-5{list-style-type:none}ol.lst-kix_pug38gcm3mfz-6{list-style-type:none}.lst-kix_2v6s1svct7dg-0>li{counter-increment:lst-ctn-kix_2v6s1svct7dg-0}.lst-kix_2wzv0c37mscg-2>li{counter-increment:lst-ctn-kix_2wzv0c37mscg-2}ol.lst-kix_pug38gcm3mfz-3{list-style-type:none}.lst-kix_6lbfx97xtcef-5>li{counter-increment:lst-ctn-kix_6lbfx97xtcef-5}ol.lst-kix_pug38gcm3mfz-4{list-style-type:none}.lst-kix_nz0lhoo7aztq-8>li{counter-increment:lst-ctn-kix_nz0lhoo7aztq-8}ol.lst-kix_9uwxlic953dp-7.start{counter-reset:lst-ctn-kix_9uwxlic953dp-7 0}ol.lst-kix_pug38gcm3mfz-1{list-style-type:none}ol.lst-kix_pug38gcm3mfz-2{list-style-type:none}.lst-kix_ccmzo2unoagl-4>li{counter-increment:lst-ctn-kix_ccmzo2unoagl-4}.lst-kix_2wzv0c37mscg-4>li:before{content:"" counter(lst-ctn-kix_2wzv0c37mscg-4,lower-latin) ". "}ol.lst-kix_pug38gcm3mfz-0{list-style-type:none}ol.lst-kix_demv1nd5mcc4-0.start{counter-reset:lst-ctn-kix_demv1nd5mcc4-0 0}.lst-kix_5m5pl1amlgdu-3>li:before{content:"\0025cf  "}.lst-kix_5m5pl1amlgdu-5>li:before{content:"\0025a0  "}ol.lst-kix_j2km2ok9rn2f-1.start{counter-reset:lst-ctn-kix_j2km2ok9rn2f-1 0}ol.lst-kix_n74u8poefvny-5.start{counter-reset:lst-ctn-kix_n74u8poefvny-5 0}.lst-kix_99kco6cmz88s-0>li{counter-increment:lst-ctn-kix_99kco6cmz88s-0}.lst-kix_ijpqatjyilkj-8>li:before{content:"\0025a0  "}.lst-kix_cg3ztxy94g5y-4>li{counter-increment:lst-ctn-kix_cg3ztxy94g5y-4}ol.lst-kix_8vs3c95uml8g-2.start{counter-reset:lst-ctn-kix_8vs3c95uml8g-2 0}.lst-kix_kvzqjuu34aac-1>li{counter-increment:lst-ctn-kix_kvzqjuu34aac-1}ol.lst-kix_2v6s1svct7dg-7.start{counter-reset:lst-ctn-kix_2v6s1svct7dg-7 0}ul.lst-kix_mhuhx3jkg1i5-8{list-style-type:none}ol.lst-kix_w2m28ilmo2lu-7.start{counter-reset:lst-ctn-kix_w2m28ilmo2lu-7 0}ul.lst-kix_mhuhx3jkg1i5-7{list-style-type:none}ul.lst-kix_mhuhx3jkg1i5-6{list-style-type:none}ol.lst-kix_ydcqnhnvg283-5.start{counter-reset:lst-ctn-kix_ydcqnhnvg283-5 0}ul.lst-kix_mhuhx3jkg1i5-5{list-style-type:none}ol.lst-kix_ccmzo2unoagl-8{list-style-type:none}ul.lst-kix_mhuhx3jkg1i5-4{list-style-type:none}ol.lst-kix_ccmzo2unoagl-7{list-style-type:none}ul.lst-kix_mhuhx3jkg1i5-3{list-style-type:none}ul.lst-kix_mhuhx3jkg1i5-2{list-style-type:none}ul.lst-kix_mhuhx3jkg1i5-1{list-style-type:none}ol.lst-kix_3m69r918o16y-3.start{counter-reset:lst-ctn-kix_3m69r918o16y-3 0}ul.lst-kix_ae2kguhc9rtx-8{list-style-type:none}ul.lst-kix_ae2kguhc9rtx-7{list-style-type:none}ul.lst-kix_ae2kguhc9rtx-6{list-style-type:none}.lst-kix_j2km2ok9rn2f-8>li:before{content:"" counter(lst-ctn-kix_j2km2ok9rn2f-8,lower-roman) ". "}ul.lst-kix_ae2kguhc9rtx-1{list-style-type:none}.lst-kix_j2km2ok9rn2f-6>li:before{content:"" counter(lst-ctn-kix_j2km2ok9rn2f-6,decimal) ". "}ul.lst-kix_ae2kguhc9rtx-0{list-style-type:none}.lst-kix_pug38gcm3mfz-6>li{counter-increment:lst-ctn-kix_pug38gcm3mfz-6}ul.lst-kix_ae2kguhc9rtx-5{list-style-type:none}ul.lst-kix_ae2kguhc9rtx-4{list-style-type:none}ol.lst-kix_ixkeh6iza7m6-1.start{counter-reset:lst-ctn-kix_ixkeh6iza7m6-1 0}ul.lst-kix_ae2kguhc9rtx-3{list-style-type:none}ul.lst-kix_ae2kguhc9rtx-2{list-style-type:none}ul.lst-kix_w4optp8ta93z-6{list-style-type:none}ol.lst-kix_cg3ztxy94g5y-7.start{counter-reset:lst-ctn-kix_cg3ztxy94g5y-7 0}ol.lst-kix_o4csfsvt568i-0.start{counter-reset:lst-ctn-kix_o4csfsvt568i-0 0}ul.lst-kix_w4optp8ta93z-7{list-style-type:none}.lst-kix_mlk6dnhjzk7u-5>li{counter-increment:lst-ctn-kix_mlk6dnhjzk7u-5}ul.lst-kix_w4optp8ta93z-4{list-style-type:none}ul.lst-kix_w4optp8ta93z-5{list-style-type:none}ol.lst-kix_6lbfx97xtcef-8.start{counter-reset:lst-ctn-kix_6lbfx97xtcef-8 0}.lst-kix_j2km2ok9rn2f-0>li:before{content:"" counter(lst-ctn-kix_j2km2ok9rn2f-0,decimal) ". "}ul.lst-kix_w4optp8ta93z-8{list-style-type:none}ul.lst-kix_w4optp8ta93z-2{list-style-type:none}ul.lst-kix_w4optp8ta93z-3{list-style-type:none}ul.lst-kix_w4optp8ta93z-0{list-style-type:none}ul.lst-kix_w4optp8ta93z-1{list-style-type:none}ol.lst-kix_ccmzo2unoagl-4{list-style-type:none}ul.lst-kix_mhuhx3jkg1i5-0{list-style-type:none}ol.lst-kix_ccmzo2unoagl-3{list-style-type:none}ol.lst-kix_ccmzo2unoagl-6{list-style-type:none}ol.lst-kix_ccmzo2unoagl-5{list-style-type:none}ol.lst-kix_ccmzo2unoagl-0{list-style-type:none}.lst-kix_k7cvqq8ohnqa-1>li:before{content:"\0025cb  "}ol.lst-kix_ccmzo2unoagl-2{list-style-type:none}ol.lst-kix_ccmzo2unoagl-1{list-style-type:none}.lst-kix_demv1nd5mcc4-4>li{counter-increment:lst-ctn-kix_demv1nd5mcc4-4}.lst-kix_1scnce6wk35f-1>li{counter-increment:lst-ctn-kix_1scnce6wk35f-1}ul.lst-kix_1znearomzlt0-2{list-style-type:none}ul.lst-kix_1znearomzlt0-3{list-style-type:none}ul.lst-kix_1znearomzlt0-0{list-style-type:none}ul.lst-kix_1znearomzlt0-1{list-style-type:none}ol.lst-kix_3vj5z9behcl1-7.start{counter-reset:lst-ctn-kix_3vj5z9behcl1-7 0}.lst-kix_4a5cw2dlleht-2>li:before{content:"" counter(lst-ctn-kix_4a5cw2dlleht-2,lower-roman) ". "}.lst-kix_ynk1jb423v8p-3>li:before{content:"\0025cf  "}.lst-kix_ccmzo2unoagl-2>li:before{content:"" counter(lst-ctn-kix_ccmzo2unoagl-2,lower-roman) ". "}ol.lst-kix_u7fc8e9svd3w-4.start{counter-reset:lst-ctn-kix_u7fc8e9svd3w-4 0}.lst-kix_h61urw5blhfz-8>li{counter-increment:lst-ctn-kix_h61urw5blhfz-8}ol.lst-kix_1scnce6wk35f-3.start{counter-reset:lst-ctn-kix_1scnce6wk35f-3 0}.lst-kix_vu8ackanrfrr-2>li{counter-increment:lst-ctn-kix_vu8ackanrfrr-2}ul.lst-kix_i0lb8zu4qt6n-3{list-style-type:none}ul.lst-kix_i0lb8zu4qt6n-2{list-style-type:none}ol.lst-kix_g5hw4owq9gm6-2.start{counter-reset:lst-ctn-kix_g5hw4owq9gm6-2 0}.lst-kix_89ivjl2uxnp3-2>li:before{content:"" counter(lst-ctn-kix_89ivjl2uxnp3-2,lower-roman) ". "}ul.lst-kix_i0lb8zu4qt6n-1{list-style-type:none}.lst-kix_lo7chw702g52-4>li:before{content:"\0025cb  "}ul.lst-kix_i0lb8zu4qt6n-0{list-style-type:none}.lst-kix_mvwurm2wk0z0-8>li{counter-increment:lst-ctn-kix_mvwurm2wk0z0-8}ul.lst-kix_i0lb8zu4qt6n-7{list-style-type:none}ul.lst-kix_i0lb8zu4qt6n-6{list-style-type:none}ul.lst-kix_i0lb8zu4qt6n-5{list-style-type:none}.lst-kix_u7fc8e9svd3w-7>li{counter-increment:lst-ctn-kix_u7fc8e9svd3w-7}ul.lst-kix_i0lb8zu4qt6n-4{list-style-type:none}.lst-kix_demv1nd5mcc4-8>li{counter-increment:lst-ctn-kix_demv1nd5mcc4-8}.lst-kix_q1dqwj8wphtj-1>li{counter-increment:lst-ctn-kix_q1dqwj8wphtj-1}.lst-kix_1scnce6wk35f-2>li:before{content:"" counter(lst-ctn-kix_1scnce6wk35f-2,lower-roman) ". "}.lst-kix_tcwr7sx3qmaw-5>li:before{content:"" counter(lst-ctn-kix_tcwr7sx3qmaw-5,lower-roman) ". "}ol.lst-kix_demv1nd5mcc4-7.start{counter-reset:lst-ctn-kix_demv1nd5mcc4-7 0}.lst-kix_mhuhx3jkg1i5-6>li:before{content:"\0025cf  "}.lst-kix_eeflv3tx7x8-3>li:before{content:"" counter(lst-ctn-kix_eeflv3tx7x8-3,decimal) ". "}.lst-kix_g5hw4owq9gm6-8>li:before{content:"" counter(lst-ctn-kix_g5hw4owq9gm6-8,lower-roman) ". "}ol.lst-kix_ijvyr9rw1jkb-8.start{counter-reset:lst-ctn-kix_ijvyr9rw1jkb-8 0}.lst-kix_ixkeh6iza7m6-2>li{counter-increment:lst-ctn-kix_ixkeh6iza7m6-2}.lst-kix_nz0lhoo7aztq-4>li:before{content:"" counter(lst-ctn-kix_nz0lhoo7aztq-4,lower-latin) ". "}.lst-kix_231qltjiej1b-5>li{counter-increment:lst-ctn-kix_231qltjiej1b-5}.lst-kix_2v6s1svct7dg-3>li{counter-increment:lst-ctn-kix_2v6s1svct7dg-3}.lst-kix_2yjh37mgtbm2-2>li:before{content:"\0025a0  "}.lst-kix_tcwr7sx3qmaw-5>li{counter-increment:lst-ctn-kix_tcwr7sx3qmaw-5}ol.lst-kix_nyn4osmxptvt-2.start{counter-reset:lst-ctn-kix_nyn4osmxptvt-2 0}.lst-kix_m8mqfhiovwl-8>li:before{content:"\0025a0  "}.lst-kix_zcvl3fbc6do4-7>li{counter-increment:lst-ctn-kix_zcvl3fbc6do4-7}.lst-kix_zcvl3fbc6do4-1>li:before{content:"" counter(lst-ctn-kix_zcvl3fbc6do4-1,lower-latin) ". "}.lst-kix_n6de3aaazbqx-5>li:before{content:"\0025a0  "}ol.lst-kix_k4fu9hb01p68-6.start{counter-reset:lst-ctn-kix_k4fu9hb01p68-6 0}ol.lst-kix_nz0lhoo7aztq-4.start{counter-reset:lst-ctn-kix_nz0lhoo7aztq-4 0}.lst-kix_ixkeh6iza7m6-3>li:before{content:"" counter(lst-ctn-kix_ixkeh6iza7m6-3,decimal) ". "}ol.lst-kix_1scnce6wk35f-8.start{counter-reset:lst-ctn-kix_1scnce6wk35f-8 0}.lst-kix_ydcqnhnvg283-2>li{counter-increment:lst-ctn-kix_ydcqnhnvg283-2}ol.lst-kix_nyn4osmxptvt-1.start{counter-reset:lst-ctn-kix_nyn4osmxptvt-1 0}.lst-kix_3m69r918o16y-5>li:before{content:"" counter(lst-ctn-kix_3m69r918o16y-5,lower-roman) ". "}ol.lst-kix_3m69r918o16y-6.start{counter-reset:lst-ctn-kix_3m69r918o16y-6 0}.lst-kix_ijvyr9rw1jkb-1>li{counter-increment:lst-ctn-kix_ijvyr9rw1jkb-1}ol.lst-kix_tcwr7sx3qmaw-7.start{counter-reset:lst-ctn-kix_tcwr7sx3qmaw-7 0}ol.lst-kix_h61urw5blhfz-5.start{counter-reset:lst-ctn-kix_h61urw5blhfz-5 0}.lst-kix_lg8dkrfv0qcu-5>li{counter-increment:lst-ctn-kix_lg8dkrfv0qcu-5}ol.lst-kix_g5hw4owq9gm6-7.start{counter-reset:lst-ctn-kix_g5hw4owq9gm6-7 0}ul.lst-kix_nd89m1hvvn3x-7{list-style-type:none}ul.lst-kix_nd89m1hvvn3x-8{list-style-type:none}ul.lst-kix_nd89m1hvvn3x-5{list-style-type:none}.lst-kix_2epif0ienwnx-4>li:before{content:"\0025cb  "}ul.lst-kix_nd89m1hvvn3x-6{list-style-type:none}ul.lst-kix_nd89m1hvvn3x-3{list-style-type:none}ol.lst-kix_4a5cw2dlleht-2.start{counter-reset:lst-ctn-kix_4a5cw2dlleht-2 0}ul.lst-kix_nd89m1hvvn3x-4{list-style-type:none}ul.lst-kix_nd89m1hvvn3x-1{list-style-type:none}ol.lst-kix_ijvyr9rw1jkb-3.start{counter-reset:lst-ctn-kix_ijvyr9rw1jkb-3 0}ul.lst-kix_nd89m1hvvn3x-2{list-style-type:none}.lst-kix_kjf8zdvo1lyf-5>li{counter-increment:lst-ctn-kix_kjf8zdvo1lyf-5}ul.lst-kix_nd89m1hvvn3x-0{list-style-type:none}.lst-kix_kvzqjuu34aac-8>li{counter-increment:lst-ctn-kix_kvzqjuu34aac-8}ol.lst-kix_nz0lhoo7aztq-3.start{counter-reset:lst-ctn-kix_nz0lhoo7aztq-3 0}.lst-kix_m8mqfhiovwl-0>li:before{content:"\0025cf  "}ol.lst-kix_9agb6svh85y5-5.start{counter-reset:lst-ctn-kix_9agb6svh85y5-5 0}ol.lst-kix_89ivjl2uxnp3-5.start{counter-reset:lst-ctn-kix_89ivjl2uxnp3-5 0}.lst-kix_cg3ztxy94g5y-6>li:before{content:"" counter(lst-ctn-kix_cg3ztxy94g5y-6,decimal) ". "}ol.lst-kix_n74u8poefvny-3.start{counter-reset:lst-ctn-kix_n74u8poefvny-3 0}.lst-kix_cekjy5rtkev4-3>li:before{content:"\0025cf  "}ol.lst-kix_pug38gcm3mfz-1.start{counter-reset:lst-ctn-kix_pug38gcm3mfz-1 0}ol.lst-kix_u7fc8e9svd3w-3.start{counter-reset:lst-ctn-kix_u7fc8e9svd3w-3 0}ol.lst-kix_um1ceofb3c39-5.start{counter-reset:lst-ctn-kix_um1ceofb3c39-5 0}.lst-kix_nbgultvqf3c-6>li:before{content:"\0025cf  "}ul.lst-kix_i0lb8zu4qt6n-8{list-style-type:none}ol.lst-kix_djxeid5213p-8.start{counter-reset:lst-ctn-kix_djxeid5213p-8 0}.lst-kix_g7bqe7r6c5y-3>li:before{content:"\0025cf  "}.lst-kix_zcvl3fbc6do4-0>li{counter-increment:lst-ctn-kix_zcvl3fbc6do4-0}.lst-kix_n74u8poefvny-3>li:before{content:"" counter(lst-ctn-kix_n74u8poefvny-3,decimal) ". "}.lst-kix_cg3ztxy94g5y-1>li{counter-increment:lst-ctn-kix_cg3ztxy94g5y-1}.lst-kix_demv1nd5mcc4-2>li:before{content:"" counter(lst-ctn-kix_demv1nd5mcc4-2,lower-roman) ". "}.lst-kix_demv1nd5mcc4-1>li{counter-increment:lst-ctn-kix_demv1nd5mcc4-1}.lst-kix_kvzqjuu34aac-0>li:before{content:"" counter(lst-ctn-kix_kvzqjuu34aac-0,decimal) ". "}.lst-kix_kvzqjuu34aac-8>li:before{content:"" counter(lst-ctn-kix_kvzqjuu34aac-8,lower-roman) ". "}.lst-kix_5wibt4kf5001-5>li:before{content:"\0025a0  "}ol.lst-kix_3m69r918o16y-8.start{counter-reset:lst-ctn-kix_3m69r918o16y-8 0}.lst-kix_2g1cy18v17xb-3>li{counter-increment:lst-ctn-kix_2g1cy18v17xb-3}.lst-kix_nz0lhoo7aztq-5>li{counter-increment:lst-ctn-kix_nz0lhoo7aztq-5}.lst-kix_r0n1ukoeko9i-1>li:before{content:"" counter(lst-ctn-kix_r0n1ukoeko9i-1,lower-latin) ". "}ol.lst-kix_9agb6svh85y5-0.start{counter-reset:lst-ctn-kix_9agb6svh85y5-0 0}ol.lst-kix_k4fu9hb01p68-2.start{counter-reset:lst-ctn-kix_k4fu9hb01p68-2 0}.lst-kix_um1ceofb3c39-3>li:before{content:"" counter(lst-ctn-kix_um1ceofb3c39-3,decimal) ". "}.lst-kix_9uwxlic953dp-5>li:before{content:"" counter(lst-ctn-kix_9uwxlic953dp-5,lower-roman) ". "}.lst-kix_ijvyr9rw1jkb-8>li:before{content:"" counter(lst-ctn-kix_ijvyr9rw1jkb-8,lower-roman) ". "}.lst-kix_h61urw5blhfz-1>li{counter-increment:lst-ctn-kix_h61urw5blhfz-1}.lst-kix_mvwurm2wk0z0-1>li{counter-increment:lst-ctn-kix_mvwurm2wk0z0-1}.lst-kix_jzsgaky6g7z3-6>li:before{content:"" counter(lst-ctn-kix_jzsgaky6g7z3-6,decimal) ". "}ol.lst-kix_pug38gcm3mfz-6.start{counter-reset:lst-ctn-kix_pug38gcm3mfz-6 0}.lst-kix_rztvt1qt68k4-4>li:before{content:"" counter(lst-ctn-kix_rztvt1qt68k4-4,lower-latin) ". "}.lst-kix_um1ceofb3c39-6>li{counter-increment:lst-ctn-kix_um1ceofb3c39-6}.lst-kix_4x89tkurgtys-4>li:before{content:"\0025cb  "}.lst-kix_231qltjiej1b-4>li:before{content:"" counter(lst-ctn-kix_231qltjiej1b-4,lower-latin) ". "}ol.lst-kix_u7fc8e9svd3w-8.start{counter-reset:lst-ctn-kix_u7fc8e9svd3w-8 0}.lst-kix_w2m28ilmo2lu-2>li{counter-increment:lst-ctn-kix_w2m28ilmo2lu-2}.lst-kix_2v6s1svct7dg-0>li:before{content:"" counter(lst-ctn-kix_2v6s1svct7dg-0,decimal) ". "}ol.lst-kix_1scnce6wk35f-5.start{counter-reset:lst-ctn-kix_1scnce6wk35f-5 0}.lst-kix_pug38gcm3mfz-2>li{counter-increment:lst-ctn-kix_pug38gcm3mfz-2}.lst-kix_70i2e22v5l2-3>li:before{content:"\0025cf  "}.lst-kix_ijvyr9rw1jkb-0>li:before{content:"" counter(lst-ctn-kix_ijvyr9rw1jkb-0,decimal) ". "}.lst-kix_kjf8zdvo1lyf-6>li:before{content:"" counter(lst-ctn-kix_kjf8zdvo1lyf-6,decimal) ". "}.lst-kix_8vs3c95uml8g-6>li:before{content:"" counter(lst-ctn-kix_8vs3c95uml8g-6,decimal) ". "}.lst-kix_bp14me61tv7k-3>li:before{content:"\0025cf  "}.lst-kix_djxeid5213p-4>li:before{content:"" counter(lst-ctn-kix_djxeid5213p-4,lower-latin) ". "}ol.lst-kix_ijvyr9rw1jkb-4.start{counter-reset:lst-ctn-kix_ijvyr9rw1jkb-4 0}.lst-kix_2v6s1svct7dg-8>li:before{content:"" counter(lst-ctn-kix_2v6s1svct7dg-8,lower-roman) ". "}.lst-kix_cflgkiusf2ss-6>li:before{content:"-  "}.lst-kix_1znearomzlt0-4>li:before{content:"\0025cb  "}.lst-kix_og0h44h11kom-1>li:before{content:"" counter(lst-ctn-kix_og0h44h11kom-1,lower-latin) ". "}ol.lst-kix_vu8ackanrfrr-8{list-style-type:none}ol.lst-kix_vu8ackanrfrr-7{list-style-type:none}ol.lst-kix_vu8ackanrfrr-6{list-style-type:none}.lst-kix_o4csfsvt568i-3>li:before{content:"" counter(lst-ctn-kix_o4csfsvt568i-3,decimal) ". "}ol.lst-kix_vu8ackanrfrr-1{list-style-type:none}.lst-kix_ijvyr9rw1jkb-8>li{counter-increment:lst-ctn-kix_ijvyr9rw1jkb-8}.lst-kix_q1dqwj8wphtj-4>li{counter-increment:lst-ctn-kix_q1dqwj8wphtj-4}ol.lst-kix_vu8ackanrfrr-0{list-style-type:none}.lst-kix_ozrzovx1mz7z-2>li:before{content:"\0025a0  "}.lst-kix_rs24r75b55qx-0>li:before{content:"\0025cf  "}ol.lst-kix_vu8ackanrfrr-5{list-style-type:none}ol.lst-kix_vu8ackanrfrr-4{list-style-type:none}ol.lst-kix_pug38gcm3mfz-4.start{counter-reset:lst-ctn-kix_pug38gcm3mfz-4 0}ol.lst-kix_vu8ackanrfrr-3{list-style-type:none}ol.lst-kix_9agb6svh85y5-2.start{counter-reset:lst-ctn-kix_9agb6svh85y5-2 0}ol.lst-kix_vu8ackanrfrr-2{list-style-type:none}.lst-kix_6no4tthr2wo1-4>li:before{content:"" counter(lst-ctn-kix_6no4tthr2wo1-4,lower-latin) ". "}.lst-kix_j8m1cqcs8t5n-7>li:before{content:"" counter(lst-ctn-kix_j8m1cqcs8t5n-7,lower-latin) ". "}ol.lst-kix_u7fc8e9svd3w-6.start{counter-reset:lst-ctn-kix_u7fc8e9svd3w-6 0}.lst-kix_pug38gcm3mfz-4>li:before{content:"" counter(lst-ctn-kix_pug38gcm3mfz-4,lower-latin) ". "}ol.lst-kix_2v6s1svct7dg-3{list-style-type:none}ol.lst-kix_2v6s1svct7dg-4{list-style-type:none}.lst-kix_mkkzzu530uy6-5>li:before{content:"\0025a0  "}ol.lst-kix_2v6s1svct7dg-1{list-style-type:none}ol.lst-kix_2v6s1svct7dg-2{list-style-type:none}.lst-kix_djxeid5213p-6>li{counter-increment:lst-ctn-kix_djxeid5213p-6}.lst-kix_6lbfx97xtcef-1>li:before{content:"" counter(lst-ctn-kix_6lbfx97xtcef-1,lower-latin) ". "}.lst-kix_rs24r75b55qx-8>li:before{content:"\0025a0  "}ol.lst-kix_2v6s1svct7dg-7{list-style-type:none}ol.lst-kix_2v6s1svct7dg-8{list-style-type:none}ol.lst-kix_j8m1cqcs8t5n-5.start{counter-reset:lst-ctn-kix_j8m1cqcs8t5n-5 0}ol.lst-kix_2v6s1svct7dg-5{list-style-type:none}ol.lst-kix_2v6s1svct7dg-6{list-style-type:none}ol.lst-kix_ijvyr9rw1jkb-6.start{counter-reset:lst-ctn-kix_ijvyr9rw1jkb-6 0}ol.lst-kix_89ivjl2uxnp3-7.start{counter-reset:lst-ctn-kix_89ivjl2uxnp3-7 0}.lst-kix_j8m1cqcs8t5n-5>li{counter-increment:lst-ctn-kix_j8m1cqcs8t5n-5}ol.lst-kix_k4fu9hb01p68-0{list-style-type:none}ol.lst-kix_rztvt1qt68k4-1{list-style-type:none}ol.lst-kix_rztvt1qt68k4-0{list-style-type:none}ol.lst-kix_rztvt1qt68k4-3{list-style-type:none}ol.lst-kix_k4fu9hb01p68-4{list-style-type:none}ol.lst-kix_rztvt1qt68k4-2{list-style-type:none}ol.lst-kix_k4fu9hb01p68-3{list-style-type:none}ol.lst-kix_rztvt1qt68k4-5{list-style-type:none}ol.lst-kix_k4fu9hb01p68-2{list-style-type:none}ol.lst-kix_um1ceofb3c39-8.start{counter-reset:lst-ctn-kix_um1ceofb3c39-8 0}ol.lst-kix_n74u8poefvny-0.start{counter-reset:lst-ctn-kix_n74u8poefvny-0 0}ol.lst-kix_rztvt1qt68k4-4{list-style-type:none}ol.lst-kix_k4fu9hb01p68-1{list-style-type:none}ol.lst-kix_rztvt1qt68k4-7{list-style-type:none}ol.lst-kix_k4fu9hb01p68-8{list-style-type:none}ol.lst-kix_rztvt1qt68k4-6{list-style-type:none}ol.lst-kix_k4fu9hb01p68-7{list-style-type:none}ol.lst-kix_k4fu9hb01p68-1.start{counter-reset:lst-ctn-kix_k4fu9hb01p68-1 0}ol.lst-kix_k4fu9hb01p68-6{list-style-type:none}ol.lst-kix_h61urw5blhfz-8.start{counter-reset:lst-ctn-kix_h61urw5blhfz-8 0}ol.lst-kix_rztvt1qt68k4-8{list-style-type:none}ol.lst-kix_k4fu9hb01p68-5{list-style-type:none}.lst-kix_djwvpntgt9wn-2>li:before{content:"\0025a0  "}.lst-kix_3ihm6str0kxg-6>li:before{content:"\0025cf  "}ol.lst-kix_2v6s1svct7dg-0{list-style-type:none}.lst-kix_v3y9rkuhngfi-6>li{counter-increment:lst-ctn-kix_v3y9rkuhngfi-6}.lst-kix_lcivzm6bc10p-2>li:before{content:"\0025a0  "}ol.lst-kix_j2km2ok9rn2f-6.start{counter-reset:lst-ctn-kix_j2km2ok9rn2f-6 0}.lst-kix_vahsii3hvprg-8>li:before{content:"" counter(lst-ctn-kix_vahsii3hvprg-8,lower-roman) ". "}.lst-kix_dxyyq7gegouy-6>li:before{content:"\0025cf  "}.lst-kix_q1dqwj8wphtj-7>li:before{content:"" counter(lst-ctn-kix_q1dqwj8wphtj-7,lower-latin) ". "}ul.lst-kix_lfh56zd88abz-5{list-style-type:none}.lst-kix_vahsii3hvprg-5>li:before{content:"" counter(lst-ctn-kix_vahsii3hvprg-5,lower-roman) ". "}ol.lst-kix_ijvyr9rw1jkb-2{list-style-type:none}ul.lst-kix_lfh56zd88abz-6{list-style-type:none}ol.lst-kix_ijvyr9rw1jkb-1{list-style-type:none}ul.lst-kix_lfh56zd88abz-7{list-style-type:none}ol.lst-kix_ijvyr9rw1jkb-0{list-style-type:none}.lst-kix_w4optp8ta93z-1>li:before{content:"\0025cb  "}ul.lst-kix_lfh56zd88abz-8{list-style-type:none}ul.lst-kix_lfh56zd88abz-1{list-style-type:none}.lst-kix_vahsii3hvprg-3>li:before{content:"" counter(lst-ctn-kix_vahsii3hvprg-3,decimal) ". "}ol.lst-kix_ijvyr9rw1jkb-6{list-style-type:none}ul.lst-kix_lfh56zd88abz-2{list-style-type:none}ol.lst-kix_ijvyr9rw1jkb-5{list-style-type:none}ol.lst-kix_1scnce6wk35f-6.start{counter-reset:lst-ctn-kix_1scnce6wk35f-6 0}ul.lst-kix_lfh56zd88abz-3{list-style-type:none}ol.lst-kix_ijvyr9rw1jkb-4{list-style-type:none}.lst-kix_w4optp8ta93z-0>li:before{content:"\0025cf  "}ul.lst-kix_lfh56zd88abz-4{list-style-type:none}ol.lst-kix_ijvyr9rw1jkb-3{list-style-type:none}.lst-kix_q1dqwj8wphtj-1>li:before{content:"" counter(lst-ctn-kix_q1dqwj8wphtj-1,lower-latin) ". "}ol.lst-kix_89ivjl2uxnp3-4{list-style-type:none}ol.lst-kix_89ivjl2uxnp3-3{list-style-type:none}.lst-kix_dxyyq7gegouy-0>li:before{content:"\0025cf  "}ol.lst-kix_89ivjl2uxnp3-6{list-style-type:none}ol.lst-kix_89ivjl2uxnp3-5{list-style-type:none}ol.lst-kix_89ivjl2uxnp3-8{list-style-type:none}.lst-kix_ljr4eepmgt5w-3>li:before{content:"\0025cf  "}ul.lst-kix_vgyg99bsujsi-8{list-style-type:none}ol.lst-kix_89ivjl2uxnp3-7{list-style-type:none}.lst-kix_q1dqwj8wphtj-0>li:before{content:"" counter(lst-ctn-kix_q1dqwj8wphtj-0,decimal) ". "}ul.lst-kix_vgyg99bsujsi-7{list-style-type:none}ul.lst-kix_vgyg99bsujsi-6{list-style-type:none}.lst-kix_dxyyq7gegouy-3>li:before{content:"\0025cf  "}.lst-kix_zcvl3fbc6do4-8>li{counter-increment:lst-ctn-kix_zcvl3fbc6do4-8}.lst-kix_dxyyq7gegouy-2>li:before{content:"\0025a0  "}.lst-kix_vahsii3hvprg-6>li:before{content:"" counter(lst-ctn-kix_vahsii3hvprg-6,decimal) ". "}ol.lst-kix_n74u8poefvny-1.start{counter-reset:lst-ctn-kix_n74u8poefvny-1 0}.lst-kix_w4optp8ta93z-3>li:before{content:"\0025cf  "}.lst-kix_mlk6dnhjzk7u-8>li:before{content:"" counter(lst-ctn-kix_mlk6dnhjzk7u-8,lower-roman) ". "}ol.lst-kix_89ivjl2uxnp3-0{list-style-type:none}.lst-kix_w4optp8ta93z-4>li:before{content:"\0025cb  "}.lst-kix_8o0dmiuwe0b-8>li:before{content:"" counter(lst-ctn-kix_8o0dmiuwe0b-8,lower-roman) ". "}ol.lst-kix_89ivjl2uxnp3-2{list-style-type:none}.lst-kix_ljr4eepmgt5w-0>li:before{content:"\0025cf  "}ol.lst-kix_89ivjl2uxnp3-1{list-style-type:none}.lst-kix_6lbfx97xtcef-5>li:before{content:"" counter(lst-ctn-kix_6lbfx97xtcef-5,lower-roman) ". "}.lst-kix_6lbfx97xtcef-8>li:before{content:"" counter(lst-ctn-kix_6lbfx97xtcef-8,lower-roman) ". "}.lst-kix_w4optp8ta93z-7>li:before{content:"\0025cb  "}ol.lst-kix_lg8dkrfv0qcu-6.start{counter-reset:lst-ctn-kix_lg8dkrfv0qcu-6 0}ol.lst-kix_v3y9rkuhngfi-4.start{counter-reset:lst-ctn-kix_v3y9rkuhngfi-4 0}.lst-kix_vahsii3hvprg-2>li{counter-increment:lst-ctn-kix_vahsii3hvprg-2}.lst-kix_q1dqwj8wphtj-4>li:before{content:"" counter(lst-ctn-kix_q1dqwj8wphtj-4,lower-latin) ". "}.lst-kix_89ivjl2uxnp3-3>li{counter-increment:lst-ctn-kix_89ivjl2uxnp3-3}.lst-kix_ljr4eepmgt5w-6>li:before{content:"\0025cf  "}.lst-kix_8o0dmiuwe0b-3>li{counter-increment:lst-ctn-kix_8o0dmiuwe0b-3}.lst-kix_h61urw5blhfz-7>li{counter-increment:lst-ctn-kix_h61urw5blhfz-7}.lst-kix_99kco6cmz88s-6>li{counter-increment:lst-ctn-kix_99kco6cmz88s-6}.lst-kix_w2m28ilmo2lu-5>li{counter-increment:lst-ctn-kix_w2m28ilmo2lu-5}.lst-kix_vu8ackanrfrr-3>li:before{content:"" counter(lst-ctn-kix_vu8ackanrfrr-3,decimal) ". "}.lst-kix_ry2l2t3q0bf2-1>li:before{content:"" counter(lst-ctn-kix_ry2l2t3q0bf2-1,lower-latin) ". "}.lst-kix_o4csfsvt568i-6>li{counter-increment:lst-ctn-kix_o4csfsvt568i-6}.lst-kix_ry2l2t3q0bf2-2>li:before{content:"" counter(lst-ctn-kix_ry2l2t3q0bf2-2,lower-roman) ". "}.lst-kix_j2km2ok9rn2f-2>li{counter-increment:lst-ctn-kix_j2km2ok9rn2f-2}.lst-kix_tiqzyj3jp3gs-6>li:before{content:"\0025cf  "}.lst-kix_vu8ackanrfrr-6>li:before{content:"" counter(lst-ctn-kix_vu8ackanrfrr-6,decimal) ". "}.lst-kix_ry2l2t3q0bf2-5>li:before{content:"" counter(lst-ctn-kix_ry2l2t3q0bf2-5,lower-roman) ". "}.lst-kix_ae2kguhc9rtx-0>li:before{content:"\0025cf  "}.lst-kix_ae2kguhc9rtx-2>li:before{content:"\0025a0  "}.lst-kix_tiqzyj3jp3gs-3>li:before{content:"\0025cf  "}.lst-kix_v3y9rkuhngfi-5>li{counter-increment:lst-ctn-kix_v3y9rkuhngfi-5}.lst-kix_n74u8poefvny-2>li{counter-increment:lst-ctn-kix_n74u8poefvny-2}ol.lst-kix_kjf8zdvo1lyf-3.start{counter-reset:lst-ctn-kix_kjf8zdvo1lyf-3 0}.lst-kix_mlk6dnhjzk7u-5>li:before{content:"" counter(lst-ctn-kix_mlk6dnhjzk7u-5,lower-roman) ". "}ol.lst-kix_ry2l2t3q0bf2-3.start{counter-reset:lst-ctn-kix_ry2l2t3q0bf2-3 0}.lst-kix_mvwurm2wk0z0-7>li:before{content:"" counter(lst-ctn-kix_mvwurm2wk0z0-7,lower-latin) ". "}.lst-kix_mvwurm2wk0z0-4>li:before{content:"" counter(lst-ctn-kix_mvwurm2wk0z0-4,lower-latin) ". "}.lst-kix_mvwurm2wk0z0-8>li:before{content:"" counter(lst-ctn-kix_mvwurm2wk0z0-8,lower-roman) ". "}ul.lst-kix_vgyg99bsujsi-5{list-style-type:none}ul.lst-kix_vgyg99bsujsi-4{list-style-type:none}ul.lst-kix_vgyg99bsujsi-3{list-style-type:none}ul.lst-kix_vgyg99bsujsi-2{list-style-type:none}ul.lst-kix_vgyg99bsujsi-1{list-style-type:none}.lst-kix_mlk6dnhjzk7u-4>li:before{content:"" counter(lst-ctn-kix_mlk6dnhjzk7u-4,lower-latin) ". "}ul.lst-kix_vgyg99bsujsi-0{list-style-type:none}.lst-kix_ae2kguhc9rtx-5>li:before{content:"\0025a0  "}.lst-kix_ry2l2t3q0bf2-8>li:before{content:"" counter(lst-ctn-kix_ry2l2t3q0bf2-8,lower-roman) ". "}.lst-kix_ae2kguhc9rtx-6>li:before{content:"\0025cf  "}ul.lst-kix_lfh56zd88abz-0{list-style-type:none}.lst-kix_ae2kguhc9rtx-3>li:before{content:"\0025cf  "}.lst-kix_mlk6dnhjzk7u-2>li:before{content:"" counter(lst-ctn-kix_mlk6dnhjzk7u-2,lower-roman) ". "}.lst-kix_mlk6dnhjzk7u-1>li:before{content:"" counter(lst-ctn-kix_mlk6dnhjzk7u-1,lower-latin) ". "}.lst-kix_mvwurm2wk0z0-1>li:before{content:"" counter(lst-ctn-kix_mvwurm2wk0z0-1,lower-latin) ". "}.lst-kix_vu8ackanrfrr-0>li:before{content:"" counter(lst-ctn-kix_vu8ackanrfrr-0,decimal) ". "}.lst-kix_tiqzyj3jp3gs-0>li:before{content:"\0025cf  "}ol.lst-kix_ixkeh6iza7m6-3.start{counter-reset:lst-ctn-kix_ixkeh6iza7m6-3 0}.lst-kix_mqxs1xcxmw0p-6>li:before{content:"\0025cf  "}.lst-kix_k4fu9hb01p68-4>li{counter-increment:lst-ctn-kix_k4fu9hb01p68-4}.lst-kix_n74u8poefvny-2>li:before{content:"" counter(lst-ctn-kix_n74u8poefvny-2,lower-roman) ". "}.lst-kix_n74u8poefvny-6>li:before{content:"" counter(lst-ctn-kix_n74u8poefvny-6,decimal) ". "}ol.lst-kix_89ivjl2uxnp3-4.start{counter-reset:lst-ctn-kix_89ivjl2uxnp3-4 0}.lst-kix_5wibt4kf5001-0>li:before{content:"\0025cf  "}.lst-kix_5wibt4kf5001-2>li:before{content:"\0025a0  "}.lst-kix_3ihm6str0kxg-1>li:before{content:"\0025cb  "}ol.lst-kix_6lbfx97xtcef-4{list-style-type:none}.lst-kix_mqxs1xcxmw0p-0>li:before{content:"\0025cf  "}ol.lst-kix_6lbfx97xtcef-3{list-style-type:none}ol.lst-kix_6lbfx97xtcef-6{list-style-type:none}ol.lst-kix_9agb6svh85y5-8.start{counter-reset:lst-ctn-kix_9agb6svh85y5-8 0}.lst-kix_nyn4osmxptvt-5>li{counter-increment:lst-ctn-kix_nyn4osmxptvt-5}.lst-kix_5wibt4kf5001-6>li:before{content:"\0025cf  "}ol.lst-kix_6lbfx97xtcef-5{list-style-type:none}ol.lst-kix_6lbfx97xtcef-8{list-style-type:none}ol.lst-kix_6lbfx97xtcef-7{list-style-type:none}ol.lst-kix_og0h44h11kom-5.start{counter-reset:lst-ctn-kix_og0h44h11kom-5 0}ol.lst-kix_um1ceofb3c39-2.start{counter-reset:lst-ctn-kix_um1ceofb3c39-2 0}ul.lst-kix_tbb8lbzcx158-0{list-style-type:none}ul.lst-kix_tbb8lbzcx158-1{list-style-type:none}.lst-kix_n74u8poefvny-8>li:before{content:"" counter(lst-ctn-kix_n74u8poefvny-8,lower-roman) ". "}ol.lst-kix_6lbfx97xtcef-0{list-style-type:none}.lst-kix_mqxs1xcxmw0p-2>li:before{content:"\0025a0  "}.lst-kix_2wzv0c37mscg-1>li{counter-increment:lst-ctn-kix_2wzv0c37mscg-1}ol.lst-kix_6lbfx97xtcef-2{list-style-type:none}.lst-kix_jzsgaky6g7z3-1>li{counter-increment:lst-ctn-kix_jzsgaky6g7z3-1}ol.lst-kix_6lbfx97xtcef-1{list-style-type:none}ol.lst-kix_tcwr7sx3qmaw-6.start{counter-reset:lst-ctn-kix_tcwr7sx3qmaw-6 0}.lst-kix_djxeid5213p-5>li:before{content:"" counter(lst-ctn-kix_djxeid5213p-5,lower-roman) ". "}.lst-kix_rztvt1qt68k4-0>li{counter-increment:lst-ctn-kix_rztvt1qt68k4-0}ul.lst-kix_mkkzzu530uy6-0{list-style-type:none}.lst-kix_nyn4osmxptvt-6>li{counter-increment:lst-ctn-kix_nyn4osmxptvt-6}ol.lst-kix_w2m28ilmo2lu-4.start{counter-reset:lst-ctn-kix_w2m28ilmo2lu-4 0}ul.lst-kix_mkkzzu530uy6-5{list-style-type:none}ul.lst-kix_tbb8lbzcx158-2{list-style-type:none}ul.lst-kix_mkkzzu530uy6-6{list-style-type:none}ul.lst-kix_tbb8lbzcx158-3{list-style-type:none}ul.lst-kix_mkkzzu530uy6-7{list-style-type:none}ol.lst-kix_vu8ackanrfrr-6.start{counter-reset:lst-ctn-kix_vu8ackanrfrr-6 0}ul.lst-kix_tbb8lbzcx158-4{list-style-type:none}.lst-kix_djxeid5213p-1>li:before{content:"" counter(lst-ctn-kix_djxeid5213p-1,lower-latin) ". "}ul.lst-kix_mkkzzu530uy6-8{list-style-type:none}ul.lst-kix_tbb8lbzcx158-5{list-style-type:none}ul.lst-kix_mkkzzu530uy6-1{list-style-type:none}ul.lst-kix_tbb8lbzcx158-6{list-style-type:none}ul.lst-kix_mkkzzu530uy6-2{list-style-type:none}ul.lst-kix_tbb8lbzcx158-7{list-style-type:none}ul.lst-kix_mkkzzu530uy6-3{list-style-type:none}ul.lst-kix_tbb8lbzcx158-8{list-style-type:none}ul.lst-kix_mkkzzu530uy6-4{list-style-type:none}.lst-kix_4a5cw2dlleht-6>li{counter-increment:lst-ctn-kix_4a5cw2dlleht-6}ol.lst-kix_scdn9fkfpojm-1.start{counter-reset:lst-ctn-kix_scdn9fkfpojm-1 0}.lst-kix_lfh56zd88abz-3>li:before{content:"\0025cf  "}ol.lst-kix_ydcqnhnvg283-2.start{counter-reset:lst-ctn-kix_ydcqnhnvg283-2 0}ol.lst-kix_kvzqjuu34aac-7.start{counter-reset:lst-ctn-kix_kvzqjuu34aac-7 0}ol.lst-kix_6lbfx97xtcef-7.start{counter-reset:lst-ctn-kix_6lbfx97xtcef-7 0}.lst-kix_pug38gcm3mfz-0>li{counter-increment:lst-ctn-kix_pug38gcm3mfz-0}.lst-kix_pug38gcm3mfz-3>li:before{content:"" counter(lst-ctn-kix_pug38gcm3mfz-3,decimal) ". "}.lst-kix_lcivzm6bc10p-3>li:before{content:"\0025cf  "}.lst-kix_6no4tthr2wo1-3>li{counter-increment:lst-ctn-kix_6no4tthr2wo1-3}.lst-kix_ccmzo2unoagl-3>li{counter-increment:lst-ctn-kix_ccmzo2unoagl-3}.lst-kix_ydcqnhnvg283-1>li:before{content:"" counter(lst-ctn-kix_ydcqnhnvg283-1,lower-latin) ". "}.lst-kix_6no4tthr2wo1-2>li{counter-increment:lst-ctn-kix_6no4tthr2wo1-2}.lst-kix_pug38gcm3mfz-7>li:before{content:"" counter(lst-ctn-kix_pug38gcm3mfz-7,lower-latin) ". "}ol.lst-kix_lg8dkrfv0qcu-1.start{counter-reset:lst-ctn-kix_lg8dkrfv0qcu-1 0}.lst-kix_j8m1cqcs8t5n-2>li{counter-increment:lst-ctn-kix_j8m1cqcs8t5n-2}ol.lst-kix_3vj5z9behcl1-6.start{counter-reset:lst-ctn-kix_3vj5z9behcl1-6 0}.lst-kix_tauxjktfe261-3>li:before{content:"\0025cf  "}.lst-kix_2g1cy18v17xb-6>li{counter-increment:lst-ctn-kix_2g1cy18v17xb-6}.lst-kix_6no4tthr2wo1-3>li:before{content:"" counter(lst-ctn-kix_6no4tthr2wo1-3,decimal) ". "}ol.lst-kix_h61urw5blhfz-2.start{counter-reset:lst-ctn-kix_h61urw5blhfz-2 0}.lst-kix_ydcqnhnvg283-5>li:before{content:"" counter(lst-ctn-kix_ydcqnhnvg283-5,lower-roman) ". "}ol.lst-kix_k4fu9hb01p68-7.start{counter-reset:lst-ctn-kix_k4fu9hb01p68-7 0}ol.lst-kix_n74u8poefvny-6.start{counter-reset:lst-ctn-kix_n74u8poefvny-6 0}.lst-kix_6no4tthr2wo1-7>li:before{content:"" counter(lst-ctn-kix_6no4tthr2wo1-7,lower-latin) ". "}.lst-kix_6lbfx97xtcef-2>li:before{content:"" counter(lst-ctn-kix_6lbfx97xtcef-2,lower-roman) ". "}.lst-kix_tcwr7sx3qmaw-8>li:before{content:"" counter(lst-ctn-kix_tcwr7sx3qmaw-8,lower-roman) ". "}.lst-kix_8o0dmiuwe0b-7>li:before{content:"" counter(lst-ctn-kix_8o0dmiuwe0b-7,lower-latin) ". "}.lst-kix_3ihm6str0kxg-7>li:before{content:"\0025cb  "}.lst-kix_8o0dmiuwe0b-5>li:before{content:"" counter(lst-ctn-kix_8o0dmiuwe0b-5,lower-roman) ". "}ol.lst-kix_8vs3c95uml8g-3.start{counter-reset:lst-ctn-kix_8vs3c95uml8g-3 0}.lst-kix_8o0dmiuwe0b-1>li:before{content:"" counter(lst-ctn-kix_8o0dmiuwe0b-1,lower-latin) ". "}ol.lst-kix_ijvyr9rw1jkb-8{list-style-type:none}ol.lst-kix_ijvyr9rw1jkb-7{list-style-type:none}.lst-kix_kjf8zdvo1lyf-4>li{counter-increment:lst-ctn-kix_kjf8zdvo1lyf-4}.lst-kix_3m69r918o16y-8>li{counter-increment:lst-ctn-kix_3m69r918o16y-8}.lst-kix_3ihm6str0kxg-3>li:before{content:"\0025cf  "}ul.lst-kix_ozrzovx1mz7z-6{list-style-type:none}ol.lst-kix_r0n1ukoeko9i-5{list-style-type:none}ol.lst-kix_2wzv0c37mscg-2{list-style-type:none}ol.lst-kix_99kco6cmz88s-5{list-style-type:none}ul.lst-kix_ozrzovx1mz7z-7{list-style-type:none}ol.lst-kix_r0n1ukoeko9i-4{list-style-type:none}ol.lst-kix_2wzv0c37mscg-1{list-style-type:none}ol.lst-kix_99kco6cmz88s-6{list-style-type:none}.lst-kix_kvzqjuu34aac-4>li{counter-increment:lst-ctn-kix_kvzqjuu34aac-4}ul.lst-kix_ozrzovx1mz7z-8{list-style-type:none}ol.lst-kix_r0n1ukoeko9i-3{list-style-type:none}ol.lst-kix_2wzv0c37mscg-4{list-style-type:none}ol.lst-kix_99kco6cmz88s-7{list-style-type:none}ol.lst-kix_r0n1ukoeko9i-2{list-style-type:none}ol.lst-kix_2wzv0c37mscg-3{list-style-type:none}ol.lst-kix_99kco6cmz88s-8{list-style-type:none}ol.lst-kix_r0n1ukoeko9i-1{list-style-type:none}ol.lst-kix_r0n1ukoeko9i-0{list-style-type:none}.lst-kix_89ivjl2uxnp3-3>li:before{content:"" counter(lst-ctn-kix_89ivjl2uxnp3-3,decimal) ". "}ol.lst-kix_2wzv0c37mscg-0{list-style-type:none}.lst-kix_ccmzo2unoagl-3>li:before{content:"" counter(lst-ctn-kix_ccmzo2unoagl-3,decimal) ". "}ol.lst-kix_8vs3c95uml8g-7.start{counter-reset:lst-ctn-kix_8vs3c95uml8g-7 0}.lst-kix_w2m28ilmo2lu-6>li{counter-increment:lst-ctn-kix_w2m28ilmo2lu-6}ul.lst-kix_5m5pl1amlgdu-7{list-style-type:none}ul.lst-kix_5m5pl1amlgdu-8{list-style-type:none}ul.lst-kix_ozrzovx1mz7z-0{list-style-type:none}ul.lst-kix_5m5pl1amlgdu-5{list-style-type:none}ul.lst-kix_ozrzovx1mz7z-1{list-style-type:none}ul.lst-kix_5m5pl1amlgdu-6{list-style-type:none}ul.lst-kix_ozrzovx1mz7z-2{list-style-type:none}ol.lst-kix_tcwr7sx3qmaw-2.start{counter-reset:lst-ctn-kix_tcwr7sx3qmaw-2 0}ul.lst-kix_5m5pl1amlgdu-3{list-style-type:none}ul.lst-kix_ozrzovx1mz7z-3{list-style-type:none}.lst-kix_89ivjl2uxnp3-0>li:before{content:"" counter(lst-ctn-kix_89ivjl2uxnp3-0,decimal) ". "}ul.lst-kix_5m5pl1amlgdu-4{list-style-type:none}ul.lst-kix_ozrzovx1mz7z-4{list-style-type:none}ul.lst-kix_5m5pl1amlgdu-1{list-style-type:none}.lst-kix_1scnce6wk35f-3>li:before{content:"" counter(lst-ctn-kix_1scnce6wk35f-3,decimal) ". "}ul.lst-kix_ozrzovx1mz7z-5{list-style-type:none}ul.lst-kix_5m5pl1amlgdu-2{list-style-type:none}ul.lst-kix_beo0nvieqvft-4{list-style-type:none}.lst-kix_mhuhx3jkg1i5-3>li:before{content:"\0025cf  "}.lst-kix_99kco6cmz88s-7>li{counter-increment:lst-ctn-kix_99kco6cmz88s-7}.lst-kix_1scnce6wk35f-0>li:before{content:"" counter(lst-ctn-kix_1scnce6wk35f-0,decimal) ". "}ul.lst-kix_beo0nvieqvft-5{list-style-type:none}ul.lst-kix_5m5pl1amlgdu-0{list-style-type:none}ul.lst-kix_beo0nvieqvft-2{list-style-type:none}.lst-kix_mhuhx3jkg1i5-4>li:before{content:"\0025cb  "}ul.lst-kix_beo0nvieqvft-3{list-style-type:none}ol.lst-kix_kvzqjuu34aac-8.start{counter-reset:lst-ctn-kix_kvzqjuu34aac-8 0}ul.lst-kix_beo0nvieqvft-0{list-style-type:none}ol.lst-kix_zcvl3fbc6do4-2.start{counter-reset:lst-ctn-kix_zcvl3fbc6do4-2 0}ul.lst-kix_beo0nvieqvft-1{list-style-type:none}.lst-kix_lg8dkrfv0qcu-7>li{counter-increment:lst-ctn-kix_lg8dkrfv0qcu-7}.lst-kix_mhuhx3jkg1i5-7>li:before{content:"\0025cb  "}.lst-kix_ccmzo2unoagl-0>li:before{content:"" counter(lst-ctn-kix_ccmzo2unoagl-0,decimal) ". "}.lst-kix_tcwr7sx3qmaw-4>li:before{content:"" counter(lst-ctn-kix_tcwr7sx3qmaw-4,lower-latin) ". "}.lst-kix_m8mqfhiovwl-2>li:before{content:"\0025a0  "}.lst-kix_n6de3aaazbqx-8>li:before{content:"\0025a0  "}.lst-kix_3m69r918o16y-0>li{counter-increment:lst-ctn-kix_3m69r918o16y-0}ol.lst-kix_ixkeh6iza7m6-2.start{counter-reset:lst-ctn-kix_ixkeh6iza7m6-2 0}ol.lst-kix_89ivjl2uxnp3-0.start{counter-reset:lst-ctn-kix_89ivjl2uxnp3-0 0}.lst-kix_zcvl3fbc6do4-7>li:before{content:"" counter(lst-ctn-kix_zcvl3fbc6do4-7,lower-latin) ". "}.lst-kix_n6de3aaazbqx-7>li:before{content:"\0025cb  "}.lst-kix_m8mqfhiovwl-3>li:before{content:"\0025cf  "}.lst-kix_mhuhx3jkg1i5-0>li:before{content:"\0025cf  "}ol.lst-kix_99kco6cmz88s-0.start{counter-reset:lst-ctn-kix_99kco6cmz88s-0 0}ol.lst-kix_scdn9fkfpojm-5.start{counter-reset:lst-ctn-kix_scdn9fkfpojm-5 0}ul.lst-kix_beo0nvieqvft-8{list-style-type:none}ul.lst-kix_beo0nvieqvft-6{list-style-type:none}.lst-kix_zcvl3fbc6do4-6>li:before{content:"" counter(lst-ctn-kix_zcvl3fbc6do4-6,decimal) ". "}ul.lst-kix_beo0nvieqvft-7{list-style-type:none}.lst-kix_zcvl3fbc6do4-3>li:before{content:"" counter(lst-ctn-kix_zcvl3fbc6do4-3,decimal) ". "}.lst-kix_pug38gcm3mfz-8>li{counter-increment:lst-ctn-kix_pug38gcm3mfz-8}.lst-kix_m8mqfhiovwl-6>li:before{content:"\0025cf  "}.lst-kix_n6de3aaazbqx-4>li:before{content:"\0025cb  "}ol.lst-kix_vu8ackanrfrr-0.start{counter-reset:lst-ctn-kix_vu8ackanrfrr-0 0}.lst-kix_rztvt1qt68k4-6>li{counter-increment:lst-ctn-kix_rztvt1qt68k4-6}ol.lst-kix_99kco6cmz88s-0{list-style-type:none}.lst-kix_j8m1cqcs8t5n-1>li{counter-increment:lst-ctn-kix_j8m1cqcs8t5n-1}ol.lst-kix_99kco6cmz88s-1{list-style-type:none}.lst-kix_5y6fjlsif51k-7>li{counter-increment:lst-ctn-kix_5y6fjlsif51k-7}ol.lst-kix_99kco6cmz88s-2{list-style-type:none}ol.lst-kix_99kco6cmz88s-3{list-style-type:none}ol.lst-kix_99kco6cmz88s-4{list-style-type:none}.lst-kix_3m69r918o16y-6>li:before{content:"" counter(lst-ctn-kix_3m69r918o16y-6,decimal) ". "}ol.lst-kix_w2m28ilmo2lu-3.start{counter-reset:lst-ctn-kix_w2m28ilmo2lu-3 0}.lst-kix_o4csfsvt568i-0>li{counter-increment:lst-ctn-kix_o4csfsvt568i-0}.lst-kix_kvzqjuu34aac-2>li{counter-increment:lst-ctn-kix_kvzqjuu34aac-2}.lst-kix_nbgultvqf3c-4>li:before{content:"\0025cb  "}.lst-kix_o4csfsvt568i-5>li{counter-increment:lst-ctn-kix_o4csfsvt568i-5}.lst-kix_nbgultvqf3c-3>li:before{content:"\0025cf  "}.lst-kix_um1ceofb3c39-7>li{counter-increment:lst-ctn-kix_um1ceofb3c39-7}.lst-kix_bp14me61tv7k-8>li:before{content:"\0025a0  "}.lst-kix_j2km2ok9rn2f-3>li{counter-increment:lst-ctn-kix_j2km2ok9rn2f-3}.lst-kix_89ivjl2uxnp3-4>li{counter-increment:lst-ctn-kix_89ivjl2uxnp3-4}.lst-kix_nbgultvqf3c-0>li:before{content:"\0025cf  "}ol.lst-kix_zcvl3fbc6do4-7.start{counter-reset:lst-ctn-kix_zcvl3fbc6do4-7 0}ol.lst-kix_tcwr7sx3qmaw-1.start{counter-reset:lst-ctn-kix_tcwr7sx3qmaw-1 0}.lst-kix_ixkeh6iza7m6-8>li{counter-increment:lst-ctn-kix_ixkeh6iza7m6-8}.lst-kix_q1dqwj8wphtj-3>li{counter-increment:lst-ctn-kix_q1dqwj8wphtj-3}.lst-kix_3vj5z9behcl1-0>li{counter-increment:lst-ctn-kix_3vj5z9behcl1-0}ol.lst-kix_ydcqnhnvg283-1.start{counter-reset:lst-ctn-kix_ydcqnhnvg283-1 0}.lst-kix_nbgultvqf3c-7>li:before{content:"\0025cb  "}ol.lst-kix_scdn9fkfpojm-6.start{counter-reset:lst-ctn-kix_scdn9fkfpojm-6 0}ol.lst-kix_og0h44h11kom-6.start{counter-reset:lst-ctn-kix_og0h44h11kom-6 0}.lst-kix_3m69r918o16y-2>li:before{content:"" counter(lst-ctn-kix_3m69r918o16y-2,lower-roman) ". "}ol.lst-kix_2wzv0c37mscg-6{list-style-type:none}ol.lst-kix_zcvl3fbc6do4-8.start{counter-reset:lst-ctn-kix_zcvl3fbc6do4-8 0}ol.lst-kix_r0n1ukoeko9i-8{list-style-type:none}ol.lst-kix_2wzv0c37mscg-5{list-style-type:none}ol.lst-kix_q1dqwj8wphtj-0.start{counter-reset:lst-ctn-kix_q1dqwj8wphtj-0 0}ol.lst-kix_r0n1ukoeko9i-7{list-style-type:none}ol.lst-kix_2wzv0c37mscg-8{list-style-type:none}ol.lst-kix_r0n1ukoeko9i-6{list-style-type:none}.lst-kix_3m69r918o16y-3>li:before{content:"" counter(lst-ctn-kix_3m69r918o16y-3,decimal) ". "}ol.lst-kix_2wzv0c37mscg-7{list-style-type:none}.lst-kix_n74u8poefvny-5>li:before{content:"" counter(lst-ctn-kix_n74u8poefvny-5,lower-roman) ". "}.lst-kix_nz0lhoo7aztq-6>li{counter-increment:lst-ctn-kix_nz0lhoo7aztq-6}ol.lst-kix_6lbfx97xtcef-2.start{counter-reset:lst-ctn-kix_6lbfx97xtcef-2 0}.lst-kix_8vs3c95uml8g-5>li{counter-increment:lst-ctn-kix_8vs3c95uml8g-5}ol.lst-kix_kjf8zdvo1lyf-8.start{counter-reset:lst-ctn-kix_kjf8zdvo1lyf-8 0}.lst-kix_r0n1ukoeko9i-3>li:before{content:"" counter(lst-ctn-kix_r0n1ukoeko9i-3,decimal) ". "}.lst-kix_r0n1ukoeko9i-7>li:before{content:"" counter(lst-ctn-kix_r0n1ukoeko9i-7,lower-latin) ". "}.lst-kix_lfh56zd88abz-0>li:before{content:"\0025cf  "}.lst-kix_ijpqatjyilkj-3>li:before{content:"\0025cf  "}.lst-kix_3ihm6str0kxg-0>li:before{content:"\0025cf  "}ol.lst-kix_vu8ackanrfrr-1.start{counter-reset:lst-ctn-kix_vu8ackanrfrr-1 0}ol.lst-kix_ry2l2t3q0bf2-8{list-style-type:none}.lst-kix_cg3ztxy94g5y-2>li{counter-increment:lst-ctn-kix_cg3ztxy94g5y-2}.lst-kix_5wibt4kf5001-3>li:before{content:"\0025cf  "}.lst-kix_mqxs1xcxmw0p-3>li:before{content:"\0025cf  "}.lst-kix_u7fc8e9svd3w-1>li{counter-increment:lst-ctn-kix_u7fc8e9svd3w-1}ol.lst-kix_v3y9rkuhngfi-5.start{counter-reset:lst-ctn-kix_v3y9rkuhngfi-5 0}.lst-kix_demv1nd5mcc4-2>li{counter-increment:lst-ctn-kix_demv1nd5mcc4-2}.lst-kix_jzsgaky6g7z3-0>li:before{content:"" counter(lst-ctn-kix_jzsgaky6g7z3-0,decimal) ". "}.lst-kix_vu8ackanrfrr-8>li{counter-increment:lst-ctn-kix_vu8ackanrfrr-8}ol.lst-kix_8vs3c95uml8g-8.start{counter-reset:lst-ctn-kix_8vs3c95uml8g-8 0}.lst-kix_ijvyr9rw1jkb-6>li:before{content:"" counter(lst-ctn-kix_ijvyr9rw1jkb-6,decimal) ". "}.lst-kix_9uwxlic953dp-7>li:before{content:"" counter(lst-ctn-kix_9uwxlic953dp-7,lower-latin) ". "}ol.lst-kix_v3y9rkuhngfi-8.start{counter-reset:lst-ctn-kix_v3y9rkuhngfi-8 0}.lst-kix_djxeid5213p-2>li:before{content:"" counter(lst-ctn-kix_djxeid5213p-2,lower-roman) ". "}ol.lst-kix_99kco6cmz88s-4.start{counter-reset:lst-ctn-kix_99kco6cmz88s-4 0}.lst-kix_jzsgaky6g7z3-4>li:before{content:"" counter(lst-ctn-kix_jzsgaky6g7z3-4,lower-latin) ". "}.lst-kix_bp14me61tv7k-5>li:before{content:"\0025a0  "}.lst-kix_2v6s1svct7dg-2>li:before{content:"" counter(lst-ctn-kix_2v6s1svct7dg-2,lower-roman) ". "}ol.lst-kix_ry2l2t3q0bf2-8.start{counter-reset:lst-ctn-kix_ry2l2t3q0bf2-8 0}.lst-kix_ijvyr9rw1jkb-2>li:before{content:"" counter(lst-ctn-kix_ijvyr9rw1jkb-2,lower-roman) ". "}ol.lst-kix_q1dqwj8wphtj-5.start{counter-reset:lst-ctn-kix_q1dqwj8wphtj-5 0}.lst-kix_2g1cy18v17xb-4>li{counter-increment:lst-ctn-kix_2g1cy18v17xb-4}.lst-kix_u7fc8e9svd3w-3>li{counter-increment:lst-ctn-kix_u7fc8e9svd3w-3}ol.lst-kix_zcvl3fbc6do4-3.start{counter-reset:lst-ctn-kix_zcvl3fbc6do4-3 0}.lst-kix_djxeid5213p-7>li{counter-increment:lst-ctn-kix_djxeid5213p-7}ol.lst-kix_3vj5z9behcl1-2.start{counter-reset:lst-ctn-kix_3vj5z9behcl1-2 0}.lst-kix_2v6s1svct7dg-6>li:before{content:"" counter(lst-ctn-kix_2v6s1svct7dg-6,decimal) ". "}.lst-kix_eeflv3tx7x8-6>li{counter-increment:lst-ctn-kix_eeflv3tx7x8-6}.lst-kix_1znearomzlt0-2>li:before{content:"\0025a0  "}.lst-kix_mlk6dnhjzk7u-1>li{counter-increment:lst-ctn-kix_mlk6dnhjzk7u-1}ol.lst-kix_ixkeh6iza7m6-8.start{counter-reset:lst-ctn-kix_ixkeh6iza7m6-8 0}.lst-kix_mvwurm2wk0z0-0>li{counter-increment:lst-ctn-kix_mvwurm2wk0z0-0}.lst-kix_o4csfsvt568i-1>li:before{content:"" counter(lst-ctn-kix_o4csfsvt568i-1,lower-latin) ". "}.lst-kix_cflgkiusf2ss-4>li:before{content:"-  "}.lst-kix_scdn9fkfpojm-7>li{counter-increment:lst-ctn-kix_scdn9fkfpojm-7}.lst-kix_ijvyr9rw1jkb-2>li{counter-increment:lst-ctn-kix_ijvyr9rw1jkb-2}ol.lst-kix_kvzqjuu34aac-3.start{counter-reset:lst-ctn-kix_kvzqjuu34aac-3 0}ol.lst-kix_ry2l2t3q0bf2-7.start{counter-reset:lst-ctn-kix_ry2l2t3q0bf2-7 0}.lst-kix_ydcqnhnvg283-2>li:before{content:"" counter(lst-ctn-kix_ydcqnhnvg283-2,lower-roman) ". "}.lst-kix_pug38gcm3mfz-6>li:before{content:"" counter(lst-ctn-kix_pug38gcm3mfz-6,decimal) ". "}ol.lst-kix_6lbfx97xtcef-3.start{counter-reset:lst-ctn-kix_6lbfx97xtcef-3 0}ol.lst-kix_w2m28ilmo2lu-0.start{counter-reset:lst-ctn-kix_w2m28ilmo2lu-0 0}.lst-kix_tauxjktfe261-0>li:before{content:"\0025cf  "}.lst-kix_cflgkiusf2ss-0>li:before{content:"-  "}.lst-kix_j2km2ok9rn2f-1>li:before{content:"" counter(lst-ctn-kix_j2km2ok9rn2f-1,lower-latin) ". "}ol.lst-kix_q1dqwj8wphtj-4.start{counter-reset:lst-ctn-kix_q1dqwj8wphtj-4 0}.lst-kix_8o0dmiuwe0b-4>li{counter-increment:lst-ctn-kix_8o0dmiuwe0b-4}.lst-kix_r0n1ukoeko9i-1>li{counter-increment:lst-ctn-kix_r0n1ukoeko9i-1}.lst-kix_6no4tthr2wo1-6>li:before{content:"" counter(lst-ctn-kix_6no4tthr2wo1-6,decimal) ". "}ol.lst-kix_ixkeh6iza7m6-7.start{counter-reset:lst-ctn-kix_ixkeh6iza7m6-7 0}ol.lst-kix_3vj5z9behcl1-1.start{counter-reset:lst-ctn-kix_3vj5z9behcl1-1 0}.lst-kix_8o0dmiuwe0b-4>li:before{content:"" counter(lst-ctn-kix_8o0dmiuwe0b-4,lower-latin) ". "}.lst-kix_tcwr7sx3qmaw-7>li:before{content:"" counter(lst-ctn-kix_tcwr7sx3qmaw-7,lower-latin) ". "}ol.lst-kix_99kco6cmz88s-5.start{counter-reset:lst-ctn-kix_99kco6cmz88s-5 0}.lst-kix_vahsii3hvprg-2>li:before{content:"" counter(lst-ctn-kix_vahsii3hvprg-2,lower-roman) ". "}.lst-kix_3ihm6str0kxg-4>li:before{content:"\0025cb  "}.lst-kix_2v6s1svct7dg-2>li{counter-increment:lst-ctn-kix_2v6s1svct7dg-2}.lst-kix_n74u8poefvny-1>li{counter-increment:lst-ctn-kix_n74u8poefvny-1}.lst-kix_lcivzm6bc10p-0>li:before{content:"\0025cf  "}.lst-kix_1scnce6wk35f-4>li{counter-increment:lst-ctn-kix_1scnce6wk35f-4}ol.lst-kix_kvzqjuu34aac-2.start{counter-reset:lst-ctn-kix_kvzqjuu34aac-2 0}ol.lst-kix_kjf8zdvo1lyf-7.start{counter-reset:lst-ctn-kix_kjf8zdvo1lyf-7 0}.lst-kix_2g1cy18v17xb-7>li:before{content:"" counter(lst-ctn-kix_2g1cy18v17xb-7,lower-latin) ". "}.lst-kix_unslttc25noj-3>li:before{content:"\0025cf  "}.lst-kix_pjnl93gc3004-2>li:before{content:"" counter(lst-ctn-kix_pjnl93gc3004-2,lower-roman) ". "}.lst-kix_unslttc25noj-0>li:before{content:"\0025cf  "}.lst-kix_jzsgaky6g7z3-7>li{counter-increment:lst-ctn-kix_jzsgaky6g7z3-7}.lst-kix_ixkeh6iza7m6-3>li{counter-increment:lst-ctn-kix_ixkeh6iza7m6-3}.lst-kix_v3y9rkuhngfi-0>li:before{content:"" counter(lst-ctn-kix_v3y9rkuhngfi-0,decimal) ". "}ol.lst-kix_99kco6cmz88s-3.start{counter-reset:lst-ctn-kix_99kco6cmz88s-3 0}.lst-kix_pjnl93gc3004-5>li:before{content:"" counter(lst-ctn-kix_pjnl93gc3004-5,lower-roman) ". "}.lst-kix_2g1cy18v17xb-1>li:before{content:"" counter(lst-ctn-kix_2g1cy18v17xb-1,lower-latin) ". "}.lst-kix_g5hw4owq9gm6-4>li{counter-increment:lst-ctn-kix_g5hw4owq9gm6-4}.lst-kix_u7fc8e9svd3w-6>li:before{content:"" counter(lst-ctn-kix_u7fc8e9svd3w-6,decimal) ". "}ol.lst-kix_3vj5z9behcl1-0.start{counter-reset:lst-ctn-kix_3vj5z9behcl1-0 0}.lst-kix_k7cvqq8ohnqa-5>li:before{content:"\0025a0  "}ol.lst-kix_vu8ackanrfrr-2.start{counter-reset:lst-ctn-kix_vu8ackanrfrr-2 0}.lst-kix_k7cvqq8ohnqa-8>li:before{content:"\0025a0  "}.lst-kix_9agb6svh85y5-3>li:before{content:"" counter(lst-ctn-kix_9agb6svh85y5-3,decimal) ". "}.lst-kix_89ivjl2uxnp3-1>li{counter-increment:lst-ctn-kix_89ivjl2uxnp3-1}ul.lst-kix_2yjh37mgtbm2-2{list-style-type:none}ul.lst-kix_1ybkggemz7qs-1{list-style-type:none}.lst-kix_nyn4osmxptvt-0>li{counter-increment:lst-ctn-kix_nyn4osmxptvt-0}.lst-kix_5y6fjlsif51k-4>li{counter-increment:lst-ctn-kix_5y6fjlsif51k-4}.lst-kix_u5ht8watzdqo-1>li:before{content:"\0025cb  "}ul.lst-kix_2yjh37mgtbm2-1{list-style-type:none}ul.lst-kix_1ybkggemz7qs-2{list-style-type:none}ul.lst-kix_2yjh37mgtbm2-0{list-style-type:none}ul.lst-kix_1ybkggemz7qs-3{list-style-type:none}ol.lst-kix_6lbfx97xtcef-1.start{counter-reset:lst-ctn-kix_6lbfx97xtcef-1 0}ul.lst-kix_1ybkggemz7qs-4{list-style-type:none}ul.lst-kix_1ybkggemz7qs-5{list-style-type:none}ul.lst-kix_1ybkggemz7qs-6{list-style-type:none}ul.lst-kix_1ybkggemz7qs-7{list-style-type:none}.lst-kix_vgyg99bsujsi-6>li:before{content:"\0025cf  "}ul.lst-kix_1ybkggemz7qs-8{list-style-type:none}.lst-kix_v3y9rkuhngfi-7>li:before{content:"" counter(lst-ctn-kix_v3y9rkuhngfi-7,lower-latin) ". "}ol.lst-kix_pjnl93gc3004-8{list-style-type:none}ul.lst-kix_2yjh37mgtbm2-8{list-style-type:none}ul.lst-kix_2yjh37mgtbm2-7{list-style-type:none}.lst-kix_scdn9fkfpojm-5>li:before{content:"" counter(lst-ctn-kix_scdn9fkfpojm-5,lower-roman) ". "}ul.lst-kix_2yjh37mgtbm2-6{list-style-type:none}.lst-kix_9agb6svh85y5-6>li:before{content:"" counter(lst-ctn-kix_9agb6svh85y5-6,decimal) ". "}.lst-kix_99kco6cmz88s-7>li:before{content:"" counter(lst-ctn-kix_99kco6cmz88s-7,lower-latin) ". "}ul.lst-kix_2yjh37mgtbm2-5{list-style-type:none}ul.lst-kix_2yjh37mgtbm2-4{list-style-type:none}.lst-kix_um1ceofb3c39-1>li{counter-increment:lst-ctn-kix_um1ceofb3c39-1}ul.lst-kix_2yjh37mgtbm2-3{list-style-type:none}ul.lst-kix_1ybkggemz7qs-0{list-style-type:none}.lst-kix_o4csfsvt568i-8>li{counter-increment:lst-ctn-kix_o4csfsvt568i-8}ol.lst-kix_pjnl93gc3004-0{list-style-type:none}.lst-kix_u7fc8e9svd3w-3>li:before{content:"" counter(lst-ctn-kix_u7fc8e9svd3w-3,decimal) ". "}ol.lst-kix_pjnl93gc3004-1{list-style-type:none}.lst-kix_99kco6cmz88s-0>li:before{content:"" counter(lst-ctn-kix_99kco6cmz88s-0,decimal) ". "}ol.lst-kix_og0h44h11kom-4.start{counter-reset:lst-ctn-kix_og0h44h11kom-4 0}ol.lst-kix_pjnl93gc3004-2{list-style-type:none}ol.lst-kix_pjnl93gc3004-3{list-style-type:none}.lst-kix_tbb8lbzcx158-4>li:before{content:"\0025cb  "}ol.lst-kix_pjnl93gc3004-4{list-style-type:none}.lst-kix_4a5cw2dlleht-0>li{counter-increment:lst-ctn-kix_4a5cw2dlleht-0}ol.lst-kix_pjnl93gc3004-5{list-style-type:none}.lst-kix_djxeid5213p-1>li{counter-increment:lst-ctn-kix_djxeid5213p-1}ol.lst-kix_pjnl93gc3004-6{list-style-type:none}ol.lst-kix_q1dqwj8wphtj-8.start{counter-reset:lst-ctn-kix_q1dqwj8wphtj-8 0}ol.lst-kix_pjnl93gc3004-7{list-style-type:none}.lst-kix_2g1cy18v17xb-4>li:before{content:"" counter(lst-ctn-kix_2g1cy18v17xb-4,lower-latin) ". "}ol.lst-kix_lg8dkrfv0qcu-0.start{counter-reset:lst-ctn-kix_lg8dkrfv0qcu-0 0}.lst-kix_scdn9fkfpojm-2>li:before{content:"" counter(lst-ctn-kix_scdn9fkfpojm-2,lower-roman) ". "}.lst-kix_j8m1cqcs8t5n-7>li{counter-increment:lst-ctn-kix_j8m1cqcs8t5n-7}ol.lst-kix_kvzqjuu34aac-6.start{counter-reset:lst-ctn-kix_kvzqjuu34aac-6 0}ol.lst-kix_lg8dkrfv0qcu-5.start{counter-reset:lst-ctn-kix_lg8dkrfv0qcu-5 0}.lst-kix_5y6fjlsif51k-0>li:before{content:"" counter(lst-ctn-kix_5y6fjlsif51k-0,decimal) ". "}.lst-kix_scdn9fkfpojm-2>li{counter-increment:lst-ctn-kix_scdn9fkfpojm-2}.lst-kix_tbb8lbzcx158-1>li:before{content:"\0025cb  "}.lst-kix_5y6fjlsif51k-3>li:before{content:"" counter(lst-ctn-kix_5y6fjlsif51k-3,decimal) ". "}.lst-kix_sq802hiknv0u-8>li:before{content:"\0025a0  "}ol.lst-kix_vu8ackanrfrr-7.start{counter-reset:lst-ctn-kix_vu8ackanrfrr-7 0}.lst-kix_99kco6cmz88s-4>li{counter-increment:lst-ctn-kix_99kco6cmz88s-4}ol.lst-kix_v3y9rkuhngfi-3.start{counter-reset:lst-ctn-kix_v3y9rkuhngfi-3 0}.lst-kix_kjf8zdvo1lyf-2>li:before{content:"" counter(lst-ctn-kix_kjf8zdvo1lyf-2,lower-roman) ". "}.lst-kix_sq802hiknv0u-1>li:before{content:"\0025cb  "}.lst-kix_nd89m1hvvn3x-8>li:before{content:"\0025a0  "}.lst-kix_nd89m1hvvn3x-5>li:before{content:"\0025a0  "}.lst-kix_9uwxlic953dp-4>li{counter-increment:lst-ctn-kix_9uwxlic953dp-4}.lst-kix_5y6fjlsif51k-6>li:before{content:"" counter(lst-ctn-kix_5y6fjlsif51k-6,decimal) ". "}.lst-kix_9uwxlic953dp-7>li{counter-increment:lst-ctn-kix_9uwxlic953dp-7}.lst-kix_nyn4osmxptvt-2>li:before{content:"" counter(lst-ctn-kix_nyn4osmxptvt-2,lower-roman) ". "}.lst-kix_nd89m1hvvn3x-2>li:before{content:"\0025a0  "}.lst-kix_vu8ackanrfrr-3>li{counter-increment:lst-ctn-kix_vu8ackanrfrr-3}.lst-kix_nyn4osmxptvt-5>li:before{content:"" counter(lst-ctn-kix_nyn4osmxptvt-5,lower-roman) ". "}.lst-kix_k4fu9hb01p68-6>li{counter-increment:lst-ctn-kix_k4fu9hb01p68-6}.lst-kix_ijvyr9rw1jkb-7>li{counter-increment:lst-ctn-kix_ijvyr9rw1jkb-7}.lst-kix_ijpqatjyilkj-6>li:before{content:"\0025cf  "}.lst-kix_kvzqjuu34aac-1>li:before{content:"" counter(lst-ctn-kix_kvzqjuu34aac-1,lower-latin) ". "}ol.lst-kix_scdn9fkfpojm-4.start{counter-reset:lst-ctn-kix_scdn9fkfpojm-4 0}.lst-kix_tcwr7sx3qmaw-0>li{counter-increment:lst-ctn-kix_tcwr7sx3qmaw-0}.lst-kix_3vj5z9behcl1-5>li{counter-increment:lst-ctn-kix_3vj5z9behcl1-5}.lst-kix_kvzqjuu34aac-7>li:before{content:"" counter(lst-ctn-kix_kvzqjuu34aac-7,lower-latin) ". "}.lst-kix_r0n1ukoeko9i-0>li:before{content:"" counter(lst-ctn-kix_r0n1ukoeko9i-0,decimal) ". "}.lst-kix_og0h44h11kom-3>li{counter-increment:lst-ctn-kix_og0h44h11kom-3}.lst-kix_8o0dmiuwe0b-1>li{counter-increment:lst-ctn-kix_8o0dmiuwe0b-1}.lst-kix_w2m28ilmo2lu-0>li{counter-increment:lst-ctn-kix_w2m28ilmo2lu-0}.lst-kix_j2km2ok9rn2f-0>li{counter-increment:lst-ctn-kix_j2km2ok9rn2f-0}.lst-kix_h61urw5blhfz-2>li{counter-increment:lst-ctn-kix_h61urw5blhfz-2}.lst-kix_5y6fjlsif51k-1>li{counter-increment:lst-ctn-kix_5y6fjlsif51k-1}.lst-kix_9uwxlic953dp-4>li:before{content:"" counter(lst-ctn-kix_9uwxlic953dp-4,lower-latin) ". "}.lst-kix_jzsgaky6g7z3-7>li:before{content:"" counter(lst-ctn-kix_jzsgaky6g7z3-7,lower-latin) ". "}.lst-kix_2wzv0c37mscg-6>li:before{content:"" counter(lst-ctn-kix_2wzv0c37mscg-6,decimal) ". "}.lst-kix_231qltjiej1b-3>li:before{content:"" counter(lst-ctn-kix_231qltjiej1b-3,decimal) ". "}.lst-kix_zcvl3fbc6do4-2>li{counter-increment:lst-ctn-kix_zcvl3fbc6do4-2}ol.lst-kix_tcwr7sx3qmaw-2{list-style-type:none}ol.lst-kix_tcwr7sx3qmaw-3{list-style-type:none}ol.lst-kix_tcwr7sx3qmaw-0{list-style-type:none}.lst-kix_ydcqnhnvg283-4>li{counter-increment:lst-ctn-kix_ydcqnhnvg283-4}ol.lst-kix_tcwr7sx3qmaw-1{list-style-type:none}.lst-kix_4x89tkurgtys-3>li:before{content:"\0025cf  "}ol.lst-kix_tcwr7sx3qmaw-8{list-style-type:none}.lst-kix_kjf8zdvo1lyf-5>li:before{content:"" counter(lst-ctn-kix_kjf8zdvo1lyf-5,lower-roman) ". "}ol.lst-kix_tcwr7sx3qmaw-6{list-style-type:none}ol.lst-kix_tcwr7sx3qmaw-7{list-style-type:none}ol.lst-kix_tcwr7sx3qmaw-4{list-style-type:none}ol.lst-kix_tcwr7sx3qmaw-5{list-style-type:none}.lst-kix_vahsii3hvprg-8>li{counter-increment:lst-ctn-kix_vahsii3hvprg-8}.lst-kix_cflgkiusf2ss-7>li:before{content:"-  "}.lst-kix_j2km2ok9rn2f-8>li{counter-increment:lst-ctn-kix_j2km2ok9rn2f-8}.lst-kix_bp14me61tv7k-2>li:before{content:"\0025a0  "}.lst-kix_70i2e22v5l2-4>li:before{content:"\0025cb  "}.lst-kix_2wzv0c37mscg-0>li:before{content:"" counter(lst-ctn-kix_2wzv0c37mscg-0,decimal) ". "}.lst-kix_1znearomzlt0-5>li:before{content:"\0025a0  "}.lst-kix_9agb6svh85y5-2>li{counter-increment:lst-ctn-kix_9agb6svh85y5-2}ol.lst-kix_lg8dkrfv0qcu-2.start{counter-reset:lst-ctn-kix_lg8dkrfv0qcu-2 0}ol.lst-kix_scdn9fkfpojm-2.start{counter-reset:lst-ctn-kix_scdn9fkfpojm-2 0}.lst-kix_6no4tthr2wo1-8>li{counter-increment:lst-ctn-kix_6no4tthr2wo1-8}.lst-kix_6lbfx97xtcef-0>li{counter-increment:lst-ctn-kix_6lbfx97xtcef-0}.lst-kix_231qltjiej1b-4>li{counter-increment:lst-ctn-kix_231qltjiej1b-4}.lst-kix_o4csfsvt568i-4>li:before{content:"" counter(lst-ctn-kix_o4csfsvt568i-4,lower-latin) ". "}.lst-kix_u5ht8watzdqo-4>li:before{content:"\0025cb  "}ol.lst-kix_v3y9rkuhngfi-0.start{counter-reset:lst-ctn-kix_v3y9rkuhngfi-0 0}ol.lst-kix_vu8ackanrfrr-4.start{counter-reset:lst-ctn-kix_vu8ackanrfrr-4 0}ol.lst-kix_og0h44h11kom-2.start{counter-reset:lst-ctn-kix_og0h44h11kom-2 0}.lst-kix_j2km2ok9rn2f-4>li:before{content:"" counter(lst-ctn-kix_j2km2ok9rn2f-4,lower-latin) ". "}.lst-kix_n74u8poefvny-4>li{counter-increment:lst-ctn-kix_n74u8poefvny-4}.lst-kix_89ivjl2uxnp3-6>li:before{content:"" counter(lst-ctn-kix_89ivjl2uxnp3-6,decimal) ". "}ol.lst-kix_og0h44h11kom-1.start{counter-reset:lst-ctn-kix_og0h44h11kom-1 0}.lst-kix_1scnce6wk35f-6>li:before{content:"" counter(lst-ctn-kix_1scnce6wk35f-6,decimal) ". "}.lst-kix_nz0lhoo7aztq-0>li{counter-increment:lst-ctn-kix_nz0lhoo7aztq-0}.lst-kix_mlk6dnhjzk7u-4>li{counter-increment:lst-ctn-kix_mlk6dnhjzk7u-4}.lst-kix_ynk1jb423v8p-7>li:before{content:"\0025cb  "}.lst-kix_ccmzo2unoagl-6>li:before{content:"" counter(lst-ctn-kix_ccmzo2unoagl-6,decimal) ". "}ol.lst-kix_vu8ackanrfrr-5.start{counter-reset:lst-ctn-kix_vu8ackanrfrr-5 0}.lst-kix_231qltjiej1b-7>li{counter-increment:lst-ctn-kix_231qltjiej1b-7}ul.lst-kix_n6de3aaazbqx-1{list-style-type:none}ul.lst-kix_n6de3aaazbqx-2{list-style-type:none}ul.lst-kix_n6de3aaazbqx-0{list-style-type:none}.lst-kix_tcwr7sx3qmaw-1>li:before{content:"" counter(lst-ctn-kix_tcwr7sx3qmaw-1,lower-latin) ". "}.lst-kix_2wzv0c37mscg-7>li{counter-increment:lst-ctn-kix_2wzv0c37mscg-7}ul.lst-kix_n6de3aaazbqx-7{list-style-type:none}ul.lst-kix_n6de3aaazbqx-8{list-style-type:none}ul.lst-kix_n6de3aaazbqx-5{list-style-type:none}ul.lst-kix_n6de3aaazbqx-6{list-style-type:none}ul.lst-kix_n6de3aaazbqx-3{list-style-type:none}ul.lst-kix_n6de3aaazbqx-4{list-style-type:none}.lst-kix_2yjh37mgtbm2-6>li:before{content:"\0025cf  "}.lst-kix_6no4tthr2wo1-0>li:before{content:"" counter(lst-ctn-kix_6no4tthr2wo1-0,decimal) ". "}.lst-kix_4a5cw2dlleht-3>li{counter-increment:lst-ctn-kix_4a5cw2dlleht-3}.lst-kix_djxeid5213p-4>li{counter-increment:lst-ctn-kix_djxeid5213p-4}.lst-kix_n6de3aaazbqx-1>li:before{content:"\0025cb  "}.lst-kix_zcvl3fbc6do4-0>li:before{content:"" counter(lst-ctn-kix_zcvl3fbc6do4-0,decimal) ". "}ol.lst-kix_lg8dkrfv0qcu-3.start{counter-reset:lst-ctn-kix_lg8dkrfv0qcu-3 0}.lst-kix_tcwr7sx3qmaw-3>li{counter-increment:lst-ctn-kix_tcwr7sx3qmaw-3}.lst-kix_g7bqe7r6c5y-4>li:before{content:"\0025cb  "}.lst-kix_g5hw4owq9gm6-1>li{counter-increment:lst-ctn-kix_g5hw4owq9gm6-1}.lst-kix_ixkeh6iza7m6-2>li:before{content:"" counter(lst-ctn-kix_ixkeh6iza7m6-2,lower-roman) ". "}.lst-kix_g7bqe7r6c5y-7>li:before{content:"\0025cb  "}ol.lst-kix_djxeid5213p-8{list-style-type:none}.lst-kix_2epif0ienwnx-0>li:before{content:"\0025cf  "}ol.lst-kix_djxeid5213p-1{list-style-type:none}.lst-kix_jzsgaky6g7z3-4>li{counter-increment:lst-ctn-kix_jzsgaky6g7z3-4}ol.lst-kix_djxeid5213p-0{list-style-type:none}ol.lst-kix_djxeid5213p-3{list-style-type:none}ol.lst-kix_djxeid5213p-2{list-style-type:none}ol.lst-kix_djxeid5213p-5{list-style-type:none}ol.lst-kix_djxeid5213p-4{list-style-type:none}ol.lst-kix_djxeid5213p-7{list-style-type:none}ol.lst-kix_djxeid5213p-6{list-style-type:none}.lst-kix_cekjy5rtkev4-7>li:before{content:"\0025cb  "}ul.lst-kix_cekjy5rtkev4-8{list-style-type:none}ul.lst-kix_cekjy5rtkev4-7{list-style-type:none}ul.lst-kix_cekjy5rtkev4-6{list-style-type:none}ul.lst-kix_cekjy5rtkev4-5{list-style-type:none}ul.lst-kix_cekjy5rtkev4-4{list-style-type:none}ul.lst-kix_cekjy5rtkev4-3{list-style-type:none}ul.lst-kix_cekjy5rtkev4-2{list-style-type:none}ul.lst-kix_cekjy5rtkev4-1{list-style-type:none}ul.lst-kix_cekjy5rtkev4-0{list-style-type:none}ol.lst-kix_og0h44h11kom-0.start{counter-reset:lst-ctn-kix_og0h44h11kom-0 0}ol.lst-kix_scdn9fkfpojm-0.start{counter-reset:lst-ctn-kix_scdn9fkfpojm-0 0}.lst-kix_ry2l2t3q0bf2-4>li{counter-increment:lst-ctn-kix_ry2l2t3q0bf2-4}.lst-kix_ynk1jb423v8p-4>li:before{content:"\0025cb  "}.lst-kix_vu8ackanrfrr-0>li{counter-increment:lst-ctn-kix_vu8ackanrfrr-0}.lst-kix_9agb6svh85y5-5>li{counter-increment:lst-ctn-kix_9agb6svh85y5-5}.lst-kix_toppvyk2j46u-6>li:before{content:"\0025cf  "}.lst-kix_rztvt1qt68k4-0>li:before{content:"" counter(lst-ctn-kix_rztvt1qt68k4-0,decimal) ". "}.lst-kix_6lbfx97xtcef-3>li{counter-increment:lst-ctn-kix_6lbfx97xtcef-3}ol.lst-kix_lg8dkrfv0qcu-7.start{counter-reset:lst-ctn-kix_lg8dkrfv0qcu-7 0}.lst-kix_um1ceofb3c39-4>li{counter-increment:lst-ctn-kix_um1ceofb3c39-4}.lst-kix_99kco6cmz88s-1>li{counter-increment:lst-ctn-kix_99kco6cmz88s-1}.lst-kix_ccmzo2unoagl-6>li{counter-increment:lst-ctn-kix_ccmzo2unoagl-6}.lst-kix_um1ceofb3c39-7>li:before{content:"" counter(lst-ctn-kix_um1ceofb3c39-7,lower-latin) ". "}.lst-kix_kvzqjuu34aac-4>li:before{content:"" counter(lst-ctn-kix_kvzqjuu34aac-4,lower-latin) ". "}.lst-kix_4x89tkurgtys-0>li:before{content:"\0025cf  "}.lst-kix_2wzv0c37mscg-3>li:before{content:"" counter(lst-ctn-kix_2wzv0c37mscg-3,decimal) ". "}.lst-kix_231qltjiej1b-0>li:before{content:"" counter(lst-ctn-kix_231qltjiej1b-0,decimal) ". "}.lst-kix_rztvt1qt68k4-3>li{counter-increment:lst-ctn-kix_rztvt1qt68k4-3}.lst-kix_gs67zzu7w7z9-3>li:before{content:"\0025cf  "}.lst-kix_9uwxlic953dp-1>li:before{content:"" counter(lst-ctn-kix_9uwxlic953dp-1,lower-latin) ". "}.lst-kix_70i2e22v5l2-7>li:before{content:"\0025cb  "}.lst-kix_ydcqnhnvg283-7>li{counter-increment:lst-ctn-kix_ydcqnhnvg283-7}.lst-kix_djxeid5213p-8>li:before{content:"" counter(lst-ctn-kix_djxeid5213p-8,lower-roman) ". "}.lst-kix_demv1nd5mcc4-6>li:before{content:"" counter(lst-ctn-kix_demv1nd5mcc4-6,decimal) ". "}.lst-kix_mlk6dnhjzk7u-7>li{counter-increment:lst-ctn-kix_mlk6dnhjzk7u-7}.lst-kix_pjnl93gc3004-1>li{counter-increment:lst-ctn-kix_pjnl93gc3004-1}.lst-kix_vahsii3hvprg-5>li{counter-increment:lst-ctn-kix_vahsii3hvprg-5}.lst-kix_8vs3c95uml8g-2>li:before{content:"" counter(lst-ctn-kix_8vs3c95uml8g-2,lower-roman) ". "}.lst-kix_lfh56zd88abz-6>li:before{content:"\0025cf  "}ol.lst-kix_lg8dkrfv0qcu-1{list-style-type:none}.lst-kix_eeflv3tx7x8-0>li{counter-increment:lst-ctn-kix_eeflv3tx7x8-0}ol.lst-kix_lg8dkrfv0qcu-0{list-style-type:none}ol.lst-kix_lg8dkrfv0qcu-5{list-style-type:none}ol.lst-kix_lg8dkrfv0qcu-4{list-style-type:none}ol.lst-kix_lg8dkrfv0qcu-3{list-style-type:none}ol.lst-kix_lg8dkrfv0qcu-2{list-style-type:none}.lst-kix_1znearomzlt0-8>li:before{content:"\0025a0  "}.lst-kix_3vj5z9behcl1-8>li{counter-increment:lst-ctn-kix_3vj5z9behcl1-8}.lst-kix_ozrzovx1mz7z-6>li:before{content:"\0025cf  "}.lst-kix_mvwurm2wk0z0-6>li{counter-increment:lst-ctn-kix_mvwurm2wk0z0-6}.lst-kix_lcivzm6bc10p-6>li:before{content:"\0025cf  "}.lst-kix_pug38gcm3mfz-0>li:before{content:"" counter(lst-ctn-kix_pug38gcm3mfz-0,decimal) ". "}.lst-kix_ydcqnhnvg283-8>li:before{content:"" counter(lst-ctn-kix_ydcqnhnvg283-8,lower-roman) ". "}ul.lst-kix_lcivzm6bc10p-3{list-style-type:none}ul.lst-kix_lcivzm6bc10p-2{list-style-type:none}ul.lst-kix_lcivzm6bc10p-1{list-style-type:none}.lst-kix_o4csfsvt568i-7>li:before{content:"" counter(lst-ctn-kix_o4csfsvt568i-7,lower-latin) ". "}ul.lst-kix_lcivzm6bc10p-0{list-style-type:none}.lst-kix_u5ht8watzdqo-7>li:before{content:"\0025cb  "}.lst-kix_2v6s1svct7dg-8>li{counter-increment:lst-ctn-kix_2v6s1svct7dg-8}ul.lst-kix_lcivzm6bc10p-7{list-style-type:none}ul.lst-kix_lcivzm6bc10p-6{list-style-type:none}ul.lst-kix_lcivzm6bc10p-5{list-style-type:none}ul.lst-kix_lcivzm6bc10p-4{list-style-type:none}ol.lst-kix_lg8dkrfv0qcu-8{list-style-type:none}ol.lst-kix_lg8dkrfv0qcu-7{list-style-type:none}.lst-kix_j2km2ok9rn2f-7>li:before{content:"" counter(lst-ctn-kix_j2km2ok9rn2f-7,lower-latin) ". "}.lst-kix_zcvl3fbc6do4-5>li{counter-increment:lst-ctn-kix_zcvl3fbc6do4-5}ol.lst-kix_lg8dkrfv0qcu-6{list-style-type:none}ul.lst-kix_lcivzm6bc10p-8{list-style-type:none}.lst-kix_r0n1ukoeko9i-7>li{counter-increment:lst-ctn-kix_r0n1ukoeko9i-7}.lst-kix_og0h44h11kom-6>li{counter-increment:lst-ctn-kix_og0h44h11kom-6}.lst-kix_n74u8poefvny-7>li{counter-increment:lst-ctn-kix_n74u8poefvny-7}.lst-kix_mkkzzu530uy6-1>li:before{content:"\0025cb  "}ol.lst-kix_lg8dkrfv0qcu-8.start{counter-reset:lst-ctn-kix_lg8dkrfv0qcu-8 0}.lst-kix_tauxjktfe261-6>li:before{content:"\0025cf  "}.lst-kix_ixkeh6iza7m6-0>li{counter-increment:lst-ctn-kix_ixkeh6iza7m6-0}.lst-kix_kjf8zdvo1lyf-7>li{counter-increment:lst-ctn-kix_kjf8zdvo1lyf-7}ol{margin:0;padding:0}table td,table th{padding:0}.c149{border-right-style:solid;padding:14.2pt 14.2pt 14.2pt 14.2pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#252525;border-left-style:solid;border-bottom-width:1pt;width:453.5pt;border-top-color:#000000;border-bottom-style:solid}.c71{border-right-style:solid;padding:14.2pt 14.2pt 14.2pt 14.2pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#252525;border-left-style:solid;border-bottom-width:1pt;width:507.8pt;border-top-color:#000000;border-bottom-style:solid}.c148{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#252525;border-left-style:solid;border-bottom-width:1pt;width:502.5pt;border-top-color:#000000;border-bottom-style:solid}.c103{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#ffffff;border-top-width:0pt;border-right-width:0pt;border-left-color:#ffffff;vertical-align:top;border-right-color:#ffffff;border-left-width:0pt;border-top-style:solid;background-color:#d0e0e3;border-left-style:solid;border-bottom-width:0pt;width:539pt;border-top-color:#ffffff;border-bottom-style:solid}.c30{border-right-style:solid;padding:14.2pt 14.2pt 14.2pt 14.2pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#252525;border-left-style:solid;border-bottom-width:1pt;width:539pt;border-top-color:#000000;border-bottom-style:solid}.c105{border-right-style:solid;padding:14.2pt 14.2pt 14.2pt 14.2pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#252525;border-left-style:solid;border-bottom-width:1pt;width:504.8pt;border-top-color:#000000;border-bottom-style:solid}.c35{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#ffffff;border-top-width:0pt;border-right-width:0pt;border-left-color:#ffffff;vertical-align:top;border-right-color:#ffffff;border-left-width:0pt;border-top-style:solid;background-color:#d0e0e3;border-left-style:solid;border-bottom-width:0pt;width:538.6pt;border-top-color:#ffffff;border-bottom-style:solid}.c109{border-right-style:solid;padding:14.2pt 14.2pt 14.2pt 14.2pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#252525;border-left-style:solid;border-bottom-width:1pt;width:505.5pt;border-top-color:#000000;border-bottom-style:solid}.c122{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#252525;border-left-style:solid;border-bottom-width:1pt;width:538.6pt;border-top-color:#000000;border-bottom-style:solid}.c125{border-right-style:solid;padding:14.2pt 14.2pt 14.2pt 14.2pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#252525;border-left-style:solid;border-bottom-width:1pt;width:507pt;border-top-color:#000000;border-bottom-style:solid}.c28{border-right-style:solid;padding:14.2pt 14.2pt 14.2pt 14.2pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#252525;border-left-style:solid;border-bottom-width:1pt;width:504pt;border-top-color:#000000;border-bottom-style:solid}.c124{border-right-style:solid;padding:14.2pt 14.2pt 14.2pt 14.2pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#252525;border-left-style:solid;border-bottom-width:1pt;width:506.2pt;border-top-color:#000000;border-bottom-style:solid}.c80{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#252525;border-left-style:solid;border-bottom-width:1pt;width:539pt;border-top-color:#000000;border-bottom-style:solid}.c101{border-right-style:solid;padding:14.2pt 14.2pt 14.2pt 14.2pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:middle;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;background-color:#252525;border-left-style:solid;border-bottom-width:1pt;width:538.6pt;border-top-color:#000000;border-bottom-style:solid}.c154{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:467.2pt;border-top-color:#000000;border-bottom-style:solid}.c141{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#cccccc;vertical-align:top;border-right-color:#000000;border-left-width:4.5pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:18pt;border-top-color:#000000;border-bottom-style:solid}.c147{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:444pt;border-top-color:#000000;border-bottom-style:solid}.c21{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#b7b7b7;border-top-width:1pt;border-right-width:1pt;border-left-color:#b7b7b7;vertical-align:top;border-right-color:#b7b7b7;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:156.8pt;border-top-color:#b7b7b7;border-bottom-style:solid}.c132{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#a4c2f4;border-top-width:1pt;border-right-width:1pt;border-left-color:#a4c2f4;vertical-align:top;border-right-color:#a4c2f4;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:144pt;border-top-color:#a4c2f4;border-bottom-style:solid}.c107{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#cfe2f3;border-top-width:1pt;border-right-width:1pt;border-left-color:#cfe2f3;vertical-align:top;border-right-color:#cfe2f3;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:331.5pt;border-top-color:#cfe2f3;border-bottom-style:solid}.c51{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#9fc5e8;border-top-width:1pt;border-right-width:1pt;border-left-color:#9fc5e8;vertical-align:top;border-right-color:#9fc5e8;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:291pt;border-top-color:#9fc5e8;border-bottom-style:solid}.c66{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#b7b7b7;border-top-width:1pt;border-right-width:1pt;border-left-color:#b7b7b7;vertical-align:top;border-right-color:#b7b7b7;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:261.8pt;border-top-color:#b7b7b7;border-bottom-style:solid}.c93{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#999999;border-top-width:1pt;border-right-width:1pt;border-left-color:#999999;vertical-align:top;border-right-color:#999999;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:312pt;border-top-color:#999999;border-bottom-style:solid}.c112{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:538.6pt;border-top-color:#000000;border-bottom-style:solid}.c100{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#cfe2f3;border-top-width:1pt;border-right-width:1pt;border-left-color:#cfe2f3;vertical-align:top;border-right-color:#cfe2f3;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:345pt;border-top-color:#cfe2f3;border-bottom-style:solid}.c8{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#b7b7b7;border-top-width:1pt;border-right-width:1pt;border-left-color:#b7b7b7;vertical-align:top;border-right-color:#b7b7b7;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:120pt;border-top-color:#b7b7b7;border-bottom-style:solid}.c62{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#9fc5e8;border-top-width:1pt;border-right-width:1pt;border-left-color:#9fc5e8;vertical-align:top;border-right-color:#9fc5e8;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:126.8pt;border-top-color:#9fc5e8;border-bottom-style:solid}.c84{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:444.8pt;border-top-color:#000000;border-bottom-style:solid}.c120{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:93.8pt;border-top-color:#000000;border-bottom-style:solid}.c128{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:94.5pt;border-top-color:#000000;border-bottom-style:solid}.c67{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#999999;border-top-width:1pt;border-right-width:1pt;border-left-color:#999999;vertical-align:top;border-right-color:#999999;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:69pt;border-top-color:#999999;border-bottom-style:solid}.c133{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:445.5pt;border-top-color:#000000;border-bottom-style:solid}.c137{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#999999;border-top-width:1pt;border-right-width:1pt;border-left-color:#999999;vertical-align:top;border-right-color:#999999;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:74.2pt;border-top-color:#999999;border-bottom-style:solid}.c85{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#cfe2f3;border-top-width:1pt;border-right-width:1pt;border-left-color:#cfe2f3;vertical-align:top;border-right-color:#cfe2f3;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:184.5pt;border-top-color:#cfe2f3;border-bottom-style:solid}.c121{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#9fc5e8;border-top-width:1pt;border-right-width:1pt;border-left-color:#9fc5e8;vertical-align:top;border-right-color:#9fc5e8;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:118.5pt;border-top-color:#9fc5e8;border-bottom-style:solid}.c144{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#a4c2f4;border-top-width:1pt;border-right-width:1pt;border-left-color:#a4c2f4;vertical-align:top;border-right-color:#a4c2f4;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:123.8pt;border-top-color:#a4c2f4;border-bottom-style:solid}.c114{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#a4c2f4;border-top-width:1pt;border-right-width:1pt;border-left-color:#a4c2f4;vertical-align:top;border-right-color:#a4c2f4;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:95.2pt;border-top-color:#a4c2f4;border-bottom-style:solid}.c95{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#cfe2f3;border-top-width:1pt;border-right-width:1pt;border-left-color:#cfe2f3;vertical-align:top;border-right-color:#cfe2f3;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:202.5pt;border-top-color:#cfe2f3;border-bottom-style:solid}.c118{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#a4c2f4;border-top-width:1pt;border-right-width:1pt;border-left-color:#a4c2f4;vertical-align:top;border-right-color:#a4c2f4;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:175.5pt;border-top-color:#a4c2f4;border-bottom-style:solid}.c75{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#999999;border-top-width:1pt;border-right-width:1pt;border-left-color:#999999;vertical-align:top;border-right-color:#999999;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:83.2pt;border-top-color:#999999;border-bottom-style:solid}.c58{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:179.5pt;border-top-color:#000000;border-bottom-style:solid}.c131{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:93pt;border-top-color:#000000;border-bottom-style:solid}.c18{-webkit-text-decoration-skip:none;font-weight:400;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:11pt;font-family:"Arial";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c1{color:#666666;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c4{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c5{font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c73{color:#0e6471;text-decoration:none;vertical-align:baseline;font-size:72pt;font-family:"Questrial";font-style:normal}.c23{font-weight:400;text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Calibri";font-style:normal}.c57{padding-top:10pt;padding-bottom:0pt;line-height:1.15;page-break-after:avoid;text-align:left;height:16pt}.c96{padding-top:10pt;padding-bottom:0pt;line-height:1.15;page-break-after:avoid;text-align:left}.c29{text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Arial";font-style:normal}.c41{text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c56{text-decoration:none;vertical-align:baseline;font-size:18pt;font-family:"Arial";font-style:normal}.c37{text-decoration:none;vertical-align:baseline;font-size:18pt;font-family:"Calibri";font-style:normal}.c69{text-decoration:none;vertical-align:baseline;font-size:13pt;font-family:"Calibri";font-style:normal}.c50{text-decoration:none;vertical-align:baseline;font-size:8pt;font-family:"Arial";font-style:normal}.c76{padding-top:8pt;padding-bottom:0pt;line-height:1.15;page-break-after:avoid;text-align:left}.c46{text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c60{color:#3d85c6;text-decoration:none;vertical-align:baseline;font-family:"Arial"}.c102{padding-top:0pt;padding-bottom:2pt;line-height:1.15;text-align:left}.c24{padding-top:0pt;padding-bottom:0pt;text-align:left}.c39{text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial"}.c49{padding-top:0pt;padding-bottom:5pt;text-align:left}.c17{background-color:#272822;font-family:"Verdana";color:#f92672;font-weight:400}.c130{padding-top:-41pt;padding-bottom:0pt;line-height:1.15;text-align:left}.c88{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:center}.c74{margin-left:10.5pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c31{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:center}.c48{padding-top:0pt;padding-bottom:15pt;text-align:left}.c36{margin-left:33.8pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c13{background-color:#272822;font-family:"Verdana";color:#e6db74;font-weight:400}.c134{padding-top:0pt;padding-bottom:15pt;line-height:1.15;text-align:left}.c6{background-color:#272822;font-family:"Verdana";color:#ffffff;font-weight:400}.c52{border-spacing:0;border-collapse:collapse;margin-right:auto}.c45{text-decoration:none;vertical-align:baseline;font-size:11pt;font-style:normal}.c140{padding-top:0pt;padding-bottom:4pt;line-height:1.0;text-align:left}.c65{padding-top:2pt;padding-bottom:2pt;line-height:1.0;text-align:center}.c11{background-color:#272822;font-family:"Verdana";color:#75715e;font-weight:400}.c59{padding-top:0pt;padding-bottom:0pt;line-height:2.0;text-align:left}.c92{padding-top:0pt;padding-bottom:2pt;text-align:left}.c7{background-color:#272822;font-family:"Verdana";color:#ae81ff;font-weight:400}.c38{margin-left:34.5pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c26{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;text-decoration:underline}.c42{background-color:#272822;font-family:"Verdana";color:#a6e22e}.c86{background-color:#272822;font-family:"Verdana";color:#75715e}.c97{background-color:#272822;font-family:"Verdana";color:#6aa84f}.c72{vertical-align:baseline;font-size:11pt;font-family:"Arial"}.c156{font-size:72pt;font-family:"Questrial";color:#0e6471}.c79{text-decoration:none;vertical-align:baseline;font-family:"Arial"}.c63{background-color:#272822;font-family:"Verdana";color:#66d9ef}.c77{border-spacing:0;border-collapse:collapse;margin-right:auto}.c126{background-color:#272822;font-family:"Verdana"}.c129{font-family:"Verdana";color:#001c20}.c98{font-family:"Verdana";color:#e6db74}.c91{background-color:#272822;color:#66d9ef}.c111{text-decoration:none;vertical-align:baseline}.c14{font-size:10pt;font-style:italic}.c40{background-color:#272822;color:#f92672}.c143{font-size:16pt;font-family:"Trebuchet MS"}.c70{background-color:#ffffff;color:#999999}.c54{background-color:#272822;color:#ffffff}.c25{margin-left:108pt;padding-left:0pt}.c113{padding:28.3pt 28.3pt 28.3pt 28.3pt}.c108{color:#e4f0f1;font-family:"Verdana"}.c16{color:inherit;text-decoration:inherit}.c34{margin-left:72pt;padding-left:0pt}.c10{padding:0;margin:0}.c43{orphans:2;widows:2}.c82{color:#434343}.c153{background-color:#9fc5e8}.c83{background-color:#ffffff}.c106{height:12pt}.c53{height:5pt}.c3{color:#666666}.c44{color:#0b8fa2}.c150{margin-left:33pt}.c145{color:#001c20}.c64{color:#000000}.c155{height:2pt}.c135{font-size:13pt}.c33{font-weight:400}.c22{height:0pt}.c32{height:11pt}.c152{font-size:30pt}.c117{font-size:14pt}.c146{color:#1155cc}.c90{font-family:"Calibri"}.c123{font-family:"Arial"}.c115{font-size:18pt}.c12{font-weight:700}.c9{color:#252525}.c20{color:#f3f3f3}.c99{margin-left:0.8pt}.c15{text-indent:36pt}.c119{margin-left:32.2pt}.c27{font-style:italic}.c127{height:24pt}.c61{background-color:#cfe2f3}.c55{font-size:12pt}.c94{background-color:#c9daf8}.c68{font-size:10pt}.c78{color:#999999}.c47{padding-left:0pt}.c142{font-family:"Francois One"}.c151{font-size:11pt}.c139{font-family:"Verdana"}.c116{margin-left:37.5pt}.c81{font-style:normal}.c110{background-color:#e4f0f1}.c19{margin-left:36pt}.c138{vertical-align:baseline}.c87{color:#3d85c6}.c89{margin-left:35.2pt}.c104{height:27pt}.c136{height:22pt}.title{padding-top:0pt;color:#000000;font-size:21pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:13pt;padding-bottom:10pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:10pt;color:#000000;font-size:16pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:10pt;color:#000000;font-weight:700;font-size:13pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:8pt;color:#666666;font-weight:700;font-size:12pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:8pt;-webkit-text-decoration-skip:none;color:#666666;text-decoration:underline;font-size:11pt;padding-bottom:0pt;line-height:1.15;page-break-after:avoid;text-decoration-skip-ink:none;font-family:"Trebuchet MS";orphans:2;widows:2;text-align:left}h5{padding-top:8pt;color:#666666;font-size:11pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:8pt;color:#666666;font-size:11pt;padding-bottom:0pt;font-family:"Trebuchet MS";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body style="display:flex; flex-direction:column;" class="c83 c113"><div style="max-width: 538.6pt;align-self:  center;"><p class="c2"><span class="c0"></span></p><p class="c43 c32 c88"><span class="c0"></span></p><p class="c88 c43 c32"><span class="c0"></span></p><p class="c88 c43"><span class="c12 c156">sails</span></p><p class="c88 c43"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 582.00px; height: 464.00px;"><img alt="Imagen" src="images/image15.png" style="width: 582.00px; height: 464.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c88 c43 c32"><span class="c12 c73"></span></p><p class="c88 c43"><span class="c111 c64 c12 c142 c81 c152">Gu&iacute;a de aprendizaje</span></p><p class="c88 c43"><span class="c12 c55 c142">v.0.11 (2&ordf; Edici&oacute;n)</span></p><h1 class="c57" id="h.e2i3uza86yxp"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.2ey5illskdo"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.yemlfvughloj"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.adse3gofdbi8"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.2q4xla5m96tj"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.wba7114raftf"><span class="c56 c44 c12"></span></h1><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><h1 class="c57" id="h.1y0a317v54nw"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.jhgelix2zrv8"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.iyshdaxj9hpo"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.ubxak18gb0cv"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.yi7rzwarqod"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.k07vzvprxw55"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.b62q25rgesxh"><span class="c56 c44 c12"></span></h1><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c37 c3 c12">(Sails.js) Gu&iacute;a Aprendizaje</span></p><p class="c2"><span class="c37 c3 c12"></span></p><p class="c4"><span class="c3 c135 c33 c90">Por</span><span class="c3 c90 c12 c135">: &nbsp;</span><span class="c111 c3 c135 c90 c12 c27">Josu&eacute; J. Rodr&iacute;guez</span></p><p class="c2"><span class="c69 c3 c12"></span></p><a id="t.2cab31d9a7c278b07477a419e73646a976f21086"></a><a id="t.0"></a><table class="c74"><tbody><tr class="c22"><td class="c141" colspan="1" rowspan="1"><p class="c24 c32"><span class="c69 c3 c12"></span></p></td><td class="c154" colspan="1" rowspan="1"><p class="c24"><span class="c111 c3 c33 c90 c55 c81">Esta gu&iacute;a no pretende ense&ntilde;arte a programar con Node.js ni con JavaScript. Esta gu&iacute;a &nbsp;te ayudar&aacute; a construir Aplicaciones Web Personalizadas. Sails es uno de los frameworks MVC m&aacute;s populares de Node.js. La construcci&oacute;n de una aplicaci&oacute;n con Sails, ser&aacute; cuesti&oacute;n de semanas en lugar de meses.</span></p></td></tr></tbody></table><p class="c2"><span class="c3 c12 c69"></span></p><p class="c2"><span class="c37 c3 c12"></span></p><p class="c2"><span class="c23 c3"></span></p><p class="c2"><span class="c37 c3 c12"></span></p><p class="c4"><span class="c37 c3 c12">___________________________________________________________</span></p><p class="c2"><span class="c37 c3 c12"></span></p><p class="c2"><span class="c69 c3 c12"></span></p><p class="c4"><span class="c23 c3">1&ordf; Edici&oacute;n Publicado el 12 de Noviembre 2014 (v.0.10)</span></p><p class="c4"><span class="c23 c3">2&ordf; Edici&oacute;n Publicado el 3 de Febrero 2015 (v.0.11)</span></p><p class="c2"><span class="c3 c23"></span></p><p class="c2"><span class="c23 c3"></span></p><p class="c2"><span class="c23 c3"></span></p><p class="c2"><span class="c23 c3"></span></p><p class="c2"><span class="c23 c3"></span></p><p class="c2"><span class="c3 c12 c37"></span></p><p class="c4"><span class="c3 c90 c115 c12">Tabla de Contenidos</span><span class="c37 c3 c33">&nbsp;</span></p><p class="c4"><span class="c37 c3 c33">&nbsp;</span></p><ol class="c10 lst-kix_3vj5z9behcl1-0 start" start="1"><li class="c4 c34"><span class="c1">Sails.js </span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-2 start" start="1"><li class="c4 c25"><span class="c5 c3">Visi&oacute;n</span></li><li class="c4 c25"><span class="c5 c3">Instalaci&oacute;n node</span></li><li class="c4 c25"><span class="c5 c3">Instalaci&oacute;n sails.js</span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-0" start="2"><li class="c4 c34"><span class="c1">Assets</span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-2 start" start="1"><li class="c4 c25"><span class="c5 c3">Visi&oacute;n del conjunto </span></li><li class="c4 c25"><span class="c5 c3">Tareas por defecto</span></li><li class="c4 c25"><span class="c5 c3">Desactivando tareas &nbsp;automatizadas</span></li><li class="c4 c25"><span class="c5 c3">Tareas automatizadas</span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-0" start="3"><li class="c4 c34"><span class="c3 c12">Configuraci&oacute;n</span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-2 start" start="1"><li class="c4 c25"><span class="c3">Usando el archivo </span><span class="c1">.sailsrc</span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-0" start="4"><li class="c4 c34"><span class="c1">Globales</span></li><li class="c4 c34"><span class="c3 c12">Rutas</span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-2 start" start="1"><li class="c4 c25"><span class="c5 c3">Rutas personalizadas</span></li><li class="c4 c25"><span class="c5 c3">URL&rsquo;s </span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-0" start="6"><li class="c4 c34"><span class="c1">Controladores</span></li><li class="c4 c34"><span class="c1">Respuestas Personalizadas</span></li><li class="c4 c34"><span class="c3 c12">Modelos y ORM </span><span class="c5 c3">(Object-Relational mapping)</span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-2 start" start="1"><li class="c4 c25"><span class="c5 c3">Asociaciones</span></li><li class="c4 c25"><span class="c5 c3">Dominio</span></li><li class="c4 c25"><span class="c5 c3">Many to Many (muchos a muchos)</span></li><li class="c4 c25"><span class="c5 c3">One to Many (uno a muchos)</span></li><li class="c4 c25"><span class="c5 c3">One to One (uno a uno)</span></li><li class="c4 c25"><span class="c5 c3">Asociaci&oacute;n &uacute;nica</span></li><li class="c4 c25"><span class="c5 c3">Accediendo a tablas relacionadas</span></li><li class="c4 c25"><span class="c5 c3">Atributos</span></li><li class="c4 c25"><span class="c3">Ciclo de vida </span><span class="c39 c3 c33 c27">Callbacks</span></li><li class="c4 c25"><span class="c5 c3">Modelos</span></li><li class="c4 c25"><span class="c5 c3">Lenguaje de consulta</span></li><li class="c4 c25"><span class="c5 c3">Validaciones</span></li><li class="c4 c25"><span class="c5 c3">Configuraci&oacute;n de modelos</span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-0" start="9"><li class="c4 c34"><span class="c3 c12">Vistas</span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-2 start" start="1"><li class="c4 c25"><span class="c5 c3">Plantillas</span></li><li class="c4 c25"><span class="c5 c3">Locales</span></li><li class="c4 c25"><span class="c5 c3">Parciales</span></li><li class="c4 c25"><span class="c3">Manejadores de vistas </span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-0" start="10"><li class="c4 c34"><span class="c1">Servicios</span></li><li class="c4 c34"><span class="c3 c12">Seguridad</span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-2 start" start="1"><li class="c4 c25"><span class="c3">Cross-Origin Resource Sharing </span><span class="c3 c12">(CORS)</span><span class="c5 c3">&nbsp;</span></li><li class="c4 c25"><span class="c3">Cross-Site Request Forgery (</span><span class="c3 c12">CSRF</span><span class="c5 c3">)</span></li><li class="c4 c25"><span class="c5 c3">Cickjacking </span></li><li class="c4 c25"><span class="c5 c3">Pol&iacute;tica de seguridad</span></li><li class="c4 c25"><span class="c5 c3">DDos</span></li><li class="c4 c25"><span class="c5 c3">P3P</span></li><li class="c4 c25"><span class="c5 c3">Robo de sockets</span></li><li class="c4 c25"><span class="c3">Seguridad de transporte HTTP stricta (</span><span class="c3 c12">HSTS</span><span class="c5 c3">)</span></li><li class="c4 c25"><span class="c5 c3">XSS</span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-0" start="12"><li class="c4 c34"><span class="c1">Internacionalizaci&oacute;n</span></li><li class="c4 c34"><span class="c1">Pol&iacute;ticas</span></li><li class="c4 c34"><span class="c1">Middleware</span></li><li class="c4 c34"><span class="c1">Cargar / Subir archivos al servidor</span></li><li class="c4 c34"><span class="c3 c12">Logs</span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-2 start" start="1"><li class="c4 c25"><span class="c5 c3">sails.log()</span></li></ol><ol class="c10 lst-kix_3vj5z9behcl1-0" start="17"><li class="c4 c34"><span class="c1">Testeo</span></li><li class="c4 c34"><span class="c3 c12">Desplegando la aplicaci&oacute;n</span><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c82">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li></ol><p class="c2"><span class="c46 c64 c12"></span></p><p class="c2"><span class="c41 c44 c33"></span></p><p class="c2"><span class="c41 c44 c33"></span></p><p class="c2"><span class="c41 c44 c33"></span></p><p class="c2"><span class="c41 c44 c33"></span></p><p class="c2"><span class="c41 c44 c33"></span></p><p class="c2"><span class="c41 c44 c33"></span></p><p class="c2"><span class="c41 c44 c33"></span></p><p class="c2"><span class="c41 c44 c33"></span></p><p class="c2"><span class="c41 c44 c33"></span></p><p class="c2"><span class="c41 c44 c33"></span></p><p class="c2"><span class="c41 c33 c44"></span></p><p class="c2"><span class="c41 c44 c33"></span></p><p class="c2"><span class="c41 c44 c33"></span></p><p class="c2"><span class="c41 c44 c33"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><h1 class="c57" id="h.14n7ooyhf2gu"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.hh5sjb16jv5l"><span class="c56 c44 c12"></span></h1><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><h1 class="c57" id="h.h1fsyp1wrk2d"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.5tmfypulvfhw"><span class="c56 c44 c12"></span></h1><h1 class="c96" id="h.ddjazwptphgk"><span class="c56 c44 c12">Caracter&iacute;sticas Principales</span></h1><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Sails es un framework ligero. El conjunto de peque&ntilde;os m&oacute;dulos trabajan juntos para proporcionar simplicidad, facilidad de mantenimiento y robustez en nuestras aplicaciones web.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><a id="t.cc839bd3fdaae607921f24d49c81ff8b5a7fa687"></a><a id="t.2"></a><table class="c52"><tbody><tr class="c22"><td class="c131" colspan="1" rowspan="1"><p class="c24"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 100.00px; height: 114.00px;"><img alt="icon_js_large.png" src="images/image9.png" style="width: 100.00px; height: 114.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c133" colspan="1" rowspan="1"><p class="c24"><span class="c46 c44 c12">100% JavaScript</span></p><p class="c24 c32"><span class="c50 c44 c12"></span></p><p class="c24"><span class="c3 c68">Al igual que otros frameworks MVC, </span><span class="c3 c12 c68">Sails</span><span class="c29 c3 c33">&nbsp;se centra en el desarrollador, intentando hacerle la vida m&aacute;s f&aacute;cil manteniendo la filosof&iacute;a de convenci&oacute;n antes que configuraci&oacute;n.</span></p><p class="c24"><span class="c3 c68">La construcci&oacute;n de una aplicaci&oacute;n en </span><span class="c3 c12 c68">Sails</span><span class="c29 c3 c33">&nbsp;est&aacute; escrita completamente en JavaScript, el lenguaje que estamos acostumbrados a escribir en la parte del frontend. De este modo el desarrollador es capaz de escribir c&oacute;digo consistente y productivo.</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><a id="t.a1cf7d89cc8acf1ba056539d6bdc81cba00b1c65"></a><a id="t.3"></a><table class="c52"><tbody><tr class="c22"><td class="c120" colspan="1" rowspan="1"><p class="c24"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 100.00px; height: 115.00px;"><img alt="icon_database_large.png" src="images/image2.png" style="width: 100.00px; height: 115.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c24"><span class="c46 c44 c12">Cualquier Base de Datos</span></p><p class="c24 c32"><span class="c44 c33 c50"></span></p><p class="c24"><span class="c29 c3 c33">Sails trae consigo un ORM, llamado Waterline, proporciona una capa de acceso a los datos que simplemente funciona, no importa la base de datos que est&eacute; utilizando.</span></p><p class="c24"><span class="c29 c3 c33">Aparte de la gran cantidad de proyectos que existen en la comunidad, existen adaptadores con soporte oficial para MySQL, MongoDB, PostgreSQL, Redis y Disco Local.</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><a id="t.41d19ddbec818bb0fa830ab102cc9d34525a19f0"></a><a id="t.4"></a><table class="c52"><tbody><tr class="c22"><td class="c131" colspan="1" rowspan="1"><p class="c24"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 100.00px; height: 115.00px;"><img alt="icon_associations_large.png" src="images/image8.png" style="width: 100.00px; height: 115.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c133" colspan="1" rowspan="1"><p class="c24"><span class="c46 c44 c12">Asociaciones con gran potencial</span></p><p class="c24 c32"><span class="c50 c44 c12"></span></p><p class="c24"><span class="c3 c68">Sails ofrece una nueva forma de relacionar modelos, con el prop&oacute;sito de realizar un modelo de datos m&aacute;s pr&aacute;ctico. A parte de lleva a cabo las relaciones m&aacute;s usuales (many-to-many, one-to-many, ...), tambi&eacute;n se puede asignar varias asociaciones por modelo. (Por ejemplo un pastel podr&iacute;a tener dos colecciones: &ldquo;gente&rdquo; y &ldquo;comedores&rdquo;). O mejor a&uacute;n puedes asignar diferentes modelos a diferentes bases de datos.</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><a id="t.e560f88d59c719e7a09267dd0c67bc053fb1abb6"></a><a id="t.5"></a><table class="c52"><tbody><tr class="c22"><td class="c131" colspan="1" rowspan="1"><p class="c24"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 100.00px; height: 115.00px;"><img alt="icon_api_large.png" src="images/image5.png" style="width: 100.00px; height: 115.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c133" colspan="1" rowspan="1"><p class="c24"><span class="c46 c44 c12">Generar autom&aacute;ticamente API Rest</span></p><p class="c24 c32"><span class="c50 c44 c12"></span></p><p class="c24"><span class="c3 c68">Sails cuenta con </span><span class="c3 c12 c68">blueprints</span><span class="c29 c3 c33">&nbsp;para ayudarnos a construir un backend sin escribir apenas c&oacute;digo.</span></p><p class="c24"><span class="c3 c68">Tan f&aacute;cil como ejecutar </span><span class="c3 c12 c68">sails generate api dentista</span><span class="c3 c68">, y poder realizar b&uacute;squedas, paginar, filtrar, crear, eliminar, actualizar y relacionar. Todo esto gracias a las acciones de </span><span class="c3 c12 c68">blueprint</span><span class="c29 c3 c33">.</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><a id="t.9b7ebfe1a34bf9342529a44d276d2152efb1ac91"></a><a id="t.6"></a><table class="c52"><tbody><tr class="c22"><td class="c131" colspan="1" rowspan="1"><p class="c24"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 100.00px; height: 115.00px;"><img alt="icon_websocket_large.png" src="images/image7.png" style="width: 100.00px; height: 115.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c133" colspan="1" rowspan="1"><p class="c24"><span class="c46 c44 c12">Soporte para WebSockets sin c&oacute;digo adicional</span></p><p class="c24 c32"><span class="c50 c44 c12"></span></p><p class="c24"><span class="c29 c3 c33">Sails interpreta autom&aacute;ticamente los mensajes socket entrantes, son compatibles con las rutas expl&iacute;citas de nuestra aplicaci&oacute;n.</span></p><p class="c24"><span class="c3 c68">Tanto la normalizaci&oacute;n de par&aacute;metros, sesi&oacute;n y la transmisi&oacute;n de interfaz ser&aacute;n atendidos por </span><span class="c3 c12 c68">sails</span><span class="c29 c3 c33">.</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><a id="t.f561caed082474d0a2557ad4eb2aa3fd08fccbf8"></a><a id="t.7"></a><table class="c52"><tbody><tr class="c22"><td class="c120" colspan="1" rowspan="1"><p class="c24"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 100.00px; height: 115.00px;"><img alt="icon_security_large.png" src="images/image6.png" style="width: 100.00px; height: 115.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c24"><span class="c46 c44 c12">Pol&iacute;ticas seguras, reusables y declarativas</span></p><p class="c24 c32"><span class="c50 c44 c12"></span></p><p class="c24"><span class="c29 c3 c33">Sails ofrece seguridad b&aacute;sica y control de acceso basado en roles, para ello haremos uso de las pol&iacute;ticas, funciones reusables que se ejecutan antes que los controladores y acciones.</span></p><p class="c24"><span class="c3 c68">Al hacer uso de las pol&iacute;ticas simplificamos nuestra l&oacute;gica de negocio y reducimos consideradamente la cantidad total de c&oacute;digo. Las pol&iacute;ticas tambi&eacute;n pueden ser un middleware de Express, esto significa que podemos conectar m&oacute;dulos a trav&eacute;s de </span><span class="c3 c12 c68">npm</span><span class="c3 c68">&nbsp;como </span><span class="c3 c12 c68">passport</span><span class="c29 c3 c33">.</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><a id="t.f76c68e22a17f173846fa2b8d34e9a7b8d22cdc9"></a><a id="t.8"></a><table class="c52"><tbody><tr class="c22"><td class="c120" colspan="1" rowspan="1"><p class="c24"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 100.00px; height: 115.00px;"><img alt="icon_frontend_large.png" src="images/image14.png" style="width: 100.00px; height: 115.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c24"><span class="c46 c44 c12">Front-end agn&oacute;stico</span></p><p class="c24 c32"><span class="c50 c44 c12"></span></p><p class="c24"><span class="c29 c3 c33">Sails es compatible con cualquier estrategia que queramos implementar en el front-end, Angular, Backbone, iOS/ObjC, Android/Java, Windows Phone o cualquier otro que todav&iacute;a no se haya inventado. </span></p><p class="c24"><span class="c29 c3 c33">Adem&aacute;s es f&aacute;cil servir una API para ser consumido por otro servicio web o comunidad de desarrolladores.</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><a id="t.948e670ea54228fd18212a7a21c84ed9a270142c"></a><a id="t.9"></a><table class="c52"><tbody><tr class="c22"><td class="c120" colspan="1" rowspan="1"><p class="c24"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 100.00px; height: 115.00px;"><img alt="icon_asset_large.png" src="images/image1.png" style="width: 100.00px; height: 115.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c24"><span class="c46 c44 c12">Assets flexibles</span></p><p class="c24 c32"><span class="c50 c44 c12"></span></p><p class="c24"><span class="c29 c3 c33">Si est&aacute;s construyendo una aplicaci&oacute;n de navegador, est&aacute;s de suerte. Sails junto con Grunt hacen que todo el flujo de trabajo activo para el desarrollador sea totalmente personalizable y con soporte para la mayor&iacute;a de los m&oacute;dulos de Grunt.</span></p><p class="c24"><span class="c29 c3 c33">Cuando tu aplicaci&oacute;n est&eacute; lista para llevarla a producci&oacute;n, todos los assets ser&aacute;n comprimidos y minificados autom&aacute;ticamente.</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><a id="t.0dc6f0fe0202203f4855f076cc254831e30890a4"></a><a id="t.10"></a><table class="c52"><tbody><tr class="c22"><td class="c128" colspan="1" rowspan="1"><p class="c24"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 100.00px; height: 115.00px;"><img alt="icon_foundation_large.png" src="images/image3.png" style="width: 100.00px; height: 115.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c147" colspan="1" rowspan="1"><p class="c24"><span class="c46 c44 c12">Fundaci&oacute;n s&oacute;lida</span></p><p class="c24 c32"><span class="c50 c44 c12"></span></p><p class="c24"><span class="c29 c3 c33">Sails est&aacute; construido sobre Node.js, una tecnolog&iacute;a popular, r&aacute;pida en el lado del servidor, que permite al desarrollador llevar a cabo r&aacute;pidamente aplicaciones en la red con JavaScript.</span></p><p class="c24"><span class="c29 c3 c33">Sails usa Express para gestionar las peticiones HTTP y socket.io para gestionar WebSockets.</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><h1 class="c57" id="h.lcjr338l6qui"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.81h04fbb1is"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.1j0f77kg9gzr"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.sjibd9i7dfn8"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.lfm50yh5tcbz"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.jljwz7kav7ao"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.jao09m22pt5b"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.bnakscx26z40"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.xrejh3p94wm"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.fx89yypevodz"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.hfpbuvpmtfd"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.7ynoqvozflws"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.idudnp3hkzhg"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.g5xws9av2et3"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.z0qiwcl41f1u"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.sv6ovspbe5ef"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.72bxospluj1b"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.fccuiz1at8c0"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.rsnp9i8f630e"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.o2b4r1qcmzfj"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.k96gor5f1wk0"><span class="c56 c44 c12"></span></h1><h1 class="c57" id="h.6hbxy7g9rme2"><span class="c56 c44 c12"></span></h1><h1 class="c96" id="h.y4gke75sgrt0"><span class="c56 c44 c12">1. sails.js</span></h1><p class="c2"><span class="c26 c64 c117 c123 c12 c81 c138"></span></p><p class="c4"><span class="c41 c3 c12">Visi&oacute;n </span></p><p class="c2"><span class="c46 c3 c12"></span></p><p class="c4"><span class="c3 c12">Sails</span><span class="c3">&nbsp;es un framework web. La mayor&iacute;a de las veces, cuando hacemos re</span><span class="c5 c3">ferencia a la &ldquo;web&rdquo;, nos viene a la mente conceptos como HTML5 o CSS3. Cuando o&iacute;mos o leemos la palabra framework, lo primero en que pensamos es en Backbone, Angular o jQuery. </span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3 c12">S</span><span class="c3 c12">ails</span><span class="c5 c3">&nbsp;no es de ese tipo de frameworks. sails trabaja juntamente con Angular o Backbone, pero nunca debes usar sails como sustituci&oacute;n de estas librer&iacute;as. </span></p><p class="c4"><span class="c5 c3">Por otro lado, cuando hablamos de &ldquo;frameworks web&rdquo;, tambi&eacute;n nos referimos a la parte del back-end, pensamos en conceptos como REST, HTTP o WebSockets y tecnolog&iacute;as como Java, Ruby o Node.js. </span></p><p class="c4"><span class="c5 c3">&nbsp;</span></p><p class="c4"><span class="c3">Un framework para el back-end (como </span><span class="c3 c12">Sails</span><span class="c5 c3">) nos ayuda a construir APIs, servir archivos HTML y a manejar cientos de miles de usuarios conectados simult&aacute;neamente. Para llevar a cabo todo esto, sails, s&iacute; es el rey! &nbsp;</span></p><p class="c4"><span class="c5 c3">&nbsp;</span></p><p class="c4"><span class="c5 c3">Convenci&oacute;n antes que configuraci&oacute;n </span></p><p class="c4"><span class="c3 c12">Sails</span><span class="c5 c3">&nbsp;cumple con los muchos de los objetivos que otros entornos de desarrollo de aplicaciones web, usando las mismas metodolog&iacute;as MVC (Modelo, Vista, Controlador). &nbsp;</span></p><p class="c4"><span class="c3">Cualquiera que haya &nbsp;trabajado antes con Zend, Laravel, CodeIgniter, Cake, Django, ASP .NET o Rails, se encontrar&aacute; con un entorno bastante familiar. Tambi&eacute;n le resultar&aacute; f&aacute;cil de entender la anatom&iacute;a y la distribuci&oacute;n del c&oacute;digo de un proyecto en </span><span class="c3 c12">sails</span><span class="c5 c3">. </span></p><p class="c4"><span class="c5 c3">&nbsp;</span></p><p class="c4"><span class="c5 c3">&nbsp;</span></p><p class="c4"><span class="c3 c12 c55">Instalaci&oacute;n de node.js</span><span class="c46 c3 c12">&nbsp;</span></p><p class="c2"><span class="c46 c3 c12"></span></p><p class="c4"><span class="c5 c3">Aunque quiz&aacute;s sea obvio, hay que decir que sails es un framework de Node.js. As&iacute; que para empezar a utilizar sails, primero debemos tener instalado Node.js. A continuaci&oacute;n, mostramos c&oacute;mo efectuar la instalaci&oacute;n en Windows, OSX y Linux. </span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c1">[ OSX ]</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c3">Puedes optar por descargar el paquete desde la p&aacute;gina oficial:</span><span class="c3"><a class="c16" href="https://www.google.com/url?q=http://www.nodejs.orj/download/&amp;sa=D&amp;ust=1526912178465000">&nbsp;http://www.nodejs.orj/download/</a></span><span class="c5 c3">&nbsp;</span></p><p class="c4"><span class="c5 c3">Tambi&eacute;n a trav&eacute;s de homebrew: &nbsp;brew install node </span></p><p class="c4"><span class="c5 c3">O quiz&aacute;s quieras hacerlo por medio de macports: port install nodejs </span></p><p class="c4"><span class="c5 c3">&nbsp;</span></p><p class="c4"><span class="c5 c3">Instalaci&oacute;n node.js en Linux </span></p><p class="c4"><span class="c1">[ Ubuntu, Mint ] </span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.6b72cfc5dac25e14381ad42172e3de43071e1827"></a><a id="t.11"></a><table class="c52"><tbody><tr class="c22"><td class="c80" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6 c45">$ sudo apt-get install python-software-properties python g++ make<br>$ sudo add-apt-repository ppa:chris-lea/node.js<br>$ sudo apt-get update<br>$ sudo apt-get install nodejs</span></p></td></tr></tbody></table><p class="c43 c32 c102"><span class="c0"></span></p><p class="c4"><span class="c3">Los usuarios que tengan la versi&oacute;n Quantal (12.10), necesitar&aacute;n instalar </span><span class="c3 c27">software-properties-commo</span><span class="c39 c82 c33 c27">n</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.6f51acb5b0ae9407815769e2c08b49a9111d951a"></a><a id="t.12"></a><table class="c52"><tbody><tr class="c22"><td class="c80" colspan="1" rowspan="1"><p class="c49 c43"><span class="c108 c33">$ </span><span class="c45 c108 c33">sudo apt-get install software-properties-common</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">[ </span><span class="c1">Fedora ]</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Node.js y npm est&aacute;n disponibles en el repositorio desde la versi&oacute;n 18 y posteriores</span></p><p class="c2"><span class="c0"></span></p><a id="t.a2fa0416ffee7b4ace68cd29de2af63ca6be0b37"></a><a id="t.13"></a><table class="c52"><tbody><tr class="c22"><td class="c80" colspan="1" rowspan="1"><p class="c92 c43"><span class="c6">$ sudo yum install npm</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c26 c72 c64 c12 c81"></span></p><p class="c4"><span class="c1">[ RHEL / CentOS / Scientific Linux 6 ]</span></p><p class="c2"><span class="c0"></span></p><a id="t.a4448361587163d4f76463739362b92763717a82"></a><a id="t.14"></a><table class="c52"><tbody><tr class="c22"><td class="c80" colspan="1" rowspan="1"><p class="c92 c43"><span class="c6 c45">$ su -c &#39;yum --enablerepo=epel-testing install npm&#39;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">[ Arch Linux ]</span></p><p class="c2"><span class="c0"></span></p><a id="t.e7facf701f888ddf6d07762438cc8087c9bf3301"></a><a id="t.15"></a><table class="c52"><tbody><tr class="c22"><td class="c80" colspan="1" rowspan="1"><p class="c92 c43"><span class="c6 c45">$ sudo pacman -S nodejs</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">[ Gentoo ]</span></p><p class="c2"><span class="c0"></span></p><a id="t.ef15f77ae75f14a6761071c2beb49c6d7f3b3890"></a><a id="t.16"></a><table class="c52"><tbody><tr class="c22"><td class="c80" colspan="1" rowspan="1"><p class="c92 c43"><span class="c6 c45"># emerge -aqv --autounmask-write nodejs<br># etc-update<br># emerge -aqv nodejs</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">[ OpenSUSE &amp; SLE ]</span></p><p class="c2"><span class="c0"></span></p><a id="t.13adba0a162fba07cf37ea9bf37a3457f0b545e2"></a><a id="t.17"></a><table class="c52"><tbody><tr class="c22"><td class="c80" colspan="1" rowspan="1"><p class="c92 c43"><span class="c6 c45">sudo zypper ar http://download.opensuse.org/repositories/devel:/languages:/nodejs/openSUSE_12.1/ NodeJSBuildService <br>sudo zypper in nodejs nodejs-devel</span></p></td></tr></tbody></table><p class="c2"><span class="c18 c64"></span></p><p class="c2"><span class="c18 c64"></span></p><p class="c4"><span class="c3 c12 c55">[ Windows ]</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Puedes optar por descargar el paquete desde la p&aacute;gina oficial</span><span class="c3 c12">: </span><span class="c26 c3 c12"><a class="c16" href="https://www.google.com/url?q=http://www.nodejs.orj/download/&amp;sa=D&amp;ust=1526912178470000">http://www.nodejs.orj/download/</a></span></p><p class="c4"><span class="c3">O bien con </span><span class="c1">chocolatey</span></p><p class="c2"><span class="c0"></span></p><a id="t.91c84cb470095be439efd22dfeadb0eb62d46afc"></a><a id="t.18"></a><table class="c52"><tbody><tr class="c22"><td class="c80" colspan="1" rowspan="1"><p class="c92 c43"><span class="c6 c45">cinst nodejs.install</span></p></td></tr></tbody></table><p class="c2"><span class="c39 c64 c12 c81"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Instalaci&oacute;n de Sails</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Bien, ahora que tenemos Node.js instalado, seguiremos con la instalaci&oacute;n de </span><span class="c3 c12">sails</span><span class="c3">, la instalaci&oacute;n es mucho m&aacute;s sencilla, y la realizaremos de forma global con el par&aacute;metro </span><span class="c3 c12">-g</span><span class="c5 c3">, de esta forma podemos crear proyectos con sails sin tener que descargar el c&oacute;digo fuente cada vez que iniciemos un nuevo proyecto.</span></p><p class="c2"><span class="c0"></span></p><a id="t.a47ba6e3b1463a3496e6ab3e7eb98881b6c688b0"></a><a id="t.19"></a><table class="c52"><tbody><tr class="c22"><td class="c80" colspan="1" rowspan="1"><p class="c92 c43"><span class="c6 c45">$ sudo npm -g install sails</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">As&iacute; de sencillo, ya tenemos </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;instalado en nuestro sistema.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Otro requisito para utilizar </span><span class="c3 c12">sails </span><span class="c5 c3">aunque opcional, es tener instalado en nuestro sistema el gestor de tareas Grunt.</span></p><p class="c2"><span class="c0"></span></p><a id="t.2e9c4ed5cb89b9d6bd25df96a1f926878491127e"></a><a id="t.20"></a><table class="c52"><tbody><tr class="c22"><td class="c112 c61" colspan="1" rowspan="1"><p class="c24"><span class="c14 c12 c87">Grunt</span><span class="c60 c14 c33">, es herramienta muy potente que nos ahorra mucho tiempo cuando estamos desarrollando. Se encarga de realizar tareas que son repetitivas, como minificar c&oacute;digo, compilaci&oacute;n, pruebas unitarias, etc. en definitiva hace nuestro trabajo m&aacute;s f&aacute;cil. </span></p><p class="c24"><span class="c14 c12 c87">Grunt </span><span class="c14 c33 c60">cuenta con un gran n&uacute;mero de plugins para realizar las tareas rutinarias de nuestra aplicaci&oacute;n. Podemos automatizar cualquier cosa con muy poco esfuerzo.</span></p><p class="c24"><span class="c14 c87">M&aacute;s informaci&oacute;n en </span><span class="c60 c14 c12">www.gruntjs.com</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">La instalaci&oacute;n de Grunt es como la de </span><span class="c3 c12">sails</span><span class="c3">, utilizaremos el par&aacute;metro </span><span class="c3 c12">-g</span><span class="c5 c3">&nbsp;para que la instalaci&oacute;n se efect&uacute;e de forma global.</span></p><p class="c2"><span class="c0"></span></p><a id="t.9edf81996714b17e157ba0b2bd80a08613c9b506"></a><a id="t.21"></a><table class="c52"><tbody><tr class="c22"><td class="c80" colspan="1" rowspan="1"><p class="c43 c92"><span class="c6 c45">$ sudo npm -g install grunt grunt-cli</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c82"></span></p><p class="c4"><span class="c5 c82">&nbsp;</span></p><p class="c4"><span class="c3">Para identificar los archivos y carpetas que mencionaremos a lo largo de esta gu&iacute;a, es necesario o m&aacute;s bien recomendable, crear un proyecto nuevo con </span><span class="c3 c12">sails</span><span class="c5 c3">. As&iacute; que vamos a ello.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c41 c3 c12">Creando un nuevo proyecto Sails</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Para crear un nuevo proyecto Sails, desde la consola nos dirigimos hasta el directorio donde queramos &nbsp;guardar nuestro proyecto. Una vez dentro del directorio introducimos lo siguie</span><span class="c5 c82">nte:</span></p><p class="c2"><span class="c0"></span></p><a id="t.1aa70fcea0ff10cc5dcc973dbaf4a97f73a1f564"></a><a id="t.22"></a><table class="c52"><tbody><tr class="c22"><td class="c80" colspan="1" rowspan="1"><p class="c92 c43"><span class="c6 c45">$ sails new el_nombre_que_le_queramos_dar</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Autom&aacute;ticamente se crear&aacute; una carpeta con el nombre que le hayamos dado al proyecto, accedemos a dicha carpeta mediante el comando:</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">$ cd</span><span class="c3 c12">&nbsp;</span><span class="c45 c3 c33 c139">el_nombre_que_le_queramos_dar</span></p><p class="c2"><span class="c45 c3 c33 c139"></span></p><p class="c4"><span class="c45 c3 c33 c139">Y a continuaci&oacute;n iniciamos el servidor web con el siguiente comando:</span></p><p class="c2"><span class="c45 c3 c33 c139"></span></p><p class="c4"><span class="c5 c3">$ sails lift</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Por consola nos saldr&aacute; algo como esto:</span></p><p class="c2"><span class="c5 c82"></span></p><p class="c88 c43"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 515.00px; height: 375.00px;"><img alt="Selecci&oacute;n_001.png" src="images/image10.png" style="width: 515.00px; height: 375.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c39 c64 c12 c81"></span></p><p class="c2"><span class="c39 c64 c12 c81"></span></p><p class="c4"><span class="c3">Nos muestra como el servidor es levantado en un entorno de desarrollo y es escuchado por el puerto 1337. Pues bien comprobemos los resultados, en nuestro navegador web preferido, introducimos lo siguiente en la barra de navegaci&oacute;n, </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=http://localhost:1337/&amp;sa=D&amp;ust=1526912178477000">http://localhost:1337/</a></span><span class="c5 c3">, y esto es lo que veremos:</span></p><p class="c2"><span class="c5 c82"></span></p><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 718.00px; height: 512.00px;"><img alt="Selecci&oacute;n_002.png" src="images/image11.png" style="width: 718.00px; height: 512.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Comprobado que nuestro servidor funciona, vamos a pasar a materia y explicar como trabajar con </span><span class="c3 c12">sail</span><span class="c82 c12">s</span></p><p class="c2"><span class="c39 c64 c12 c81"></span></p><p class="c2"><span class="c39 c64 c12 c81"></span></p><p class="c2"><span class="c39 c64 c12 c81"></span></p><p class="c2"><span class="c39 c64 c12 c81"></span></p><h1 class="c96" id="h.cwv83l6i4zd4"><span class="c56 c44 c12">2. Assets</span></h1><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Visi&oacute;n de conjunto</span></p><p class="c2"><span class="c46 c3 c33"></span></p><p class="c4"><span class="c3">&ldquo;Assets&rdquo; &iquest;Que son? nos referimos a los archivos est&aacute;ticos ( </span><span class="c3 c12">js</span><span class="c3">, </span><span class="c3 c12">css</span><span class="c3">, </span><span class="c3 c12">im&aacute;genes</span><span class="c3">, </span><span class="c3 c12">etc </span><span class="c3">) que son accesibles para cualquiera. En </span><span class="c3 c12">sails</span><span class="c3">, estos archivos est&aacute;n ubicados en el directorio </span><span class="c3 c12">assets/ </span><span class="c3">de nuestro proyecto, donde estos son procesados en un directorio temporal ( ./temp/public ) en el momento que el servidor es iniciado. El contenido de </span><span class="c3 c12">./temp/public </span><span class="c3">es el equivalente a la carpeta &ldquo;public&rdquo; que usamos en &nbsp;</span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/expressjs&amp;sa=D&amp;ust=1526912178478000">express</a></span><span class="c5 c3">, o la carpeta &ldquo;www&rdquo; que tienen otros servidores web como Apache. Este paso permite a Sails preparar o pre-compilar estos archivos &nbsp;para su uso en el frontend (lado del cliente). </span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3 c12 c55">Middleware Est&aacute;ticos</span><span class="c56 c12 c82">&nbsp;</span></p><p class="c2"><span class="c0"></span></p><a id="t.705ca7421fb8b32ca41f5a286f04c378c8d552fd"></a><a id="t.23"></a><table class="c52"><tbody><tr class="c22"><td class="c112 c61" colspan="1" rowspan="1"><p class="c24 c43"><span class="c27 c87">&ldquo;Middleware: </span><span class="c27 c87">es un </span><span class="c27 c87"><a class="c16" href="https://www.google.com/url?q=http://es.wikipedia.org/wiki/Software&amp;sa=D&amp;ust=1526912178480000">software</a></span><span class="c27 c87">&nbsp;que asiste a una aplicaci&oacute;n para interactuar o comunicarse con otras aplicaciones, o paquetes de programas</span><span class="c27 c87">&rdquo;</span></p></td></tr></tbody></table><p class="c2"><span class="c39 c3 c33 c27"></span></p><p class="c2"><span class="c41 c3 c33"></span></p><p class="c4"><span class="c3">Sails usa el middleware est&aacute;tico </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/expressjs&amp;sa=D&amp;ust=1526912178480000">express</a></span><span class="c3">&nbsp;para servir los assets. Podemos configurar este middleware (m&aacute;s adelante veremos c&oacute;mo configurar middlewares de terceros o personalizados por nosotros) en </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=http://sailsjs.org/%23!/documentation/reference/sails.config/sails.config.http.html&amp;sa=D&amp;ust=1526912178481000">/config/http.js</a></span><span class="c3">.</span></p><p class="c2"><span class="c41 c3 c33"></span></p><p class="c4"><span class="c41 c3 c12">index.html</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Como la mayor&iacute;a de los servidores web, Sails hace honor a index.html. Por ejemplo si creas assets/foo.html en un nuevo proyecto, este ser&aacute; accesible desde </span><span class="c26 c44 c12 c27"><a class="c16" href="https://www.google.com/url?q=http://localhost:1337/foo.html&amp;sa=D&amp;ust=1526912178481000">http://localhost:1337/foo.html</a></span><span class="c3 c12 c27">, </span><span class="c3">pero si creaste &nbsp;assets/foo/index.html, entonces estar&aacute; disponible desde</span><span class="c9">&nbsp;</span><span class="c26 c44 c12 c27"><a class="c16" href="https://www.google.com/url?q=http://localhost:1337/foo.html&amp;sa=D&amp;ust=1526912178482000">http://localhost:1337/foo/index.html</a></span><span class="c9">&nbsp;</span><span class="c3">y tambi&eacute;n desde </span><span class="c26 c44 c12 c27"><a class="c16" href="https://www.google.com/url?q=http://localhost:1337/foo.html&amp;sa=D&amp;ust=1526912178482000">http://localhost:1337/foo</a></span><span class="c5 c44">.</span></p><p class="c2"><span class="c5 c44"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Prioridades</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Esto es importante a tener en cuenta, ya que los middleware est&aacute;ticos corren despu&eacute;s del enrutador de </span><span class="c1">sails</span></p><p class="c4"><span class="c3">(m&aacute;s adelante explicamos qu&eacute; es esto de del enrutador). Ahora por el momento Imagina que tenemos definida una ruta personalizada, y en nuestro directorio &ldquo;assets&rdquo; &nbsp;tenemos un archivo con la misma ruta, en el momento que hay una petici&oacute;n a esta ruta, es la ruta personalizada la que intercepta la petici&oacute;n &nbsp;antes que el middleware est&aacute;tico. Por ejemplo, creamos assets/index.html, sin definir ninguna ruta en el archivo config/routes.js, esta ser&aacute; servida en tu p&aacute;gina de inicio, pero si definimos una ruta personalizada en el archivo config/routes.js &nbsp;como podria ser </span><span class="c3 c12">&ldquo; / &rdquo; : &ldquo;FooController.bar&rdquo;</span><span class="c5 c3">, entonces a esta se le dar&aacute; prioridad ya que las dos rutas apuntan al mismo sitio.</span></p><p class="c2"><span class="c0"></span></p><a id="t.d44b071c700546fb0df47e58c4beb75c314f6439"></a><a id="t.24"></a><table class="c52"><tbody><tr class="c22"><td class="c61 c112" colspan="1" rowspan="1"><p class="c24 c43"><span class="c27 c87">Recuerda: </span><span class="c12 c27 c87">sails</span><span class="c27 c87">&nbsp;siempre dar&aacute; preferencia a las rutas personalizadas antes que a un archivo est&aacute;tico, aunque apunten a la misma ruta.</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c0">&nbsp;</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><h1 class="c96" id="h.jc7nnqru0bq7"><span class="c46 c44 c12">Tareas Predeterminadas</span></h1><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12 c55">Visi&oacute;n de conjunto</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">El paquete Assets incluido en </span><span class="c3 c12">sails </span><span class="c3">establece un </span><span class="c3">conjunto de tareas configuradas con Grunt, dise&ntilde;adas por defecto para crear un proyecto coherente y productivo. Todo el flujo de trabajo en la parte del frontend es completamente personalizable, aunque </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;proporciona por defecto un conjunto de tareas predefinidas. </span></p><p class="c4"><span class="c3">Con </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;le resultar&aacute; f&aacute;cil configurar nuevas tareas que no vienen por defecto y que quiz&aacute;s necesite.</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Aqu&iacute; algunas de las tareas que tenemos por defecto al crear un proyecto en Sails que nos pueden ayudar:</span></p><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_cflgkiusf2ss-0 start"><li class="c4 c47 c19"><span class="c5 c3">Compilaci&oacute;n Autom&aacute;tica LESS</span></li><li class="c4 c47 c19"><span class="c5 c3">Compilaci&oacute;n Autom&aacute;tica JST</span></li><li class="c4 c47 c19"><span class="c5 c3">Compilaci&oacute;n Autom&aacute;tica CoffeScript</span></li><li class="c4 c47 c19"><span class="c5 c3">Inyecci&oacute;n, Minificaci&oacute;n y Concatenaci&oacute;n de los assets</span></li><li class="c4 c47 c19"><span class="c5 c3">Creaci&oacute;n de un directorio p&uacute;blico</span></li><li class="c4 c47 c19"><span class="c5 c3">Sincronizaci&oacute;n de archivos</span></li><li class="c4 c47 c19"><span class="c5 c3">Optimizaci&oacute;n de los assets en producci&oacute;n</span></li></ul><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12 c55">Tareas de Comportamiento por Defecto en Grunt</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span>A continuaci&oacute;n se presentan las tareas de Grunt que est&aacute;n incluidas en un proyecto en </span><span class="c12">sails</span><span class="c0">, as&iacute; como una peque&ntilde;a descripci&oacute;n del trabajo que llevan a cabo..</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12 c55">clean</span></p><a id="t.c604e2805080dd4489fbd93ff76eed9f70be8f1e"></a><a id="t.25"></a><table class="c52"><tbody><tr class="c22"><td class="c35" colspan="1" rowspan="1"><p class="c24"><span class="c3 c27">Esta tarea est&aacute; configurada para limpiar todo el contenido de la carpeta .tmp/public/ de nuestro proyecto en Sails.</span></p></td></tr></tbody></table><p class="c2"><span class="c46 c33 c9"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12 c55">coffee</span></p><a id="t.ffb6df1126ee92a6f6c5c1faea1198263d024ee3"></a><a id="t.26"></a><table class="c52"><tbody><tr class="c22"><td class="c35" colspan="1" rowspan="1"><p class="c24"><span class="c3 c27">Esta tarea est&aacute; configurada para compilar archivos cooffeeScript desde assets/js, y ubicarlos dentro del directorio &nbsp;.tmp/public/js</span></p></td></tr></tbody></table><p class="c2"><span class="c46 c33 c9"></span></p><p class="c2"><span class="c5 c9"></span></p><p class="c4"><span class="c3 c12 c55">concat</span></p><a id="t.499badb82541c803879ed54c565badf5bf9fbe93"></a><a id="t.27"></a><table class="c52"><tbody><tr class="c22"><td class="c35" colspan="1" rowspan="1"><p class="c24"><span class="c3 c27">Esta tarea est&aacute; configurada para concatenar los archivos CSS y JavaScript, y los guarda en .tmp/public/concat/</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c9"></span></p><p class="c2"><span class="c5 c9"></span></p><p class="c4"><span class="c3 c12 c55">copy</span></p><a id="t.40b383f3194e51f454a821c3a6259bfbabcc8df7"></a><a id="t.28"></a><table class="c52"><tbody><tr class="c22"><td class="c35" colspan="1" rowspan="1"><p class="c24"><span class="c3 c12 c27">dev task config </span><span class="c39 c3 c33 c27">Copia todos los directorios y archivos, excepto los archivos coffeeScript y LESS, dentro del directorio .tmp/public</span></p><p class="c24 c32"><span class="c3 c33 c27 c39"></span></p><p class="c24"><span class="c3 c12 c27">build task config </span><span class="c3 c27">Copia todos los directorios y archivos desde .tmp/public al directorio </span><span class="c3 c12 c27">www</span></p></td></tr></tbody></table><p class="c2"><span class="c33 c9 c46"></span></p><p class="c2"><span class="c5 c9"></span></p><p class="c4"><span class="c3 c12 c55">cssmin</span></p><a id="t.2459b143487cd4cb286da492687437398c65c53a"></a><a id="t.29"></a><table class="c52"><tbody><tr class="c22"><td class="c35" colspan="1" rowspan="1"><p class="c24"><span class="c3 c27">Minimiza los archivos CSS y los ubica en el directorio .tmp/public/min</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c9"></span></p><p class="c2"><span class="c5 c9"></span></p><p class="c4"><span class="c3 c12 c55">less</span></p><a id="t.13958962b1213714d33a5d5ca12475d1effd83af"></a><a id="t.30"></a><table class="c52"><tbody><tr class="c22"><td class="c35" colspan="1" rowspan="1"><p class="c24"><span class="c3 c27">Compila LESS dentro de archivos &nbsp;CSS. Solamente los que est&aacute;n en assets/styles/importer.less ser&aacute;n compilados. &nbsp;Esto permite el control del mismo, importando dependencias, variables, resets, etc. antes que otras hojas de estilo.</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c9"></span></p><p class="c2"><span class="c5 c9"></span></p><p class="c4"><span class="c3 c12 c55">sails-linker</span></p><a id="t.f2f200087ba0405432cfb14cc5f75007b41084eb"></a><a id="t.31"></a><table class="c52"><tbody><tr class="c22"><td class="c35" colspan="1" rowspan="1"><p class="c24"><span class="c39 c3 c33 c27">Autom&aacute;ticamente inyecta archivos javascript y CSS. a&ntilde;adiendo las etiquetas &lt;script&gt; y &lt;link&gt;. La inyecci&oacute;n de estos archivos se har&aacute; en el archivo que contenga las etiquetas &lt;!--SCRIPTS--&gt; &lt;!--SCRIPTS END--&gt; y &lt;!--STYLES--&gt; &lt;!--STYLES END--&gt;</span></p><p class="c24"><span class="c3 c27">Estas etiquetas est&aacute;n incluidas por defecto en el archivo </span><span class="c3 c12 c27">views/layout.ejs </span></p></td></tr></tbody></table><p class="c2"><span class="c5 c9"></span></p><p class="c2"><span class="c5 c9"></span></p><p class="c4"><span class="c3 c12 c55">sync</span></p><a id="t.5ecc77a01976e7e978f69132900c5b5c6b2ab635"></a><a id="t.32"></a><table class="c52"><tbody><tr class="c22"><td class="c35" colspan="1" rowspan="1"><p class="c24"><span class="c3 c27">Esta tarea es muy similar a grunt-copy, con la diferencia que esta tarea copia solamente los archivos que han sufrido alg&uacute;n cambio recientemente. Sincroniza los archivos desde la carpeta </span><span class="c3 c12 c27">assets/ </span><span class="c3 c27">a la carpeta </span><span class="c3 c12 c27">.tmp/public/ </span><span class="c3 c27">, sobrescribiendo cualquiera de ellos.</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c9"></span></p><p class="c2"><span class="c5 c9"></span></p><p class="c4"><span class="c3 c12 c55">uglify</span></p><a id="t.f2d0025e00fe0ea8a64632d161d376038bd09898"></a><a id="t.33"></a><table class="c52"><tbody><tr class="c22"><td class="c35" colspan="1" rowspan="1"><p class="c24"><span class="c3 c27">Minifica los archivos JavaScript</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c9"></span></p><p class="c2"><span class="c5 c9"></span></p><p class="c4"><span class="c3 c12 c55">watch</span></p><a id="t.c3d43e8be1791d646740b109f013251a09bff8fa"></a><a id="t.34"></a><table class="c52"><tbody><tr class="c22"><td class="c35" colspan="1" rowspan="1"><p class="c24"><span class="c3 c27">Ejecuta tareas predefinidas cuando un archivo se agrega, cambia o elimina. Vigila estos cambios en la carpeta </span><span class="c3 c12 c27">assets/ </span><span class="c3 c27">cuando surge alg&uacute;n cambio ejecuta la tarea </span><span class="c3 c12 c27">less, jst</span><span class="c3 c27">. </span><span class="c3 c12 c27">&nbsp;</span><span class="c3 c27">Esto permite ver los cambios reflejados en nuestra aplicaci&oacute;n sin tener que reiniciar el servidor Sails.</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c9"></span></p><p class="c2"><span class="c5 c9"></span></p><p class="c2"><span class="c5 c9"></span></p><p class="c2"><span class="c5 c9"></span></p><p class="c4"><span class="c41 c3 c12">Desactivando Grunt</span></p><p class="c2"><span class="c41 c3 c12"></span></p><p class="c4"><span class="c3">Tanto si el proyecto a realizar es una API Rest, o una aplicaci&oacute;n donde el servidor de nuestro proyecto no ha de incluir ficheros est&aacute;ticos, es recomendable que </span><span class="c3">desactive la integraci&oacute;n de Grunt en nuestro proyecto </span><span class="c3 c12">sails</span><span class="c3">, simplemente borraremos el archivo Gruntfile.js y la carpeta tasks/. Tambi&eacute;n puede desactivarlo mediante la propiedad </span><span class="c3 c12">grunt, </span><span class="c3">estableciendo dicha propiedad a </span><span class="c3 c12">false</span><span class="c5 c3">&nbsp;en el archivo .sailsrc :</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.b796615fe332f7d0b6da12c60e105e667907634d"></a><a id="t.35"></a><table class="c52"><tbody><tr class="c22"><td class="c122" colspan="1" rowspan="1"><p class="c49"><span class="c6">{<br> &nbsp; &nbsp;</span><span class="c13">&quot;hooks&quot;</span><span class="c6">: {<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c13">&quot;grunt&quot;</span><span class="c6">: </span><span class="c7">false</span><span class="c6"><br> &nbsp; &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c41 c3 c12"></span></p><p class="c2"><span class="c41 c3 c12"></span></p><p class="c4"><span class="c3">Tambi&eacute;n es posible a&ntilde;adir tareas para personalizar SASS, AngularJS, templates, etc. </span><span class="c3">Basta con sustituir la tarea relevante de Grunt o a&ntilde;adir una nueva tarea</span><span class="c0">.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><h1 class="c96" id="h.oeufzuuf4azp"><span class="c44 c115 c12 c123">3. Configuraci&oacute;n</span></h1><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Visi&oacute;n del conjunto</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Como hemos mencionado anteriormente </span><span class="c3 c12">sails</span><span class="c3">&nbsp;mantiene su filosof&iacute;a de &ldquo;convenci&oacute;n antes que configuraci&oacute;n&rdquo;, esto es importante a la hora de c&oacute;mo personalizamos los valores predeterminados. Cada convenci&oacute;n en </span><span class="c3 c12">sails</span><span class="c5 c3">, est&aacute; acompa&ntilde;ada de un set de opciones de configuraci&oacute;n que podemos ajustar o sobre escribir seg&uacute;n nuestras necesidades. Esta documentaci&oacute;n incluye una completa referencia de las opciones configurables que est&aacute;n disponibles en Sails.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Disponemos de dos formas de configuraci&oacute;n, a trav&eacute;s de las variables de entorno o mediante argumentos desde la l&iacute;nea de comandos, usando los archivos de configuraci&oacute;n que se encuentran en el directorio config/ de nuestro proyecto.</span><span class="c0">&nbsp;</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12 c55">Configuraci&oacute;n Est&aacute;ndar (config/*)</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Un n&uacute;mero de archivos de configuraci&oacute;n est&aacute;n incluidos por defecto en un proyecto </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;cuando lo instalamos. Estos archivos de configuraci&oacute;n poseen comentarios los cuales est&aacute;n dise&ntilde;ados para proporcionarnos ayuda.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">En la mayor&iacute;a de los casos, las claves de nivel superior en el objeto </span><span class="c3 c12">sails.config </span><span class="c3">corresponden a un archivo de configuraci&oacute;n en particular de nuestra aplicaci&oacute;n (por ejemplo: </span><span class="c3 c12">sails.config.views</span><span class="c3">). Sin embargo los valores de configuraci&oacute;n se pueden organizar como queramos a trav&eacute;s de los archivos en tu directorio </span><span class="c3 c12">config/</span><span class="c5 c3">. Lo importante es el nombre de la key (clave o llave) no confundir con el nombre del archivo.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Por ejemplo, digamos que agrega un archivo nuevo en el directorio </span><span class="c3 c12">config/</span><span class="c3">&nbsp;con el nombre </span><span class="c3 c12">config/foo.js </span><span class="c5 c3">:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.66af5be80ad9402b6fb8971f71802b18369eecf3"></a><a id="t.36"></a><table class="c52"><tbody><tr class="c22"><td class="c101" colspan="1" rowspan="1"><p class="c49"><span class="c11">// config/foo.js</span><span class="c6"><br></span><span class="c11">// &nbsp;El objeto se fusiona &nbsp;con &nbsp;`sails.config.blueprints`:</span><span class="c6"><br>module.exports.blueprints </span><span class="c17">=</span><span class="c6">&nbsp;{<br> &nbsp;shortcuts: </span><span class="c7">false</span><span class="c6 c45"><br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Veremos m&aacute;s acerca de esto en la &ldquo;Gu&iacute;a de Desarrollo con Sails&rdquo;, donde se har&aacute; referencia a las configuraciones individuales, y como residen estos archivos de forma predeterminada.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12 c55">Archivos Espec&iacute;ficos de Entorno (config/env*)</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Los ajustes espec&iacute;ficos en los archivos de configuraci&ouml;n generalmente est&aacute;n disponibles en cualquier entorno de trabajo (</span><span class="c3 c27">Desarrollo, Producci&oacute;n, Test, etc</span><span class="c3">.). Si lo que quiere es tener su configuraci&oacute;n solamente en ciertos entornos, entonces debe utilizar los archivos de las carpetas especificadas para ello, </span><span class="c3 c12">config/env/developent.js</span><span class="c3">&nbsp;o </span><span class="c1">config/env/production.js</span></p><p class="c2"><span class="c0"></span></p><ul class="c10 lst-kix_ynk1jb423v8p-0 start"><li class="c4 c47 c19"><span class="c39 c3 c33 c27">Cualquier archivo guardado en la carpeta /config/env/&lt;nombre de entorno&gt; ser&aacute; cargado solo cuando Sails se inicie con &nbsp;&lt;nombre de entorno&gt;. Por ejemplo, los archivos guardados en config/env/production, solamente se cargar&aacute;n cuando se ejecute Sails en modo producci&oacute;n.</span></li></ul><p class="c2"><span class="c18 c3"></span></p><p class="c2"><span class="c18 c3"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12 c55">Accediendo a los valores de configuraci&oacute;n de nuestro proyecto</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">El objeto </span><span class="c3 c12">config</span><span class="c3">&nbsp;est&aacute; disponible en una instancia de aplicaci&oacute;n de </span><span class="c3 c12">sails</span><span class="c3">. Por defecto, este objeto est&aacute; expuesto en un entorno de &aacute;mbito global, mientras </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;est&eacute; corriendo, esto quiere decir que podemos acceder a &eacute;l desde cualquier parte de nuestra aplicaci&oacute;n. Veamos un ejemplo.</span></p><p class="c2"><span class="c0"></span></p><a id="t.60abd3e33c2d2fc43de68949fd32d31adbca9fbe"></a><a id="t.37"></a><table class="c52"><tbody><tr class="c22"><td class="c101" colspan="1" rowspan="1"><p class="c49 c43"><span class="c11">// Este ejemplo comprueba si Sails est&aacute; corriendo en modo producci&oacute;n y si la protecci&oacute;n &nbsp; &nbsp;CSRF est&aacute; activada.</span><span class="c6"><br></span><span class="c11">// Generamos error si no se cumple la condici&oacute;n.</span><span class="c6"><br></span><span class="c17">if</span><span class="c6">&nbsp;(sails.config.environment </span><span class="c17">===</span><span class="c6">&nbsp;</span><span class="c13">&#39;production&#39;</span><span class="c6">&nbsp;</span><span class="c17">&amp;&amp;</span><span class="c6">&nbsp;</span><span class="c17">!</span><span class="c6">sails.config.csrf) {<br> &nbsp;</span><span class="c17">throw</span><span class="c6">&nbsp;</span><span class="c17">new</span><span class="c6">&nbsp;</span><span class="c42 c33">Error</span><span class="c6">(</span><span class="c13">&#39;STOP IMMEDIATELY ! CSRF should always be enabled in a production deployment!&#39;</span><span class="c6">);<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12 c55">Configuraci&oacute;n Personalizada</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Sails</span><span class="c5 c3">&nbsp;reconoce varios entornos, nombres de espacio en diferentes claves de nivel superior (ej. sails.config.sockets y sails.config.blueprints). Sin embargo tambi&eacute;n puede utilizar sails.config para su propia configuraci&oacute;n personalizada (ej. sails.config.cualquierProveedorApi.secret).</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Ejemplo</span></p><p class="c2"><span class="c0"></span></p><a id="t.8f0d5cb3a37cc1009ad50e44d01d7dca86e4455a"></a><a id="t.38"></a><table class="c52"><tbody><tr class="c22"><td class="c101" colspan="1" rowspan="1"><p class="c49"><span class="c11">// config/linkedin.js</span><span class="c6"><br>module.exports.linkedin </span><span class="c17">=</span><span class="c6">&nbsp;{<br> &nbsp;apiKey: </span><span class="c13">&#39;...&#39;</span><span class="c6">,<br> &nbsp;apiSecret: </span><span class="c13">&#39;...&#39;</span><span class="c6"><br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><a id="t.d21f9f7123f21cbbcf3a2ab516815013345e595e"></a><a id="t.39"></a><table class="c52"><tbody><tr class="c22"><td class="c101" colspan="1" rowspan="1"><p class="c49"><span class="c11">// &nbsp;En su controlador, servicio, modelo u otra</span><span class="c6"><br></span><span class="c11">// ...</span><span class="c6"><br></span><span class="c17">var</span><span class="c6">&nbsp;apiKey </span><span class="c17">=</span><span class="c6">&nbsp;sails.config.linkedin.apiKey;<br></span><span class="c17">var</span><span class="c6">&nbsp;apiSecret </span><span class="c17">=</span><span class="c6">&nbsp;sails.config.linkedin.apiSecret;<br></span><span class="c11">// ...</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Configuraci&oacute;n desde l&iacute;nea de comandos</span></p><p class="c2"><span class="c41 c3 c12"></span></p><p class="c4"><span class="c3">Cuando se trata la configuraci&oacute;n, la mayor parte del tiempo estar&aacute; centrado en la configuraci&oacute;n de su aplicaci&oacute;n (el puerto, las conexiones a la base de datos, etc.). Sin embargo puede ser &uacute;til personalizar </span><span class="c3 c12">Sails CLI</span><span class="c3">, de esta manera simplificamos el flujo de trabajo, reducimos esas tediosas tareas repetitivas, la construcci&oacute;n personalizada de automatizaci&oacute;n, etc. Afortunadamente </span><span class="c3 c12">sails</span><span class="c5 c3">, desde su versi&oacute;n 0.10, a&ntilde;ade una poderosa herramienta que nos ayudar&aacute; precisamente a esto.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">El archivo .sailsrc es diferente a cualquier otra fuente de configuraci&oacute;n que encontremos en </span><span class="c3 c12">sails</span><span class="c3">. Podemos usar este archivo para configurar todo el sistema, para un grupo de directorios o solo para un directorio determinado. La principal raz&oacute;n para hacer esto es personalizar los generadores que usa </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;cuando se genera un nuevo proyecto o cuando levantamos nuestro servidor con $ sails lift. Tambi&eacute;n es &uacute;til para personalizar o instalar nuestros propios generadores personalizados.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">En el &uacute;ltimo cap&iacute;tulo (Extendiendo Sails) de este libro, veremos con m&aacute;s detalle c&oacute;mo llevar a cabo todo esto.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Cuando generemos un nuevo proyecto, </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;buscar&aacute; el archivo .sailsrc m&aacute;s cercano en directorio actual o en su defecto en los directorios antecesores hasta llegar a la ra&iacute;z.</span></p><p class="c4"><span class="c5 c3">Se puede utilizar con total seguridad este archivo para configurar nuestros ajustes, no es recomendable alojar este archivo en la nube.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c41 c3 c12">El archivo config/local.js</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">El archivo config/local.js, nos resulta &uacute;til para la configurar una aplicaci&oacute;n </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;en un entorno local (Por ejemplo: PC, Port&aacute;til, etc). La configuraci&oacute;n de este archivo tiene prioridad o preferencia sobre todos los dem&aacute;s archivos de configuraci&oacute;n, excepto el archivo .sailsrc, que ya lo vimos anteriormente.</span></p><p class="c4"><span class="c5 c3">Dado que est&aacute; destinado s&oacute;lo para su uso local, no deber&iacute;a ser puesto bajo un control de versiones (GIT, Subversion, etc).</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Cuando su aplicaci&oacute;n est&eacute; lista para desplegarse en un entorno de producci&oacute;n, puede usar este archivo para configurar las opciones que mejor se ajusten en el servidor donde se desplegar&aacute; la aplicaci&oacute;n. Sin embargo, es preferible configurar los archivos de entorno para la implementaci&oacute;n en un servidor de producci&oacute;n o un servidor de desarrollo</span></p><p class="c2"><span class="c46 c33 c9"></span></p><a id="t.ee99e51255ab465768175add7cefa13d5e58ede6"></a><a id="t.40"></a><table class="c52"><tbody><tr class="c22"><td class="c103" colspan="1" rowspan="1"><p class="c24"><span class="c39 c3 c12 c27">NOTA: </span></p><p class="c24"><span class="c3 c27">Este archivo es ignorado por el control de versiones, as&iacute; que si est&aacute; usando </span><span class="c3 c12 c27">git</span><span class="c39 c3 c33 c27">&nbsp;como soluci&oacute;n para gestionar la versiones de su aplicaci&oacute;n, ha de tener en cuenta que este archivo no ser&aacute; controlado, eso significa que puede especificar la configuraci&oacute;n de su m&aacute;quina sin comprometer datos como la conexi&oacute;n a la base de datos, contrase&ntilde;as, etc.</span></p><p class="c24"><span class="c3 c27">Adem&aacute;s, se evita que otros miembros que est&eacute;n trabajando en el mismo proyecto, hagan cambios en la configuraci&oacute;n local. </span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c41 c3 c12">Usando el archivo .sailsrc</span></p><p class="c2"><span class="c41 c3 c33"></span></p><p class="c4"><span class="c3">Como hemos visto anteriormente, adem&aacute;s de los m&eacute;todos que tenemos para configurar nuestra aplicaci&oacute;n, disponemos del archivo .sailsrc donde podemos especificar la configuraci&oacute;n para uno o m&aacute;s aplicaciones. A trav&eacute;s de este archivo podemos aplicar todas las opciones de configuraci&oacute;n &nbsp;a todas las aplicaciones </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;que tengamos en nuestro ordenador.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Cuando iniciamos o levantamos el servidor web, busca archivos .sailsrc en la carpeta actual y en la carpeta home (~/.sailsrc). </span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">En realidad, </span><span class="c3 c12">sails</span><span class="c3">&nbsp;busca el archivo .sailsrc en cualquier directorio, siguiendo la convenci&oacute;n </span><span class="c3 c12">rc</span><span class="c5 c3">, aunque el mejor lugar para poner el archivo .sailsrc, como bien hemos comentado es en la carpeta actual o en el home. </span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><h1 class="c96" id="h.cqrezmwnas"><span class="c56 c44 c12">4. Globales (Globals)</span></h1><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Visi&oacute;n de Conjunto</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Para nuestra comodidad como desarrolladores </span><span class="c3 c12">sails</span><span class="c3">&nbsp;pone a nuestra disposici&oacute;n una serie de variables globales. Por defecto, los modelos, servicios y el objeto sails est&aacute;n disponibles en todo el &aacute;mbito global de nuestra aplicaci&oacute;n. Esto significa que podemos hacer referencia a ellos por su nombre en cualquier parte del c&oacute;digo, siempre y cuando el servidor </span><span class="c3 c12">sails </span><span class="c5 c3">est&eacute; corriendo.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Nada que est&eacute; en el n&uacute;cleo de </span><span class="c3 c12">sails</span><span class="c3">&nbsp;se basa en estas variables globales. Las variables globales pueden estar desactivadas, las podemos modificar y configurar desde el archivo </span><span class="c3 c12">config.globals.js </span><span class="c5 c3">&nbsp;</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">El objeto App (sails)</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">En la mayor&iacute;a de los casos, usted querr&aacute; mantener el objeto global sails accesible, con el prop&oacute;sito de que el c&oacute;digo de la aplicaci&oacute;n sea mucho m&aacute;s limpio. Sin embargo, si deseas o necesitas desactivar todas las variables globales, incluyendo sails, puedes obtener acceso a trav&eacute;s del objeto (req).</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Modelos y Servicios</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Los modelos y servicios de tu aplicaci&oacute;n est&aacute;n expuestas como variables globales utilizando su </span><span class="c3 c12">globalId</span><span class="c3">. Por ejemplo, el modelo definido en el archivo </span><span class="c3 c12">api/models/Foo.js</span><span class="c3">&nbsp;est&aacute; accesible globalmente como </span><span class="c3 c12">Foo</span><span class="c3">&nbsp;y el servicio definido en el archivo </span><span class="c3 c12">api/services/Baz.js</span><span class="c3">&nbsp;est&aacute; accesible globalmente como </span><span class="c3 c12">Baz</span><span class="c5 c3">.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Async (async) y Lodash ( _ )</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Sails</span><span class="c3">&nbsp;dispone de una instancia de </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=http://lodash.com/&amp;sa=D&amp;ust=1526912178507000">lodash</a></span><span class="c3">&nbsp;como _ (guion bajo), y una instancia de </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/caolan/async&amp;sa=D&amp;ust=1526912178507000">async</a></span><span class="c3">&nbsp;como async. </span><span class="c3 c12">Sails</span><span class="c3">&nbsp;proporciona estas utilidades por defecto, lo que quiere decir que no es necesario instalarlas por medio de </span><span class="c3 c12">npm install</span><span class="c5 c3">. Al igual que cualquier otra variable global, se pueden desactivar.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Deshabilitando Globales</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Sails</span><span class="c3">&nbsp;determina qu&eacute; globales est&aacute;n disponibles para su uso examinando </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=http://sailsjs.org/%23!/documentation/reference/sails.config/sails.config.globals.html&amp;sa=D&amp;ust=1526912178508000">sails.config.globals</a></span><span class="c3">, que convencionalmente se configura en </span><span class="c3 c12">config/globals.js</span><span class="c5 c3">.</span></p><p class="c4"><span class="c3">Para deshabilitar todas las variables globales, has de establecer el par&aacute;metro con valor </span><span class="c1">false :</span></p><p class="c2"><span class="c39 c64 c12 c81"></span></p><p class="c2"><span class="c0"></span></p><a id="t.7075adc7c7d0729f8df0c12139324523ed7d7cd8"></a><a id="t.41"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c11">// config/globals.js</span><span class="c6"><br>module.exports.globals </span><span class="c17">=</span><span class="c6">&nbsp;</span><span class="c7">false</span><span class="c6 c45">;</span></p></td></tr></tbody></table><p class="c2"><span class="c39 c64 c12 c81"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Si lo que desea es deshabilitar solo una o algunas de las variables globales, ha de establecer a </span><span class="c3 c12">false </span><span class="c5 c3">las que quiera deshabilitar :</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.81ba927c418859b4bfde2bf10ff6ac8c2043916b"></a><a id="t.42"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c11">// config/globals.js</span><span class="c6"><br>module.exports.globals </span><span class="c17">=</span><span class="c6">&nbsp;{<br> &nbsp;_: </span><span class="c7">false</span><span class="c6">,<br> &nbsp;async: </span><span class="c7">false</span><span class="c6">,<br> &nbsp;models: </span><span class="c7">false</span><span class="c6">,<br> &nbsp;services: </span><span class="c7">false</span><span class="c6"><br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c46 c33 c9"></span></p><a id="t.139e41c564d119522f7a0a3587cadce3e2b79897"></a><a id="t.43"></a><table class="c52"><tbody><tr class="c22"><td class="c103" colspan="1" rowspan="1"><p class="c4"><span class="c39 c3 c33 c27">Ten en cuenta que ninguna de las variables globales, incluyendo sails, ser&aacute;n accesibles</span></p><p class="c4"><span class="c39 c3 c33 c27">hasta que sails se haya cargado completamente. En otras palabras, no ser&aacute; capaz de </span></p><p class="c4"><span class="c3 c27">utilizar sails.models.user o User, fuera de la funci&oacute;n, ya que sails no se ha cargado</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><h1 class="c96" id="h.wqvqmhtz79ll"><span class="c56 c44 c12">5. Rutas (Routes)</span></h1><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Visi&oacute;n de Conjunto</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">La caracter&iacute;stica m&aacute;s b&aacute;sica de cualquier aplicaci&oacute;n web, es la habilidad de interpretar una petici&oacute;n enviada a una URL, y emitir una respuesta. Para ello la aplicaci&oacute;n tiene que ser capaz de distinguir una URL de otra.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3 c12">Sails</span><span class="c3">&nbsp;provee un mecanismo de ruteo que mapea URL&rsquo;s a controladores y vistas. Las rutas son reglas o normas que le dicen a </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;qu&eacute; hacer cuando reciben una petici&oacute;n.</span></p><p class="c4"><span class="c5 c3">Existen dos tipos principales de rutas personalizadas o expl&iacute;citas y las autom&aacute;ticas o impl&iacute;citas.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c41 c3 c12">Rutas personalizadas (expl&iacute;citas)</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3 c12">Sails</span><span class="c5 c3">&nbsp;nos permite dise&ntilde;ar la URL&rsquo;s de nuestra aplicaci&oacute;n como queramos, sin restricciones a nivel de framework.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Cada proyecto en </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;cuento con el archivo config/routes.js, un simple m&oacute;dulo de node.js que exporta las rutas personalizadas o expl&iacute;citas. En el siguiente ejemplo se definen seis rutas, donde unas hacen referencia a una acci&oacute;n de un controlador, mientras que otras rutas hacen referencia directamente a una vista. </span></p><p class="c2"><span class="c0"></span></p><a id="t.09e6398d011c43bf3ac8f033c2a9e2803ed13721"></a><a id="t.44"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c45 c3 c33 c126">// config/routes.js</span></p><p class="c49 c43"><span class="c6">module.exports.routes </span><span class="c17">=</span><span class="c6 c45">&nbsp;{</span></p><p class="c49 c43"><span class="c6">&nbsp; &nbsp; &lsquo;get </span><span class="c13">/signup&rsquo;</span><span class="c6">: {view: &lsquo;</span><span class="c13">coversion/signup</span><span class="c6 c45">&rsquo; },</span></p><p class="c49 c43"><span class="c6">&nbsp; &nbsp; &lsquo;post </span><span class="c13">/signup&rsquo;</span><span class="c6">: &lsquo;</span><span class="c13">AuthController.processSignup</span><span class="c6 c45">&rsquo;, </span></p><p class="c49 c43"><span class="c6">&nbsp; &nbsp; &lsquo;get </span><span class="c13">/login&rsquo;</span><span class="c6">: {view: &lsquo;</span><span class="c13">portal/login</span><span class="c6 c45">&rsquo; },</span></p><p class="c49 c43"><span class="c6">&nbsp; &nbsp; &lsquo;post </span><span class="c13">/login&rsquo;</span><span class="c6">: &lsquo;</span><span class="c13">AuthController.processLogin</span><span class="c6 c45">&rsquo;,</span></p><p class="c49 c43"><span class="c6">&nbsp; &nbsp; &lsquo;</span><span class="c13">/logout</span><span class="c6">&rsquo;: &lsquo;</span><span class="c13">AuthController.logout</span><span class="c6 c45">&rsquo;,</span></p><p class="c49 c43"><span class="c6">&nbsp; &nbsp; &lsquo;get</span><span class="c13">&nbsp;/me</span><span class="c6">&rsquo;: &lsquo;</span><span class="c13">UserController.profile</span><span class="c6 c45">&rsquo;</span></p><p class="c49 c43"><span class="c6 c45">}</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Cada ruta consiste en una direcci&oacute;n (&lsquo;get /me&rsquo;) y un destino (&lsquo;UserController.profile&rsquo;). A la direcci&oacute;n opcionalmente le podemos especificar el m&eacute;todo HTTP. El destino lo podemos definir de varias maneras diferentes (como veremos a continuaci&oacute;n), aunque las dos sintaxis que hemos visto en el ejemplo son las m&aacute;s comunes.</span></p><p class="c4"><span class="c3">Cuando </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;recibe una petici&oacute;n, este chekea las direcciones de las rutas personalizadas hasta encontrar una coincidencia. Si encuentra una coincidencia, entonces la petici&oacute;n pasa al destino.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Por ejemplo, si pudi&eacute;semos hablar directamente con </span><span class="c3 c12">sails</span><span class="c5 c3">, ser&iacute;a esto lo que le ordenaremos:</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3 c27">&ldquo;Estate atento, cuando recibas una petici&oacute;n con el m&eacute;todo HTTP GET que apunte a la direcci&oacute;n http://localhost/mi_dominio.com/me, ejecuta la acci&oacute;n </span><span class="c3 c12 c27">profile</span><span class="c3 c27">&nbsp;del controlador </span><span class="c3 c12 c27">UserController</span><span class="c39 c3 c33 c27">&rdquo;.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c41 c3 c12">Notas</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">El hecho de que una petici&oacute;n coincida con una direcci&oacute;n de ruta, no significa que se pasar&aacute; directamente al controlador, algunas peticiones HTTP pasar&aacute;n primero a trav&eacute;s de middlewares. Y si la ruta apunta a una acci&oacute;n de controlador, la petici&oacute;n deber&aacute; pasar a trav&eacute;s de alguna pol&iacute;tica configurada previamente.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c41 c3 c12">Rutas Autom&aacute;ticas</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Adem&aacute;s de las rutas personalizadas, </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;enlaza muchas rutas de forma autom&aacute;tica. Si una ruta no coincide con la ruta personalizada, puede coincidir con una ruta autom&aacute;tica y generar una respuesta.</span></p><p class="c4"><span class="c3">Los principales tipos de rutas autom&aacute;ticas en </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;son:</span></p><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_5m5pl1amlgdu-0 start"><li class="c4 c47 c19"><span class="c5 c3">Rutas Blueprint, que proveen los controladores y modelos en una API Rest Full.</span></li><li class="c4 c47 c19"><span class="c5 c3">Assets, archivos javascript, stylsheets o im&aacute;genes.</span></li><li class="c4 c47 c19"><span class="c5 c3">CSRF, si est&aacute; activado, provee una ruta a nuestra aplicaci&oacute;n que podemos usar para recuperar un token CSRF.</span></li></ul><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c41 c3 c12">Protocolos soportados</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">El router de </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;sabe como manejar las peticiones entrantes HTTP y mensajes enviados v&iacute;a WebSockets. Esto se logra mediante la escucha de los mensajes enviados por Socket.io, estos mensajes son enviados a los controladores de eventos en un formato simple, llamado JWR (JSON-WebSocket Requies/Response).</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c41 c3 c12">Notas</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Los usuarios avanzados pueden optar por eludir el router y enviar mensajes directamente al servidor mediante Socket.io. Puede enlazar los eventos socket directamente en la aplicaci&oacute;n con la funci&oacute;n onConnect (localizado en el archivo config/socket.js).</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c41 c3 c12">Rutas personalizadas</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Como veremos a continuaci&oacute;n, </span><span class="c3 c12">sails</span><span class="c3">&nbsp;permite expl&iacute;citamente definir rutas de varias formas diferentes en nuestro archivo </span><span class="c3 c12">config/routes.js</span><span class="c5 c3">. Cada configuraci&oacute;n de ruta contiene una direcci&oacute;n URL y un destino a alcanzar. Por ejemplo:</span></p><p class="c2"><span class="c0"></span></p><a id="t.8ae0e49b0138da39eba1fa64c1b2665962038479"></a><a id="t.45"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">&#39;GET </span><span class="c13">/foo/</span><span class="c6">bar&#39;: </span><span class="c13">&#39;FooController.bar&#39;</span><span class="c6"><br>^^direcci&oacute;n^^ &nbsp; ^^^^destino^^^^^</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c117">Direcci&oacute;n de Ruta</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">La direcci&oacute;n de ruta indica a qu&eacute; URL debe responder con el fin de aplicar un controlador y las opciones definidas en el destino. Una ruta puede contener opcionalmente un verbo HTTP (GET, POST, &hellip;</span><span class="c0">&nbsp;)</span></p><p class="c2"><span class="c0"></span></p><a id="t.b9163dfd9a29eec4fb8d5e0a5a12c141712185fa"></a><a id="t.46"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">&nbsp; &#39;POST &nbsp; &nbsp; &nbsp; </span><span class="c13">/foo/</span><span class="c6 c45">bar&#39;<br>^verbo^ &nbsp;^direccion^^</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">S&iacute; no se especifica un verbo, el destino se aplicar&aacute; a cualquier petici&oacute;n que coincida con la ruta, independientemente del m&eacute;todo HTTP utilizado. Ten en cuenta la barra &nbsp;</span><span class="c3 c12">&rdquo; / &rdquo; </span><span class="c3">que indicamos al principio de la direcci&oacute;n, todas las rutas han de comenzar con </span><span class="c3 c12">&ldquo; / &rdquo; </span><span class="c5 c3">para que trabajen correctamente.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Adem&aacute;s de usar una ruta est&aacute;tica como /</span><span class="c3 c12">foo/bar</span><span class="c3">, tambi&eacute;n podemos utilizar el asterisco (</span><span class="c3 c12">*</span><span class="c3">)</span><span class="c1">&nbsp;</span></p><p class="c4"><span class="c3">Esta direcci&oacute;n coincidir&aacute; con todas las rutas</span></p><p class="c2"><span class="c0"></span></p><a id="t.0e54d8b32a3106dbca93cfd9a20dcd5583f55014"></a><a id="t.47"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c92 c43"><span class="c6">&#39;/</span><span class="c17">*</span><span class="c6 c45">&#39;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Esta otra, coincidir&aacute; con todas las rutas que empiezan por </span><span class="c1">&nbsp;/user/foo</span></p><p class="c2"><span class="c0"></span></p><a id="t.17b37639c54d1d28eca0dc60f3515e4c8d8386e8"></a><a id="t.48"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c92 c43"><span class="c6">&#39;/user/foo/</span><span class="c17">*</span><span class="c6 c45">&#39;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Se pueden capturar partes de la direcci&oacute;n que coinciden con par&aacute;metros sustituyendo &nbsp;</span><span class="c3 c12">* </span><span class="c5 c3">&nbsp;por los nombres de par&aacute;metros</span></p><p class="c2"><span class="c0"></span></p><a id="t.e96f74c1fdd7bac99864b93d47386391012c8ce5"></a><a id="t.49"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">&#39;</span><span class="c13">/user/foo/:name/bar/</span><span class="c6 c45">:age&#39;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Esta tambi&eacute;n coincidir&aacute; con las mismas URLs</span></p><p class="c2"><span class="c0"></span></p><a id="t.9af4e9de944f159dd0b22c486996d37c614664a1"></a><a id="t.50"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">&#39;</span><span class="c13">/user/foo/*/bar/</span><span class="c6 c45">*&#39;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Expresiones regulares en las direcciones</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Adem&aacute;s de utilizar el &nbsp;</span><span class="c3 c12">* </span><span class="c5 c3">&nbsp;como ya hemos visto, tambi&eacute;n podemos utilizar expresiones regulares para definir direcciones URL. La sintaxis para definir direcciones con expresiones regulares es:</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3 c12">r|&lt;expresion regular&gt;|&lt;coma delimitadora listado de nombres de par&aacute;metros&gt;</span></p><p class="c4"><span class="c5 c3">r|^/\\d+/(\\w+)/(\\w+)$|foo,bar&quot;: &quot;MessageController.myaction</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Una petici&oacute;n URL como esta </span><span class="c3 c12">/123/abc/def</span><span class="c3">&nbsp;ejecutar&iacute;a la acci&oacute;n </span><span class="c3 c12">&ldquo;myaction&rdquo; </span><span class="c3">del controlador </span><span class="c3 c12">&ldquo;MessageController&rdquo; </span><span class="c3">y tanto </span><span class="c3 c12">abc</span><span class="c3">&nbsp;como </span><span class="c3 c12">def</span><span class="c3">&nbsp;ser&iacute;an los valores de </span><span class="c3 c12">req.param(&lsquo;foo&rsquo;)</span><span class="c3">&nbsp;y </span><span class="c1">req.param(&lsquo;bar&rsquo;)</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span>NOTA: &ldquo;</span><span class="c3 c27">La doble barra invertida en &nbsp;\\d &nbsp;y &nbsp;\\w son necesarias para que la expresi&oacute;n regular funcione correctamente.</span><span class="c0">&rdquo;</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">El orden de rutas importa</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Tanto si usamos </span><span class="c3 c12">* </span><span class="c5 c3">, como si usamos expresiones regulares en nuestras rutas, debemos tener muy en cuenta en como las ordenamos, cu&aacute;les ponemos antes y cu&aacute;les despu&eacute;s. Las URLs se comparan con las direcciones de ruta de arriba a abajo, en el momento que encuentra coincidencia, para y no sigue buscando otras coincidencias.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Destinos de ruta</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Podr&iacute;amos decir que las rutas se conforman de dos porciones, la primera es donde especificamos la direcci&oacute;n que debe coincidir con la URL solicitada. La segunda porci&oacute;n es el destino que especifica a </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;que debe hacer, a donde ha de ir a parar en el momento que encuentre coincidencia la direcci&oacute;n URL con la petici&oacute;n. Disponemos de varias formas de definir el destino. En alg&uacute;n momento es posible que necesites que una ruta tenga varios destinos colocados en un array, pero en la mayor&iacute;a de los casos cada ruta tendr&aacute; su direcci&oacute;n junto con un solo destino. A continuaci&oacute;n vemos los diferentes tipos que hay para definir los destinos, seguido de como se pueden aplicar.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c1">Destino &hellip; Controlador / acci&oacute;n</span></p><p class="c2"><span class="c0"></span></p><a id="t.c82d3cc687164b037384b205ac05fca695e95e1b"></a><a id="t.51"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">&#39;GET </span><span class="c13">/foo/g</span><span class="c6">o&#39;: </span><span class="c13">&#39;FooController.myGoAction&#39;</span><span class="c6">,<br></span><span class="c13">&#39;GET /foo/go&#39;</span><span class="c6">: </span><span class="c13">&#39;Foo.myGoAction&#39;</span><span class="c6">,<br></span><span class="c13">&#39;GET /foo/go&#39;</span><span class="c6">: {controller: </span><span class="c13">&quot;Foo&quot;</span><span class="c6">, action: </span><span class="c13">&quot;myGoAction&quot;</span><span class="c6">},<br></span><span class="c13">&#39;GET /foo/go&#39;</span><span class="c6">: {controller: </span><span class="c13">&quot;FooController&quot;</span><span class="c6">, action:</span><span class="c13">&quot;myGoAction&quot;</span><span class="c6 c45">},</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Cada una de las rutas </span><span class="c3 c12">GET /foo/go</span><span class="c3">&nbsp;accede a la acci&oacute;n </span><span class="c3 c12">myGoAction</span><span class="c3">&nbsp;del controlador </span><span class="c3 c12">api/controllers/FooController.js</span><span class="c3">. Cada vez que se realice una petici&oacute;n a </span><span class="c3 c12">GET /foo/go</span><span class="c5 c3">&nbsp;se ejecutar&aacute; el c&oacute;digo de la acci&oacute;n. Si tu controlador o acci&oacute;n no existiera, se producir&aacute; un error y no har&iacute;a caso de la ruta. </span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Tanto el nombre del controlador como el de la acci&oacute;n, son case-insesitive (es decir, distingue may&uacute;sculas de &nbsp;min&uacute;sculas).</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Ten en cuenta de que </span><span class="c3 c12">blueprints</span><span class="c5 c3">&nbsp;a&ntilde;ade las siguientes acciones por defecto &nbsp;a los controladores ( find, create, update y delete), todos ellos est&aacute;n disponibles para el enrutado.</span></p><p class="c2"><span class="c0"></span></p><a id="t.6def962baa09d5318bcf01564f50ca9f19c36128"></a><a id="t.52"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">&#39;GET </span><span class="c13">/foo/go: &lsquo;UserController.find&rsquo;</span><span class="c6 c45">&#39;</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Se asume que se ha de tener un archivo controlador api/controllers/UserController.js y un archivo modelo en api/models/User.js.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3 c12">Destino &hellip; una vista</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Otro destino bastante com&uacute;n es asociarla a una vista. La forma de definirla es muy sencilla: Es la ruta relativa hacia el archivo que contiene la vista dentro de la carpeta views, pero sin la extensi&oacute;n.</span></p><p class="c2"><span class="c0"></span></p><a id="t.86ef112948d815459646dca7bdd80c27bd3b833e"></a><a id="t.53"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">&#39;GET </span><span class="c13">/home&#39;: {view: &#39;home/i</span><span class="c6 c45">ndex&#39;}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Esta ruta </span><span class="c3 c12">GET /home</span><span class="c3">&nbsp;apunta a la vista guardada en </span><span class="c3 c12">views/home/index.ejs</span><span class="c5 c3">&nbsp;(asumiendo que como motor de templates est&eacute;s usando EJS).</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Destino &hellip; Blueprint</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">En algunos casos es posible que quieras asignar una direcci&oacute;n a una acci&oacute;n blueprint de </span><span class="c3 c12">sails</span><span class="c3">. Por ejemplo, si tienes un controlador llamado </span><span class="c3 c12">UserController</span><span class="c3">&nbsp;y un modelo llamado </span><span class="c3 c12">User</span><span class="c3">, </span><span class="c3 c12">sails</span><span class="c3">&nbsp;asigna autom&aacute;ticamente una de las acciones blueprint &nbsp;&ldquo;</span><span class="c3 c12">find</span><span class="c3">&rdquo; a esta direcci&oacute;n (</span><span class="c3 c12">GET /user</span><span class="c5 c3">) retornando un listado de usuarios. Si deseas asignar una direcci&oacute;n diferente para tal acci&oacute;n de blueprint, la sintaxis a llevar a cabo ser&iacute;a algo parecido a esto:</span></p><p class="c2"><span class="c0"></span></p><a id="t.48dd54948f6d6db5ce13449137fc7e807553cc4c"></a><a id="t.54"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">&#39;GET </span><span class="c13">/findAllUsers</span><span class="c6">&#39;: {model: </span><span class="c13">&#39;user&#39;</span><span class="c6">, blueprint: </span><span class="c13">&#39;find&#39;</span><span class="c6">},<br>&#39;GET </span><span class="c13">/user/findAll</span><span class="c6">&#39;: {blueprint: </span><span class="c13">&#39;find&#39;</span><span class="c6 c45">}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">En la primera ruta establecemos tanto el modelo (model) como la acci&oacute;n blueprint, mientras que en la segunda ruta solamente establecemos blueprint. Esto es porque </span><span class="c3 c12">sails</span><span class="c3">&nbsp;examinar&aacute; en la direcci&oacute;n asumiendo que el modelo es </span><span class="c3 c12">User</span><span class="c5 c3">. Aunque podemos sobreescribir esto expl&iacute;citamente estableciendo un modelo. </span></p><p class="c2"><span class="c0"></span></p><a id="t.091b0873a066a8c90a84fda100e6dacca170ddd7"></a><a id="t.55"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">&#39;GET </span><span class="c13">/user/</span><span class="c6 c45">findAll&#39;: {blueprint: &#39;find&#39;, model: &#39;pet&#39;}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Aunque rara vez o nunca vayas a realizar esto (ya que har&iacute;as muy confusa tu aplicaci&oacute;n), es bueno saber todas las caracter&iacute;sticas de que dispone </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;a la hora de construir aplicaciones. Nunca se sabe, si en alg&uacute;n caso en concreto tendr&aacute;s que recurrir a algo parecido.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Si especificamos un modelo que no existe, Sails emitir&aacute; un error y no har&aacute; caso de la ruta.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Destino &hellip; Redireccionando</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c5 c3">Puedes tener una ruta que redirija a otra URL ya sea dentro de nuestra aplicaci&oacute;n o en otro servidor, solamente hemos de especificar la URL a la que queremos que se dirija.</span></p><p class="c2"><span class="c0"></span></p><a id="t.f753f778d9d4a9502fa2cf3c16141a1e09831a2d"></a><a id="t.56"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">&#39;</span><span class="c13">/alias&#39; : &#39;/some/other/</span><span class="c6">route&#39;,<br>&#39;GET </span><span class="c13">/google&#39;: &#39;http://</span><span class="c6 c45">www.google.com&#39;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Ten cuidado de no crear un bucle infinito al redirigir dentro de la aplicaci&oacute;n.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Has de saber que al redirigir, lo m&aacute;s probable es que tanto el m&eacute;todo HTTP, par&aacute;metros y cabeceras se pierdan, y la petici&oacute;n se transforma en una simple petici&oacute;n </span><span class="c3 c12">GET</span><span class="c3">. En el ejemplo una petici&oacute;n a &nbsp;la ruta </span><span class="c3 c12">/alias</span><span class="c3">&nbsp;dar&iacute;a como resultado una petici&oacute;n </span><span class="c3 c12">GET</span><span class="c3">&nbsp;a </span><span class="c3 c12">/some/other/route</span><span class="c5 c3">.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Destino &hellip; Respuesta personalizada</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Tambi&eacute;n podemos asignar una direcci&oacute;n directamente a una respuesta personalizada:</span></p><p class="c2"><span class="c0"></span></p><a id="t.59d8c768802cfaf322ce8cd6e5ed12db6ac16a0c"></a><a id="t.57"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">&#39;/foo&#39;: {response: </span><span class="c13">&#39;notFound&#39;</span><span class="c6 c45">}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">S&oacute;lo tienes que especificar el nombre del archivo sin la extensi&oacute;n (.js) que contiene tu respuesta, deber&aacute; estar ubicado en </span><span class="c3 c12">api/responses</span><span class="c3">. El nombre de la respuesta que especifiquemos hace diferencia entre may&uacute;sculas y min&uacute;sculas. Si una ruta apunta hacia una respuesta inexistente, Sails emitir&aacute; un error y no har&aacute; caso de la ruta</span><span class="c0">.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Destino &hellip; Pol&iacute;tica</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c3">En la mayor&iacute;a de los casos para aplicar una pol&iacute;tica a una acci&oacute;n de un controlador, hacemos uso del archivo de configuraci&oacute;n </span><span class="c3 c12">config/policies.js</span><span class="c3">. Habr&aacute; ocasiones en la que quieras aplicar una pol&iacute;tica directamente a una ruta, sobre todo cuando est&eacute;s usando en el destino de la ruta una vista o blueprint. </span><span class="c0">&nbsp;</span></p><p class="c2"><span class="c0"></span></p><a id="t.590c5829ca6843e65614b7216bf90b9044857685"></a><a id="t.58"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">&#39;/foo&#39;: {policy: </span><span class="c13">&#39;myPolicy&#39;</span><span class="c6 c45">}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Sin embargo, aparte de aplicar la pol&iacute;tica, tambi&eacute;n querr&aacute;s que tenga otro tipo de destino. Esto lo conseguimos usando un array, quedar&iacute;a de esta forma:</span></p><p class="c4"><span class="c3 c12">&lsquo;/foo&rsquo;: [{ </span><span class="c3">policy</span><span class="c3 c12">: &lsquo;miPolicy&rsquo; }, { </span><span class="c3">blueprint</span><span class="c3 c12">: &lsquo;find&rsquo;, </span><span class="c3">model</span><span class="c1">: &lsquo;user&rsquo; }]</span></p><p class="c4"><span class="c3">Esto aplicar&aacute; la pol&iacute;tica a la ruta, si la pol&iacute;tica devuelve </span><span class="c3 c12">true</span><span class="c3">&nbsp;o </span><span class="c3 c12">next()</span><span class="c5 c3">, entonces se ejecuta la acci&oacute;n find.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Opciones de los destinos</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Aparte de todas la opciones que hemos visto hasta ahora, cualquier otra propiedad que &nbsp;quieras introducir en el destino, ser&aacute; transferido al controlador como un objeto </span><span class="c3 c12">req.options</span><span class="c3">.</span><span class="c0">&nbsp;</span></p><p class="c4"><span class="c5 c3">Hay varias propiedades reservadas &nbsp;que se pueden utilizar para alterar el comportamiento de las rutas, estas se enumeran en la siguiente tabla.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><a id="t.e3bd4013bd28cbe04287c551de664ac06a8805f6"></a><a id="t.59"></a><table class="c52"><tbody><tr class="c22"><td class="c67 c94" colspan="1" rowspan="1"><p class="c24"><span class="c29 c3 c12">Propiedad</span></p></td><td class="c75 c94" colspan="1" rowspan="1"><p class="c24"><span class="c3 c12 c29">Tipos de Destino Aplicables</span></p></td><td class="c137 c94" colspan="1" rowspan="1"><p class="c24"><span class="c29 c3 c12">Tipo de Datos</span></p></td><td class="c93 c94" colspan="1" rowspan="1"><p class="c24"><span class="c29 c3 c12">Detalles</span></p></td></tr><tr class="c22"><td class="c67" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p><p class="c31"><span class="c29 c3 c33">skipAssets</span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p><p class="c31"><span class="c29 c3 c33">todos</span></p></td><td class="c137" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p><p class="c31"><span class="c29 c3 c33">0/1</span></p></td><td class="c93" colspan="1" rowspan="1"><p class="c24"><span class="c3 c68">Establezca en true, si no desea que la ruta coincida con direcciones url en donde la parte final de la direcci&oacute;n sea un archivo est&aacute;tico (ej.: </span><span class="c3 c12 c68">miImagen.jpg</span><span class="c29 c3 c33">). Esto es &uacute;til cuando se crean URL&rsquo;s slugs.</span></p></td></tr><tr class="c22"><td class="c67" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p><p class="c31"><span class="c29 c3 c33">skipRegex</span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p><p class="c31"><span class="c29 c3 c33">todos</span></p></td><td class="c137" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p><p class="c31"><span class="c29 c3 c33">0/1</span></p></td><td class="c93" colspan="1" rowspan="1"><p class="c24"><span class="c29 c3 c33">Si necesitas gestionar rutas que han de ser omitidas en base a diferentes criterios, esta opci&oacute;n, permite especificar expresiones regulares.</span></p></td></tr><tr class="c22"><td class="c67" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p><p class="c31"><span class="c29 c3 c33">locals</span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">controladores, vistas, blueprint, respuestas</span></p></td><td class="c137" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p><p class="c31"><span class="c29 c3 c33">{}</span></p></td><td class="c93" colspan="1" rowspan="1"><p class="c24"><span class="c29 c3 c33">Establece por defecto el paso de variables locales a cualquier vista que es renderizada mientras se maneja la petici&oacute;n.</span></p></td></tr><tr class="c22"><td class="c67" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p><p class="c31"><span class="c29 c3 c33">cors</span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p><p class="c31"><span class="c29 c3 c33">todos</span></p></td><td class="c137" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p><p class="c31"><span class="c29 c3 c33">{} &nbsp;- &nbsp;0/1 &nbsp;- &nbsp;&ldquo;&rdquo;</span></p></td><td class="c93" colspan="1" rowspan="1"><p class="c24"><span class="c29 c3 c33">Especifica como manejar las peticiones de dicha ruta desde diferentes or&iacute;genes.</span></p><p class="c24 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c67" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p><p class="c31"><span class="c29 c3 c33">populate</span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p><p class="c31"><span class="c29 c3 c33">blueprint</span></p></td><td class="c137" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p><p class="c31"><span class="c29 c3 c33">0/1</span></p></td><td class="c93" colspan="1" rowspan="1"><p class="c24"><span class="c3 c68">Indica si los resultados de la acci&oacute;n </span><span class="c3 c12 c68">find </span><span class="c3 c68">o </span><span class="c3 c12 c68">findOne</span><span class="c29 c3 c33">, deben de tener campos de modelos relacionados. Por defecto, el valor se establece en config/blueprints.js</span></p></td></tr><tr class="c22"><td class="c67" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">skip, limit, sort, where</span></p></td><td class="c75" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">blueprint</span></p></td><td class="c137" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">{}</span></p></td><td class="c93" colspan="1" rowspan="1"><p class="c24"><span class="c3 c68">Establece los criterios para la acci&oacute;n </span><span class="c3 c12 c68">find</span><span class="c29 c3 c33">&nbsp;(blueprint).</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c41 c3 c12">URL&rsquo;s amigables (slugs)</span></p><p class="c2"><span class="c41 c3 c12"></span></p><p class="c4"><span class="c14 c3">Las URL sem&aacute;nticas o URL amigables son aquellas URLs que son, dentro de lo que cabe, </span><span class="c14 c3 c12">entendibles</span><span class="c14 c3">&nbsp;para el usuario. Lejos de las cl&aacute;sicas URLs de las p&aacute;ginas din&aacute;micas llenas de variables GET y n&uacute;meros dif&iacute;ciles de recordar, las URL sem&aacute;nticas est&aacute;n formadas con palabras relacionadas con el contenido de la p&aacute;gina y </span><span class="c14 c3 c12">f&aacute;ciles de recordar</span><span class="c79 c14 c3 c33">. Estas se utilizan en los sitios web din&aacute;micos (no est&aacute;ticos). Por ello se est&aacute;n utilizando mucho m&aacute;s que las URL extensas.</span></p><p class="c2"><span class="c29 c3 c33"></span></p><p class="c2"><span class="c29 c3 c33"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Un caso de uso muy com&uacute;n para las rutas expl&iacute;citas es dise&ntilde;arlas para que sean amigables. Por ejemplo, considera una url de un repositorio de Github (http://www.github.com/balderdashy/sails.js). En </span><span class="c3 c12">sails</span><span class="c5 c3">, podr&iacute;amos definir esta ruta en la parte inferior de nuestro archivo config/routes.js.</span></p><p class="c2"><span class="c0"></span></p><a id="t.beaebc44da164acadbd81035153061d0bf2b3220"></a><a id="t.60"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c45 c126 c3 c33">// config/routes.js</span></p><p class="c49 c43 c32"><span class="c6 c45"></span></p><p class="c49 c43"><span class="c6">&lsquo;get </span><span class="c33 c98">/:account</span><span class="c6 c45">/:repo&rsquo;: {</span></p><p class="c49 c43"><span class="c6">&nbsp; &nbsp; controller:</span><span class="c13">&rsquo;RepoController&rsquo;</span><span class="c6 c45">,</span></p><p class="c49 c43"><span class="c6">&nbsp; &nbsp; action: </span><span class="c13">&lsquo;show&rsquo;</span><span class="c6 c45">, </span></p><p class="c49 c43"><span class="c6">&nbsp; &nbsp; skipAssets: </span><span class="c45 c7">true</span></p><p class="c49 c43"><span class="c6 c45">}</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">En la acci&oacute;n </span><span class="c3 c12">show</span><span class="c3">&nbsp;de nuestro </span><span class="c3 c12">RepoController</span><span class="c3">&nbsp;usamos </span><span class="c3 c12">req.para(&lsquo;account&rsquo;) </span><span class="c3">y </span><span class="c3 c12">req.param(&lsquo;repo&rsquo;) </span><span class="c3">para saber los datos del repositorio adecuado, para luego pasarlo tanto a la vista como a las locales (locals), esta parte la veremos m&aacute;s adelante en la secci&oacute;n de </span><span class="c1">vistas.</span></p><p class="c4"><span class="c3">La opci&oacute;n </span><span class="c3 c12">skipAssets</span><span class="c3">&nbsp;nos asegura de que la ruta no coincide accidentalmente con cualquiera de nuestros assets o archivos est&aacute;ticos (ej.: /images/logo.png).</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><h1 class="c96" id="h.4y097bru9etz"><span class="c56 c44 c12">6. Controladores</span></h1><p class="c2"><span class="c46 c33 c9"></span></p><p class="c4"><span class="c41 c3 c12">Visi&oacute;n del conjunto</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Los controladores son los objetos principales en nuestra aplicaci&oacute;n, estos son los responsables para responder a las peticiones que provienen normalmente de un navegador web, aplicaciones m&oacute;viles u otro sistema capaz de comunicarse con el servidor. &nbsp;La mayor&iacute;a de las veces act&uacute;an como intermediarios entre nuestros </span><span class="c26 c3">modelos</span><span class="c3">&nbsp;y </span><span class="c26 c3">vistas</span><span class="c5 c3">. Para cualquier aplicaci&oacute;n, los controladores contienen la l&oacute;gica de negocio de nuestro proyecto.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Acciones</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Los controladores est&aacute;n compuestos de una colecci&oacute;n de m&eacute;todos llamados acciones (actions). &nbsp;Los m&eacute;todos o acciones se pueden unir a las rutas de nuestra aplicaci&oacute;n, de tal modo que cuando el cliente solicite una ruta el m&eacute;todo o acci&oacute;n se ejecute para realizar la l&oacute;gica de negocio y en la mayor&iacute;a de los casos genere una respuesta. Por ejemplo la ruta </span><span class="c3 c12">GET</span><span class="c3">&nbsp;</span><span class="c3 c12">/hola</span><span class="c5 c3">&nbsp;podr&iacute;a estar ligada a un m&eacute;todo o acci&oacute;n como se muestra a continuaci&oacute;n:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.1bceb12d9541f42325f7184f862d5a0801deb570"></a><a id="t.61"></a><table class="c52"><tbody><tr class="c136"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(req, res) {<br> &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.send(</span><span class="c13">&quot;Hola!&quot;</span><span class="c6">);<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">As&iacute; que cada vez que nuestro navegador apunte a la ruta </span><span class="c3 c12">/hola</span><span class="c5 c3">, este imprimir&aacute; en pantalla Hola!.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">&iquest;Donde definimos los controladores?</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Los controladores est&aacute;n o ser&aacute;n definidos en el directorio </span><span class="c3 c12">api/controllers/</span><span class="c3">. Podemos crear tantos controladores como queramos, pero para que sean cargados como controladores deber&aacute;n estar dentro de dicho directorio, el nombre del archivo deber&aacute; finalizar con </span><span class="c3 c12">Controller.js</span><span class="c3">. Por convenci&oacute;n, los controladores usa </span><span class="c3 c27">Pascal-cased, </span><span class="c3">con lo que la primera letra de cada palabra </span><span class="c3 c27">(incluida la primera) la escribiremos </span><span class="c3">en may&uacute;scula, por ejemplo </span><span class="c3 c12">UserController.js</span><span class="c3">, </span><span class="c3 c12">MiController.js</span><span class="c3">&nbsp;o </span><span class="c3 c12">CualquierOtroNombreController.js </span><span class="c5 c3">.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Puedes organizar tus controladores dentro de grupos, guardando estos en sub-carpetas dentro de </span><span class="c3 c12">api/controllers </span><span class="c5 c3">, sin embargo nota que el nombre de la sub-carpeta pasar&aacute; a formar parte de la identidad del controlador en el momento que se utilice el enrutamiento (aprenderemos m&aacute;s sobre esto en la secci&oacute;n de &ldquo;Routing&rdquo; ).</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">&iquest;Como es un archivo Controlador?</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Un archivo controlador se define como un objeto en JavaScript. La llave o clave (</span><span class="c3 c27">key</span><span class="c5 c3">) es el nombre de la acci&oacute;n, y los valores son los m&eacute;todos de dicha acci&oacute;n. Observa este ejemplo sencillo de un controlador:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.e663690f02e1d1225d3117da80bca897ee3305d8"></a><a id="t.62"></a><table class="c52"><tbody><tr class="c53"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br> &nbsp;</span><span class="c42 c33">hola</span><span class="c6">: </span><span class="c63 c33">function</span><span class="c6">&nbsp;(req, res) {<br> &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.send(</span><span class="c13">&quot;Hola!&quot;</span><span class="c6">);<br> &nbsp;},<br> &nbsp;</span><span class="c42 c33">adios</span><span class="c6">: </span><span class="c63 c33">function</span><span class="c6">&nbsp;(req, res) {<br> &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.redirect(</span><span class="c13">&quot;http://www.sayonara.com&quot;</span><span class="c6">);<br> &nbsp;}<br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Este controlador define dos acciones: por un lado tenemos la acci&oacute;n &ldquo;hola&rdquo; que responde a la petici&oacute;n con un mensaje de tipo string (cadena de texto) y la segunda acci&oacute;n &ldquo;adios&rdquo; que responde redireccionado a otra p&aacute;gina web.</span></p><p class="c4"><span class="c3">Los objetos &ldquo;</span><span class="c3 c12 c27">req</span><span class="c3">&rdquo; y &nbsp;&ldquo;</span><span class="c3 c12 c27">res</span><span class="c3">&rdquo; le resultar&aacute; familiar si anteriormente ha usado </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/expressjs&amp;sa=D&amp;ust=1526912178555000">Express.js</a></span><span class="c3">. Esto es porque Sails usa Express para manejar o manipular el enrutado. Quiz&aacute;s te preguntes acerca del argumento &ldquo;</span><span class="c3 c12 c27">next</span><span class="c3">&rdquo; en las acciones, a diferencia de otros m&eacute;todos en Express, los controladores en Sails siempre deben ser la &uacute;ltima parada en la cadena de la petici&oacute;n, es decir, que siempre ha de devolver o una respuesta o un error. Aunque es posible utilizar el argumento &ldquo;</span><span class="c3 c12 c27">next</span><span class="c5 c3">&rdquo; en las acciones, no es nada recomendable, en su lugar puedes hacer &nbsp;uso de este par&aacute;metro en las pol&iacute;ticas (policies) siempre que sea posible, algo que veremos en su momento.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Enrutado (Routing)</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Por defecto, Sails crea rutas blueprint (</span><span class="c3 c27">las rutas blueprint enlazan rutas vinculadas autom&aacute;ticamente, sin tener que definirlas expl&iacute;citamente en una ruta</span><span class="c3">) para cada acci&oacute;n, de modo que si hacemos una petici&oacute;n </span><span class="c3 c12">GET </span><span class="c3">a </span><span class="c3 c12">/:controlador/:accion</span><span class="c3">&nbsp;se activar&aacute; la acci&oacute;n. Si tomamos como ejemplo el controlador anterior, imagina que lo hubi&eacute;semos guardado como </span><span class="c3 c12">api/controllers/SayController.js</span><span class="c3">, entonces las rutas hacia dichas acciones estar&iacute;an disponibles como /</span><span class="c3 c12">say/hola &nbsp;</span><span class="c3">y &nbsp;/</span><span class="c3 c12">say/adios</span><span class="c3">. Si el controlador lo hubi&eacute;semos guardado en una sub-carpeta como por ejemplo </span><span class="c3 c12">api/controllers/we/SayControlller.js </span><span class="c3">entonces las rutas ser&iacute;an </span><span class="c3 c12">/we/say/hola </span><span class="c3">y &nbsp;</span><span class="c3 c12">/we/say/adios</span><span class="c5 c3">. </span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Adem&aacute;s de las rutas por defecto, Sails te permite enlazar manualmente las rutas a las acciones de los controladores utilizando el archivo </span><span class="c26 c3">config/routes.js</span><span class="c5 c3">. A las rutas definidas en este archivo se les denomina rutas explicitas &iquest;Cuando debemos utilizar rutas expl&iacute;citas?</span></p><p class="c4"><span class="c5 c3">&nbsp;</span></p><ul class="c10 lst-kix_unslttc25noj-0 start"><li class="c4 c47 c19"><span class="c5 c3">Cuando tengamos que utilizar m&aacute;s de una acci&oacute;n para una ruta, por ejemplo una misma ruta nos puede servir para llamar a una acci&oacute;n que solo responda al m&eacute;todo POST, pero tambi&eacute;n esta misma ruta podr&aacute; llamar a otra acci&oacute;n que responda al m&eacute;todo GET, PUT, DELETE, etc. </span></li><li class="c4 c47 c19"><span class="c5 c3">Cuando quieras que una acci&oacute;n est&eacute; disponible en una URL personalizada (ej.: PUT /login, POST /signup, o GET /:username)</span></li><li class="c4 c47 c19"><span class="c5 c3">Cuando desees configurar opciones adicionales de c&oacute;mo se debe manejar una ruta (ej.: Configuraci&oacute;n CORS)</span></li></ul><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Para enlazar manualmente una ruta a una acci&oacute;n, lo haremos siempre desde el archivo </span><span class="c3 c12">config/routes.js</span><span class="c5 c3">, usamos el verbo HTTP y la direcci&oacute;n. La direcci&oacute;n de la ruta es la clave o llave (key) y el nombre_del_controlador.nombre_de_la_acci&oacute;n es el valor.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Por ejemplo, la siguiente ruta har&aacute; que la aplicaci&oacute;n &nbsp;active la acci&oacute;n </span><span class="c3 c12">preparar()</span><span class="c5 c3">, siempre que la petici&oacute;n reciba el m&eacute;todo POST</span></p><p class="c4"><span class="c1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;api/controllers/BocadilloController.js</span></p><p class="c2"><span class="c39 c64 c12 c81"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.e429a8dfff9b08cb2ae0cefbca624c953bfc129d"></a><a id="t.63"></a><table class="c52"><tbody><tr class="c155"><td class="c30" colspan="1" rowspan="1"><p class="c43 c140"><span class="c6">&#39;POST </span><span class="c13">/make/a/</span><span class="c6">bocadillo: </span><span class="c13">&#39;BocadilloController.preparar&#39;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Para hacerte una idea m&aacute;s completa, revisa la secci&oacute;n rutas, obtendr&aacute;s una descripci&oacute;n m&aacute;s completa de las opciones disponibles.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Controladores ligeros</span></p><p class="c2"><span class="c46 c33 c9"></span></p><p class="c4"><span class="c3">La mayor&iacute;a de los frameworks MVC recomiendan escribir controladores ligeros, </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;no iba a ser menos, ni hacer una excepci&oacute;n, ya que es una buena idea mantener los controladores tan simples como sea posible. Mostraremos el porqu&eacute; es &uacute;til mantenerlos lo m&aacute;s simple posible.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">El c&oacute;digo del controlador depende esencialmente de un evento. En la parte del backend de </span><span class="c3 c12">sails</span><span class="c5 c3">, este evento es casi siempre una solicitud entrante. De modo que si escribimos un mont&oacute;n de c&oacute;digo en las acciones del controlador, no es raro pensar que el c&oacute;digo se vuelva dependiente del contexto de la petici&oacute;n, lo cual est&aacute; bien&hellip;. hasta que quieras utilizar ese c&oacute;digo en otra acci&oacute;n diferente o desde la l&iacute;nea de comandos.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">As&iacute; que la filosof&iacute;a de mantener el controlador lo m&aacute;s simple posible o ligero, es fomentar la disociaci&oacute;n del c&oacute;digo para poderlo hacer reutilizable, de esta forma cuando quieras realizar un cambio no tendr&aacute; que hacerlo en todos los controladores. Con </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;podemos lograr esto de varias maneras diferentes, pero las m&aacute;s comunes para la extrapolaci&oacute;n de c&oacute;digo de los controladores son: </span></p><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_i0lb8zu4qt6n-0 start"><li class="c4 c47 c19"><span class="c5 c3">Escribir un modelo personalizado para encapsular un c&oacute;digo que realiza una tarea en particular con relaci&oacute;n a un determinado modelo.</span></li><li class="c4 c47 c19"><span class="c5 c3">Escribir un servicio como una funci&oacute;n para encapsular un c&oacute;digo que realiza una tarea espec&iacute;fica en la aplicaci&oacute;n.</span></li><li class="c4 c47 c19"><span class="c3">Si encuentras algo de c&oacute;digo que es &uacute;til en varias de tus aplicaciones, es una buena pr&aacute;ctica extraerlo a un m&oacute;dulo de NodeJS. &nbsp;De esta manera podr&aacute;s re-utilizarlo en cualquiera de tus proyectos futuros o mejor a&uacute;n publicarlo en </span><span class="c3 c12">npm </span><span class="c3">bajo la licencia Open-Source para que otros desarrolladores puedan beneficiarse y te ayuden a mantenerlo</span><span class="c0">.</span></li></ul><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Generando Controladores</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Puedes utilizar la herramienta que brinda Sails, &nbsp;desde la l&iacute;nea de comandos puedes generar controladores autom&aacute;ticamente, junto con sus acciones, por ejemplo:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.7af5663882eb9da818db532a5217bb1415afd5b9"></a><a id="t.64"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">$ sails generate controller </span><span class="c17">&lt;</span><span class="c6">nombre controlador</span><span class="c17">&gt;</span><span class="c6 c45">&nbsp;[nombres de acciones separados por comas...]</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c0">Por ejemplo, si ejecutamos el siguiente comando:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.46e22d250a5a5104665e62af2dc7a8a7585644de"></a><a id="t.65"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49"><span class="c6 c45">$ sails generate controller comentario crear,eliminar,editar,modificar</span></p><p class="c49 c43"><span class="c6"><br>info: Genera un &nbsp;</span><span class="c17">nuevo</span><span class="c6">&nbsp;controlador con nombre `comentario` en api</span><span class="c13">/controllers/</span><span class="c6">ComentarioController.js</span><span class="c17">!</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Sails generar&aacute; un archivo en </span><span class="c3 c12">api/controllers/ComentarioController.js</span><span class="c5 c3">&nbsp;parecido a esto:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.b921a13803da7ae6edf5a48ee48b0c744b04d8ed"></a><a id="t.66"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c11">/**<br> * ComentarioController.js<br> *<br> * @description :: Server-side logic for managing comentarios.<br> */</span><span class="c6"><br><br>module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br><br> &nbsp;</span><span class="c11">/**<br> &nbsp; * ComentarioController.crear()<br> &nbsp; */</span><span class="c6"><br> &nbsp;</span><span class="c42 c33">crear</span><span class="c6">: </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(req, res) {<br> &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.json({<br> &nbsp; &nbsp; &nbsp;todo: </span><span class="c13">&#39;Not implemented yet!&#39;</span><span class="c6"><br> &nbsp; &nbsp;});<br> &nbsp;},<br><br> &nbsp;</span><span class="c11">/**<br> &nbsp; * ComentarioController.eliminar()<br> &nbsp; */</span><span class="c6"><br> &nbsp;</span><span class="c42 c33">eliminar</span><span class="c6">: </span><span class="c33 c27 c63">function</span><span class="c6">&nbsp;(req, res) {<br> &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.json({<br> &nbsp; &nbsp; &nbsp;todo: </span><span class="c13">&#39;Not implemented yet!&#39;</span><span class="c6"><br> &nbsp; &nbsp;});<br> &nbsp;},<br><br> &nbsp;</span><span class="c11">/**<br> &nbsp; * ComentarioController.editar()<br> &nbsp; */</span><span class="c6"><br> &nbsp;</span><span class="c42 c33">editar</span><span class="c6">: </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(req, res) {<br> &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.json({<br> &nbsp; &nbsp; &nbsp;todo: </span><span class="c13">&#39;Not implemented yet!&#39;</span><span class="c6"><br> &nbsp; &nbsp;});<br> &nbsp;},<br><br> &nbsp;</span><span class="c11">/**<br> &nbsp; * ComentarioController.modificar()<br> &nbsp; */</span><span class="c6"><br> &nbsp;</span><span class="c42 c33">modificar</span><span class="c6">: </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(req, res) {<br> &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.json({<br> &nbsp; &nbsp; &nbsp;todo: </span><span class="c13">&#39;Not implemented yet!&#39;</span><span class="c6 c45"><br> &nbsp; &nbsp;});<br> &nbsp;}<br>};</span></p><p class="c48 c43 c32"><span class="c6 c45"></span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c56 c44 c12"></span></p><p class="c2"><span class="c56 c44 c12"></span></p><h1 class="c96" id="h.d66b4tz7r7jn"><span class="c44 c123 c115 c12">7. Respuestas Personalizadas</span></h1><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Visi&oacute;n del conjunto</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Sails nos permite personalizar las respuestas que emite el servidor, por defecto, en la carpeta o directorio </span><span class="c3 c12">api/responses</span><span class="c5 c3">, encontramos las m&aacute;s comunes. Para personalizarlas solamente hemos de editar el archivo .js apropiado para ello.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Veamos un ejemplo, considerando la siguiente acci&oacute;n:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.39519ca8875907fbde035c5d75e726c7dbf65f5b"></a><a id="t.67"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c42 c33">foo</span><span class="c6">: </span><span class="c17">function</span><span class="c6">(req, res) {<br> &nbsp; </span><span class="c17">if</span><span class="c6">&nbsp;(</span><span class="c17">!</span><span class="c6">req.param(</span><span class="c13">&#39;id&#39;</span><span class="c6">)) {<br> &nbsp; &nbsp; res.status(</span><span class="c7">400</span><span class="c6">);<br> &nbsp; &nbsp; res.view(</span><span class="c13">&#39;400&#39;</span><span class="c6">, {message: </span><span class="c13">&#39;Lo sentimos, necesitamos el ID para mostrarle los datos!&#39;</span><span class="c6 c45">});<br> &nbsp; }<br> &nbsp; ...<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Este c&oacute;digo maneja una petici&oacute;n, respondiendo con un error de tipo 400 y un mensaje corto que describe el problema. Sin embargo, este c&oacute;digo tiene algunos inconvenientes, principalmente:</span></p><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_4x89tkurgtys-0 start"><li class="c4 c47 c19"><span class="c5 c3">No est&aacute; normalizado. El c&oacute;digo es espec&iacute;fico en esta instancia, es decir en esta acci&oacute;n solamente, y tendr&iacute;amos que escribir mucho c&oacute;digo para mantener el mismo formato de error en toda nuestra aplicaci&oacute;n.</span></li><li class="c4 c47 c19"><span class="c5 c3">No es abstracto, con lo que s&iacute; queremos que los errores similares muestren el mismo mensaje, vamos a tener que copiar/pegar en muchas ocasiones.</span></li><li class="c4 c47 c19"><span class="c5 c3">Si el cliente est&aacute; esperando una respuesta JSON, no obtendr&aacute; lo que espera.</span></li></ul><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Ahora considera este cambio:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.4e3d01cf72885cf1cd2a5fce584dafe1a09a805a"></a><a id="t.68"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c42 c33">foo</span><span class="c6">: </span><span class="c17">function</span><span class="c6">(req, res) {<br> &nbsp; </span><span class="c17">if</span><span class="c6">&nbsp;(</span><span class="c17">!</span><span class="c6">req.param(</span><span class="c13">&#39;id&#39;</span><span class="c6">)) {<br> &nbsp; &nbsp; res.badRequest( </span><span class="c13">&#39;Lo sentimos, necesitamos el ID para mostrarle los datos!&#39;</span><span class="c6 c45">);<br> &nbsp; }<br> &nbsp; ...<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Ahora este enfoque, contiene las siguientes ventajas:</span></p><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_tauxjktfe261-0 start"><li class="c4 c47 c19"><span class="c5 c3">El error est&aacute; normalizado</span></li><li class="c4 c47 c19"><span class="c5 c3">Se tiene en cuenta tanto si el servidor est&aacute; en Producci&oacute;n como en Desarrollo</span></li><li class="c4 c47 c19"><span class="c5 c3">El c&oacute;digo de error ahora es consecuente y consistente</span></li><li class="c4 c47 c19"><span class="c5 c3">El contenido contendr&aacute; JSON o HTML</span></li><li class="c4 c47 c19"><span class="c5 c3">Los ajustes de la API se pueden editar para una respuesta adecuada</span></li></ul><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">M&eacute;todos de respuesta y archivos</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Todos los archivos </span><span class="c3 c12">.js </span><span class="c3">guardados o almacenados en la carpeta </span><span class="c3 c12">/api/responses </span><span class="c3">ser&aacute;n ejecutados por la llamada </span><span class="c3 c12">res</span><span class="c3">.[nombreRespuesta] desde nuestro controlador. Por ejemplo, </span><span class="c3 c12">/api/responses/serverError.js </span><span class="c3">puede ser llamado o ejecutado llam&aacute;ndolo a trav&eacute;s de </span><span class="c3 c12">res.serverError(errores)</span><span class="c3">. Los objetos </span><span class="c26 c3 c27">request</span><span class="c3">&nbsp;y &nbsp;</span><span class="c26 c3 c27">response</span><span class="c3">&nbsp;est&aacute;n disponibles dentro del archivo response (</span><span class="c3 c12">serverError.js) </span><span class="c3">c&oacute;mo </span><span class="c26 c3 c12 c27">this.req</span><span class="c3">&nbsp;y </span><span class="c26 c3 c12 c27">this.res</span><span class="c5 c3">&nbsp;, esto permite que la funci&oacute;n de respuesta tome los par&aacute;metros arbitrariamente.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c1">Respuestas Por Defecto</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Cada una de las respuestas env&iacute;a un objeto JSON normalizado, si el cliente lo que espera es un JSON, contiene una clave/llave (key) con el c&oacute;digo de estado HTTP y claves adicionales con informaci&oacute;n acerca del error.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c1">res.serverError(errors)</span></p><p class="c4"><span class="c5 c3">Esta respuesta normaliza el error o errores en un array de objetos. Los errores pueden ser una o varias cadenas de texto o incluso objetos. Sails registra todos los errores normalmente en consola y responde con la vista /500.* si el cliente esta esperando HTML, o en su defecto el cliente obtiene un JSON si es lo que esperaba. En modo desarrollo, la lista de errores se incluye en la respuesta. En modo producci&oacute;n los errores reales se suprimen.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c1">res.badRequest(validationErrors, redirectTo)</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Esta respuesta incluye el c&oacute;digo de estado 400 y todos los datos relevantes pasados a trav&eacute;s de los par&aacute;metros validationErrors.</span></p><p class="c4"><span class="c5 c3">Para los formularios web tradicionales (sin AJAX) este middleware sigue las mejores pr&aacute;cticas para cuando el usuario env&iacute;a datos del formulario que no son v&aacute;lidos.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c1">res.notFound()</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c5 c3">Si lo que el cliente espera es JSON, esta respuesta env&iacute;a un objeto con c&oacute;digo de estado 404.</span></p><p class="c4"><span class="c5 c3">De lo contrario Sails sirve la vista /views/404.* Si la vista no es encontrada, entonces el cliente recibir&aacute; la respuesta en formato JSON.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">res.forbiden(message)</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c5 c3">Si lo que el cliente espera es JSON, esta respuesta env&iacute;a un objeto con c&oacute;digo de estado 403 junto con el contenido del mensaje.</span></p><p class="c4"><span class="c3">De lo contrario Sails sirve la vista /views/403.* Si la vista no es encontrada, entonces el cliente recibir&aacute; la respuesta en formato JSON.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Respuesta Personalizada</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Para a&ntilde;adir tu propio m&eacute;todo de respuesta personalizada, solamente has de a&ntilde;adir un archivo en la carpeta </span><span class="c3 c12">/api/responses</span><span class="c5 c3">&nbsp;con el mismo nombre del m&eacute;todo que le gustar&iacute;a crear. El archivo debe exportar la funci&oacute;n, y puede obtener tantos par&aacute;metros como desees. Mira este ejemplo de una respuesta personalizada:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.b4ff3262e8f02786a26cbbe447e6c70c6e1a7523"></a><a id="t.69"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c11">/** <br> * api/responses/miRespuesta.js<br> *<br> * Esto estar&aacute; disponible en los controladores como </span><span class="c86 c12">res.miRespuesta(&#39;foo&#39;);</span><span class="c11"><br> */</span><span class="c6"><br><br></span><span class="c42 c33">module.exports</span><span class="c6">&nbsp;</span><span class="c17">=</span><span class="c6">&nbsp;</span><span class="c17">function</span><span class="c6">(message) {<br><br> &nbsp;</span><span class="c17">var</span><span class="c6">&nbsp;req </span><span class="c17">=</span><span class="c6">&nbsp;</span><span class="c17">this</span><span class="c6">.req;<br> &nbsp;</span><span class="c17">var</span><span class="c6">&nbsp;res </span><span class="c17">=</span><span class="c6">&nbsp;</span><span class="c17">this</span><span class="c6">.res;<br><br> &nbsp;</span><span class="c17">var</span><span class="c6">&nbsp;viewFilePath </span><span class="c17">=</span><span class="c6">&nbsp;</span><span class="c13">&#39;miEspecialVista&#39;</span><span class="c6">;<br> &nbsp;</span><span class="c17">var</span><span class="c6">&nbsp;statusCode </span><span class="c17">=</span><span class="c6">&nbsp;</span><span class="c7">200</span><span class="c6">;<br><br> &nbsp;</span><span class="c17">var</span><span class="c6">&nbsp;result </span><span class="c17">=</span><span class="c6">&nbsp;{<br> &nbsp; &nbsp;status: statusCode<br> &nbsp;};<br><br> &nbsp;</span><span class="c11">// mensaje opcional </span><span class="c6"><br> &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(message) {<br> &nbsp; &nbsp;result.message </span><span class="c17">=</span><span class="c6">&nbsp;message;<br> &nbsp;}<br><br> &nbsp;</span><span class="c11">// Si la peticion del usuario es JSON, respondemos con JSON</span><span class="c6"><br> &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(req.wantsJSON) {<br> &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.json(result, result.status);<br> &nbsp;}<br><br> &nbsp;</span><span class="c11">// Establecemos el c&oacute;digo de estado y la vista local</span><span class="c6"><br> &nbsp;res.status(result.status);<br> &nbsp;</span><span class="c17">for</span><span class="c6">&nbsp;(</span><span class="c17">var</span><span class="c6">&nbsp;key in result) {<br> &nbsp; &nbsp;res.locals[key] </span><span class="c17">=</span><span class="c6">&nbsp;result[key];<br> &nbsp;}<br> &nbsp;</span><span class="c11">// Renderizamos la vista</span><span class="c6"><br> &nbsp;res.render(viewFilePath, result, </span><span class="c17">function</span><span class="c6">(err) {<br> &nbsp; &nbsp;</span><span class="c11">// Si la vista no existe, o ocurre un error, responde con JSON</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(err) {<br> &nbsp; &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.json(result, result.status);<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;</span><span class="c11">// Servimos la vista miEspecialVista.*</span><span class="c6"><br> &nbsp; &nbsp;res.render(viewFilePath);<br> &nbsp;});</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c44 c115 c12">8. Modelos y ORM</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12 c55">Waterline: SQL/noSQL Tratamiento de Datos (ORM/ODM)</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Sails lleva incorporado un magn&iacute;fico </span><span class="c3 c12">ORM/ODM</span><span class="c3">&nbsp;llamado </span><span class="c26 c3 c12"><a class="c16" href="https://www.google.com/url?q=https://github.com/balderdashy/waterline&amp;sa=D&amp;ust=1526912178578000">Waterline</a></span><span class="c5 c3">. Una herramienta que simplifica la interacci&oacute;n de nuestra aplicaci&oacute;n con una o m&aacute;s bases de datos. Proporciona una capa de abstracci&oacute;n en la parte superior de la base de datos, que permite consultar y manipular f&aacute;cilmente los datos, sin necesidad de escribir una gran cantidad de c&oacute;digo.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">En las bases de datos como </span><span class="c3 c12">Postgres</span><span class="c3">, </span><span class="c3 c12">Oracle </span><span class="c3">y </span><span class="c3 c12">MySQL</span><span class="c3">, los modelos est&aacute;n representados por tablas, en cambio en </span><span class="c3 c12">MongoDB </span><span class="c3">se representa por colecciones. En </span><span class="c3 c12">Redis </span><span class="c5 c3">se representa por medio de pares clave/valor (key/value). Cada base de datos tiene su propio dialecto que hace que consultar sus datos sea totalmente distinta unas de otras, en algunos casos incluso requiere instalaci&oacute;n y compilaci&oacute;n de alg&uacute;n m&oacute;dulo nativo espec&iacute;fico para la conexi&oacute;n al servidor.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">La sintaxis de </span><span class="c3 c12">waterline </span><span class="c3">se centra en la l&oacute;gica de negocio, como la creaci&oacute;n de nuevos registros o b&uacute;squeda de registro/s existentes, actualizaci&oacute;n o la destrucci&oacute;n de los mismos. Da lo mismo a la base de datos que estemos conectados, el uso de waterline ser&aacute; el mismo. Por otra parte </span><span class="c3 c12">waterline</span><span class="c3">&nbsp;permite asociaciones entre modelos de una manera sencilla, incluso si los datos de cada modelo reside en una bases de datos diferente. Esto significa que podemos cambiar los modelos de nuestra aplicaci&oacute;n de </span><span class="c3 c12">MongoDB</span><span class="c3">&nbsp;a </span><span class="c3 c12">Postgress</span><span class="c3">&nbsp;o </span><span class="c3 c12">MySQL</span><span class="c3">&nbsp;o </span><span class="c3 c12">Redis</span><span class="c5 c3">, sin tener que cambiar ning&uacute;n c&oacute;digo de nuestra aplicaci&oacute;n. </span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Para momentos en los que necesitamos la funcionalidad de una base de datos espec&iacute;fica, &nbsp;</span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/balderdashy/waterline&amp;sa=D&amp;ust=1526912178580000">waterline</a></span><span class="c5 c3">&nbsp;proporciona una interfaz de consulta que nos permite interactuar directamente con el controlador de la base de datos. </span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Escenario</span></p><p class="c2"><span class="c41 c3 c12"></span></p><p class="c4"><span class="c5 c3">Imaginemos que estamos construyendo una aplicaci&oacute;n web que contiene un comercio online (e-commerce), a esta aplicaci&oacute;n le acompa&ntilde;a otra que permite acceder desde un dispositivo m&oacute;vil. Los usuarios podr&aacute;n navegar por los productos, filtrarlos por categor&iacute;a o realizar una b&uacute;squeda de un art&iacute;culo en concreto, finalmente el usuario realizar&aacute; una compra. Algunas partes de la aplicaci&oacute;n son bastante comunes. En nuestra API habr&aacute; partes que han de controlar la autenticaci&oacute;n de usuarios, registro, &oacute;rdenes de pago, reseteo de contrase&ntilde;as, etc. Sin embargo, existen todav&iacute;a algunas caracter&iacute;sticas en las que nos tenemos que involucrar a&uacute;n m&aacute;s. </span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Flexibilidad</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Quiz&aacute; se pregunte, qu&eacute; motor de base de datos es la mejor para llevar a cabo la aplicaci&oacute;n web de comercio online.</span></p><p class="c4"><span class="c5 c3">Pues bien, no se apresure, seguro que no le gustar&aacute; tomar una decisi&oacute;n equivocada. </span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">En la mayor&iacute;a de los casos elegiremos una sola base de datos para una aplicaci&oacute;n API, cabe la posibilidad que se necesite mantener la compatibilidad con una o m&aacute;s bases de datos, ya sea porque as&iacute; lo deseemos o bien por razones de rendimiento.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Sails &nbsp;usa </span><span class="c3 c12">sails-disk</span><span class="c5 c3">&nbsp;por defecto, esto significa que puedes empezar a construir tu aplicaci&oacute;n sin configurar nada, usando un archivo temporal como almacenamiento de datos. </span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Compatibilidad</span></p><p class="c2"><span class="c41 c3 c12"></span></p><p class="c4"><span class="c39 c3 c33 c27">El cliente me pide que integre los productos en la aplicaci&oacute;n de comercio online, me dice que los tiene en una ERP con no s&eacute; qu&eacute; de DB2. De todas formas seguro que no es dif&iacute;cil implementarlo.</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Cuando desarrollamos aplicaciones empresariales, nos encontramos que a menudo debemos integrarlas con bases de datos que el propio cliente ya tiene. Si tienes suerte, una migraci&oacute;n de datos de una sola vez, puede que sea todo lo que necesites, pero en algunas ocasiones es posible que la base de datos existente se vea modificada por otras aplicaciones en tiempo real. Con el fin de construir su aplicaci&oacute;n es posible que tenga que convivir con otros sistemas de conjunto de datos &nbsp;separados en otro lugar. Estos conjuntos de datos podr&iacute;an incluso estar en cinco servidores diferentes repartidos por el mundo. Una base de datos podr&iacute;a albergar datos relacionales SQL, mientras que otro servidor podr&iacute;a contener colecciones de MongoDB.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3 c12">Sails/Waterline</span><span class="c3">&nbsp;te permite conectar modelos a diferentes bases de datos, ya sean locales o en cualquier otro sitio en internet. Puedes construir un modelo &ldquo;Usuario&rdquo; y que est&eacute; asignado a una tabla de MySQL personalizada que herede de otra base de datos. De igual manera para un modelo &ldquo;Producto&rdquo; que est&eacute; asignado a una tabla de DB2 o lo mismo para una colecci&oacute;n de MongoDB. Lo mejor de todo es que podemos a trav&eacute;s de </span><span class="c3 c12">.populate() </span><span class="c5 c3">conectarnos a diferentes almacenes de datos y adaptadores y configurar un modelo para que resida en una base de datos diferente. Tu modelo o controlador no sufrir&aacute;n ning&uacute;n cambio en el &nbsp;c&oacute;digo.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Adaptadores</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Como la mayor&iacute;a de los frameworks MVC y </span><span class="c3 c12">sails</span><span class="c5 c3">&nbsp;no iba a ser menos, soportan m&uacute;ltiples bases de datos. Esto significa que la sintaxis para manipular o hacer consultas a la base de datos es siempre el mismo, ya sea que est&eacute; trabajando con MySQL, MongoDB o cualquier otra base de datos compatible.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Waterline se basa en la flexibilidad de sus adaptadores. Un adaptador es un pedazo de c&oacute;digo que asigna m&eacute;todos como </span><span class="c3 c12">find()</span><span class="c3">&nbsp;y </span><span class="c3 c12">create()</span><span class="c3">&nbsp;para una sintaxis de bajo nivel como </span><span class="c3 c12">SELECT </span><span class="c3">* </span><span class="c3 c12">FROM</span><span class="c3">&nbsp; y &nbsp;</span><span class="c3 c12">INSERT INTO</span><span class="c3">. El n&uacute;cleo de </span><span class="c3 c12">sails</span><span class="c3">&nbsp;contiene adaptadores de c&oacute;digo abierto de las bases de datos m&aacute;s populares. Tambi&eacute;n una gran cantidad de adaptadores &nbsp;que est&aacute;n disponibles en la </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://www.google.com/url?q%3Dhttps%253A%252F%252Fgithub.com%252Fbalderdashy%252Fsails-docs%252Fblob%252F0.9%252FDatabase-Support.md%26sa%3DD%26sntz%3D1%26usg%3DAFQjCNGamIYDiZwJnMUHjbtJ8ispJ1XIKA&amp;sa=D&amp;ust=1526912178584000">comunidad</a></span><span class="c5 c3">.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Conexiones</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Una conexi&oacute;n representa la configuraci&oacute;n de una base de datos en particular. Este objeto configura un adaptador: el host, puerto, nombre de usuario y contrase&ntilde;a. Las conexiones se definen en </span><span class="c1">config/connections.js</span></p><p class="c2"><span class="c0"></span></p><a id="t.5c92e9693fdd8e48f92c33fe4472ba9fbe24522b"></a><a id="t.70"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c11">// &nbsp;config/connections.js</span><span class="c6"><br></span><span class="c11">// ...</span><span class="c6"><br>{<br> &nbsp;adapter: </span><span class="c13">&#39;sails-mysql&#39;</span><span class="c6">,<br> &nbsp;host: </span><span class="c13">&#39;localhost&#39;</span><span class="c6">,<br> &nbsp;port: </span><span class="c7">3306</span><span class="c6">,<br> &nbsp;user: </span><span class="c13">&#39;root&#39;</span><span class="c6">,<br> &nbsp;password: </span><span class="c13">&#39;70m45_7ur64d0&#39;</span><span class="c6"><br>}<br></span><span class="c45 c11">// ...</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Por defecto la conexi&oacute;n a la base de datos para una aplicaci&oacute;n en </span><span class="c3 c12">sails</span><span class="c3">&nbsp;se encuentra en </span><span class="c3 c12">config/models.js</span><span class="c5 c3">, pero podemos sobreescribir la conexi&oacute;n en un modelo especificando una conexi&oacute;n (connection).</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c41 c3 c12">Analog&iacute;a</span></p><p class="c2"><span class="c41 c3 c12"></span></p><p class="c4"><span class="c5 c3">Imagine un archivador f&iacute;sico lleno de hojas de facturas. Todas las facturas tienen los mismos campos (ej.: n&uacute;mero_de_factura, fecha, nombre_cliente, &nbsp;&hellip; ), pero en cada factura, los valores de estos campos var&iacute;an. Por ejemplo, una factura puede contener &ldquo;100&rdquo;, &ldquo;2015-05-16T21:16:15.127Z&rdquo;, &ldquo;Pedro Manuel&rdquo;, &hellip;</span></p><p class="c4"><span class="c5 c3">mientras que otra factura contiene &ldquo;101&rdquo;, &ldquo;2015-06-16T21:16:15.127Z&rdquo;, &ldquo;Aitor Menta&rdquo;, &hellip;</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Ahora imagine que tiene un negocio de venta de perritos calientes, si es una persona organizada, es posible que establezca los archivos de su negocio de la siguiente manera:</span></p><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_beo0nvieqvft-0 start"><li class="c4 c47 c19"><span class="c3 c12">Empleados</span><span class="c5 c3">&nbsp;(contiene los registros de los empleados)</span></li></ul><ul class="c10 lst-kix_beo0nvieqvft-1 start"><li class="c4 c34"><span class="c5 c3">nombreCompleto</span></li><li class="c4 c34"><span class="c5 c3">salario</span></li><li class="c4 c34"><span class="c5 c3">numeroTelefono</span></li></ul><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_beo0nvieqvft-0"><li class="c4 c47 c19"><span class="c3 c12">Ubicaciones</span><span class="c5 c3">&nbsp;(contiene las ubicaciones en las que se trabaja)</span></li></ul><ul class="c10 lst-kix_beo0nvieqvft-1 start"><li class="c4 c34"><span class="c5 c3">direccion</span></li><li class="c4 c34"><span class="c5 c3">ciudad</span></li><li class="c4 c34"><span class="c5 c3">codigoPostal</span></li><li class="c4 c34"><span class="c5 c3">compras</span></li></ul><ul class="c10 lst-kix_beo0nvieqvft-2 start"><li class="c4 c25"><span class="c5 c3">listado de todas las compras hechas en esta ubicaci&oacute;n</span></li></ul><ul class="c10 lst-kix_beo0nvieqvft-1"><li class="c4 c34"><span class="c5 c3">empleado</span></li></ul><ul class="c10 lst-kix_beo0nvieqvft-2 start"><li class="c4 c25"><span class="c5 c3">el empleado que gestiona esta ubicaci&oacute;n</span></li></ul><p class="c2 c19"><span class="c5 c3"></span></p><ul class="c10 lst-kix_beo0nvieqvft-0"><li class="c4 c47 c19"><span class="c3 c12">Compras</span><span class="c5 c3">&nbsp;(contiene los registros de cada compra hecha por un cliente) </span></li></ul><ul class="c10 lst-kix_beo0nvieqvft-1 start"><li class="c4 c34"><span class="c5 c3">ubicacionCompra</span></li><li class="c4 c34"><span class="c5 c3">productosComprados</span></li><li class="c4 c34"><span class="c5 c3">fechaCompra</span></li></ul><p class="c2 c19"><span class="c5 c3"></span></p><ul class="c10 lst-kix_beo0nvieqvft-0"><li class="c4 c47 c19"><span class="c3 c12">Productos</span><span class="c5 c3">&nbsp;(contiene los registros de cada producto)</span></li></ul><ul class="c10 lst-kix_beo0nvieqvft-1 start"><li class="c4 c34"><span class="c5 c3">nombre</span></li><li class="c4 c34"><span class="c5 c3">precio</span></li><li class="c4 c34"><span class="c5 c3">numeroCalorias</span></li><li class="c4 c34"><span class="c5 c3">porcentajeCarne</span></li><li class="c4 c34"><span class="c5 c3">disponible</span></li></ul><ul class="c10 lst-kix_beo0nvieqvft-2 start"><li class="c4 c25"><span class="c5 c3">listado de las ubicaciones donde este producto est&aacute; disponible</span></li></ul><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">En su aplicaci&oacute;n, un modelo ser&aacute; como un archivador que uno o muchos archivos, ya sean de empleados, facturas de compras, etc. Los atributos son los campos que contiene cada archivo, todos los archivo de un archivador tienen los mismos campos pero con diferentes valores.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Nota: </span><span class="c3 c27">Esta documentaci&oacute;n no ser&aacute; aplicable si reemplazas el ORM que trae consigo </span><span class="c3 c12 c27">Sails</span><span class="c39 c3 c33 c27">, (Waterline).</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c41 c3 c12">Asociaciones / Relaciones</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Con </span><span class="c3 c12">Sails</span><span class="c3">&nbsp;y </span><span class="c3 c12">Waterline</span><span class="c5 c3">, puede asociar modelos a trav&eacute;s de m&uacute;ltiples bases de datos. Esto significa que si los los datos de usuarios residen en una base de datos PostgreSQL y las fotograf&iacute;as de estos usuarios residen en una base de datos MongoDB, puede interactuar con los datos como si la ubicaci&oacute;n de los usuarios y las fotos estuvieran en la misma base de datos.</span></p><p class="c4"><span class="c5 c3">Tambi&eacute;n puede hacer que las asociaciones abarquen diferentes conexiones usando el mismo adaptador. Esto es muy &uacute;til, si su aplicaci&oacute;n necesita acceso o actualizar los datos almacenados en una base de datos MySQL que tenga f&iacute;sicamente en su empresa o negocio, pero tambi&eacute;n guardar o recuperar datos desde otra base de datos MySQL pero esta vez ubicada en la nube.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c41 c3 c12">Dominaci&oacute;n</span></p><p class="c2 c15"><span class="c41 c3 c12"></span></p><p class="c4 c15"><span class="c5 c3">Veamos un ejemplo algo peculiar. Donde tenemos un modelo que reside en una base de datos</span></p><p class="c4 c15"><span class="c5 c3">MySQL y otro modelo en una base de datos Redis. Entre ellos queremos crear una relaci&oacute;n de </span></p><p class="c4 c15"><span class="c5 c3">muchos-a-muchos.</span></p><p class="c2 c15"><span class="c5 c3"></span></p><p class="c2"><span class="c0"></span></p><a id="t.9d44766b52e1e33f3eeff124d259c3fb344b0d8c"></a><a id="t.71"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c48 c43"><span class="c11">// Usuario.js</span><span class="c6"><br>module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br> &nbsp;connection: </span><span class="c13">&#39;BD_MySQL&#39;</span><span class="c6">,<br> &nbsp;attributes: {<br> &nbsp; &nbsp;email: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp;wishlist: {<br> &nbsp; &nbsp; &nbsp;collection: </span><span class="c13">&#39;producto&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;via: </span><span class="c13">&#39;wishlistedBy&#39;</span><span class="c6"><br> &nbsp; &nbsp;}<br> &nbsp;}<br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c0"></span></p><a id="t.f53cfb32f4226f22391cd0173457f3eaeff975ae"></a><a id="t.72"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c48 c43"><span class="c11">// Producto.js</span><span class="c6"><br>module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br> &nbsp;connection: </span><span class="c13">&#39;BD_Redis&#39;</span><span class="c6">,<br> &nbsp;attributes: {<br> &nbsp; &nbsp;name: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp;wishlistedBy: {<br> &nbsp; &nbsp; &nbsp;collection: </span><span class="c13">&#39;usuario&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;via: </span><span class="c13">&#39;wishlist&#39;</span><span class="c6"><br> &nbsp; &nbsp;}<br> &nbsp;}<br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c41 c3 c12"></span></p><p class="c2 c15"><span class="c41 c3 c12"></span></p><p class="c4 c15"><span class="c5 c3">Es f&aacute;cil saber lo que est&aacute; pasando en esta relaci&oacute;n de muchos-a-muchos (many-to-many) donde</span></p><p class="c4 c15"><span class="c5 c3">usuarios y productos est&aacute;n relacionados. De hecho, se ha puesto este ejemplo pero podr&iacute;a ser otro</span></p><p class="c4 c15"><span class="c5 c3">cualquiera.</span></p><p class="c4 c15"><span class="c3">Ahora surge la pregunta &hellip; &iquest;D&oacute;nde reside el recurso de la relaci&oacute;n </span><span class="c3 c12">Producto-Usuario</span><span class="c5 c3">? Sabemos </span></p><p class="c4 c15"><span class="c5 c3">que en un lugar o en otro va a estar, pero qu&eacute; pasa si queremos controlar la base de datos en la que</span></p><p class="c4 c15"><span class="c5 c3">va a residir el recurso. </span></p><p class="c2 c15"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c5 c3">Para una posible soluci&oacute;n podr&iacute;amos especificar una tercera conexi&oacute;n o adaptador para la uni&oacute;n de los</span></p><p class="c4 c15"><span class="c5 c3">dos modelos. Por ahora, nos centraremos cual de los dos lados sea el que predomine.</span></p><p class="c2 c15"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c3">Para ello nos centramos en el concepto de &ldquo;</span><span class="c3 c12">posici&oacute;n dominante</span><span class="c5 c3">&rdquo;. En cualquier cruce &nbsp;de modelos </span></p><p class="c4 c15"><span class="c5 c3">relacionados, uno de los lados ha de dominar. Para entenderlo mejor, imagine un matrimonio donde</span></p><p class="c4 c15"><span class="c5 c3">el hombre tiene la nacionalidad Espa&ntilde;ola y la mujer la nacionalidad Francesa, al tener un hijo, este, </span></p><p class="c4 c15"><span class="c5 c3">podr&aacute; escoger a qu&eacute; nacionalidad quiere pertenecer.</span></p><p class="c2 c15"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c5 c3">Volviendo al ejemplo anterior, pero en esta ocasi&oacute;n estableceremos la base de datos MySQL como la </span></p><p class="c4 c15"><span class="c5 c3">dominante. Esto significa que la relaci&oacute;n Producto-Usuario se almacenar&aacute; como una tabla MySQL.</span></p><p class="c2 c15"><span class="c5 c3"></span></p><p class="c2"><span class="c0"></span></p><a id="t.d31e1baeb35ada19eea860737db9890c58e3967e"></a><a id="t.73"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c43 c134"><span class="c11">// Usuario.js</span><span class="c6"><br>module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br> &nbsp;connection: </span><span class="c13">&#39;BD_MySQL&#39;</span><span class="c6">,<br> &nbsp;attributes: {<br> &nbsp; &nbsp;email: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp;wishlist: {<br> &nbsp; &nbsp; &nbsp;collection: </span><span class="c13">&#39;producto&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;via: </span><span class="c13">&#39;wishlistedBy&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;dominant: </span><span class="c7">true</span><span class="c6 c45"><br> &nbsp; &nbsp;}<br> &nbsp;}<br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c0"></span></p><a id="t.f53cfb32f4226f22391cd0173457f3eaeff975ae"></a><a id="t.74"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c48 c43"><span class="c11">// Producto.js</span><span class="c6"><br>module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br> &nbsp;connection: </span><span class="c13">&#39;BD_Redis&#39;</span><span class="c6">,<br> &nbsp;attributes: {<br> &nbsp; &nbsp;name: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp;wishlistedBy: {<br> &nbsp; &nbsp; &nbsp;collection: </span><span class="c13">&#39;usuario&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;via: </span><span class="c13">&#39;wishlist&#39;</span><span class="c6"><br> &nbsp; &nbsp;}<br> &nbsp;}<br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c41 c3 c12">La elecci&oacute;n de una tabla como &ldquo;dominante&rdquo;</span></p><p class="c4"><span class="c3 c12 c55">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c3">Existen varios factores que influyen a la hora de tomar la decisi&oacute;n de elegir como dominante una</span></p><p class="c4"><span class="c5 c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabla:</span></p><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_5wibt4kf5001-0 start"><li class="c4 c34"><span class="c5 c3">Si la base de datos es SQL, la relaci&oacute;n nos permite que las consultas sean m&aacute;s eficientes, ya que las relaciones se pueden unir antes de que otro lado se comunique. Esto reduce el n&uacute;mero de consultas requeridas de 3 a 2.</span></li></ul><p class="c4"><span class="c5 c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><ul class="c10 lst-kix_k7cvqq8ohnqa-0 start"><li class="c4 c34"><span class="c5 c3">Si una conexi&oacute;n a la base de datos es m&aacute;s r&aacute;pida que otras, esas otras tendr&aacute;n la misma igualdad de condiciones, por ello tiene sentido establecer la dominante a la conexi&oacute;n m&aacute;s r&aacute;pida.</span></li></ul><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_665pdbwbvds7-0 start"><li class="c4 c34"><span class="c5 c3">Si una de las conexiones a la base de datos es de solo lectura, es una buena elecci&oacute;n establecerla como dominante.</span></li></ul><p class="c2"><span class="c5 c3"></span></p><p class="c2 c15"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c3 c12">&iquest;Que pasa si una colecci&oacute;n no tiene la propiedad &ldquo;</span><span class="c3 c12 c27">via</span><span class="c1">&rdquo;?</span></p><p class="c4 c19"><span class="c5 c3">Si una asociaci&oacute;n de una colecci&oacute;n no tiene la propiedad &ldquo;via&rdquo;, autom&aacute;ticamente se establece como dominante.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c3 c12">&iquest;Que ocurre si ninguno de las colecciones tienen la propiedad &ldquo;</span><span class="c3 c12 c27">via</span><span class="c1">&rdquo;?</span></p><p class="c4 c19"><span class="c5 c3">Entonces las colecciones no tienen relaci&oacute;n, Ambas son dominante, ya que son tablas de relaciones separadas.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c1">&iquest;Que ocurre con las asociaciones de modelo?</span></p><p class="c4 c19"><span class="c5 c3">En todos los otros tipos de asociaciones, la propiedad dominante no est&aacute; permitida. La configuraci&oacute;n de un lado como dominante solo es necesaria para asociaciones entre dos modelos que tengan una propiedad o atributo: { via: &lsquo;...&rsquo;, collection: &lsquo;...&rsquo; } en ambos lados.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c1">&iquest;Pueden ser ambos modelos dominante?</span></p><p class="c4 c19"><span class="c5 c3">No. Si ambos modelos en una conexi&oacute;n cruzada con relaci&oacute;n de muchos-a-muchos se establecen como dominantes, se produce un error antes de que empiece a correr el servidor o nuestra aplicaci&oacute;n.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c1">&iquest;Que ocurre si ambos modelos no son dominantes?</span></p><p class="c4 c19"><span class="c5 c3">Si ninguno de los modelos en una conexi&oacute;n cruzada con relaci&oacute;n de muchos-a-muchos no tiene establecida la propiedad dominante, se produce una advertencia al iniciar el servidor y autom&aacute;ticamente bas&aacute;ndose en las caracter&iacute;sticas de la relaci&oacute;n establece a un modelo la propiedad dominante, tomando esa decisi&oacute;n por orden alfab&eacute;tico.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c41 c3 c12">Relaciones de Muchos-a-Muchos</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c1">Visi&oacute;n de conjunto</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c5 c3">Una asociaci&oacute;n de muchos-a-muchos establece que un modelo se puede asociar a muchos otros modelos y viceversa. Debido a que ambos modelos pueden tener muchos modelos relacionados, se deber&aacute; crear una nueva tabla que realice la uni&oacute;n entre ellos.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c5 c3">Waterline analizar&aacute; los modelos en busca de asociaciones y autom&aacute;ticamente construir&aacute; esa tabla de uni&oacute;n por nosotros.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c5 c3">Veamos un ejemplo, donde construimos un esquema de usuarios y otro de mascotas, en donde un usuario podr&aacute; tener muchos registros de mascotas y una mascota varios usuarios.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c1">Ejemplo de muchos-a-muchos</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c3">En este ejemplo, iniciamos con un </span><span class="c3 c27">array</span><span class="c3">&nbsp;de usuarios y un </span><span class="c3 c27">array</span><span class="c5 c3">&nbsp;de mascotas. Creamos los registros para cada elemento de cada array, luego asociamos todas las mascotas con todos los usuarios.</span></p><p class="c4 c19"><span class="c5 c3">Si todo funciona correctamente, nosotros podremos realizar una consulta a cualquier usuario y ver todas las mascotas que tiene. Por otra parte, tambi&eacute;n se podr&aacute; consultar una mascota y ver los usuarios que tienen asociada esta mascota.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c3">myApp/api/models/Mascota.js</span></p><a id="t.a155d3579e477fafaba894e59491a3ed12a79a3e"></a><a id="t.75"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c24 c43"><span class="c6">module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br><br> &nbsp; &nbsp;attributes: {<br> &nbsp; &nbsp; &nbsp; &nbsp;name:</span><span class="c13">&#39;STRING&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; &nbsp;color:</span><span class="c13">&#39;STRING&#39;</span><span class="c6">,<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c11">// A&ntilde;adimos referencia a Usuario</span><span class="c6"><br> &nbsp; &nbsp; &nbsp; &nbsp;usuarios: {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;collection: </span><span class="c13">&#39;usuario&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;via: </span><span class="c13">&#39;mascotas&#39;</span><span class="c6 c45"><br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c5 c3">myApp/api/models/Usuario.js</span></p><a id="t.6532c7de2b79659fb5fcad5b079ca17455c74a0a"></a><a id="t.76"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c24 c43"><span class="c6">module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br><br> &nbsp; &nbsp;attributes: {<br> &nbsp; &nbsp; &nbsp; &nbsp;name:</span><span class="c13">&#39;STRING&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; &nbsp;age:</span><span class="c13">&#39;STRING&#39;</span><span class="c6">,<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c11">// A&ntilde;adimos referencia a Mascota</span><span class="c6"><br> &nbsp; &nbsp; &nbsp; &nbsp;mascotas: {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;collection: </span><span class="c13">&#39;mascota&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;via: </span><span class="c13">&#39;usuarios&#39;</span><span class="c6 c45"><br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c4"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5 c3">myApp/config/bootstrap.js</span></p><a id="t.2f42edd5343caa45e8100d034fbefae844b47965"></a><a id="t.77"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c48 c43"><span class="c6">module.exports.bootstrap </span><span class="c17">=</span><span class="c6">&nbsp;</span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(cb) {<br><br></span><span class="c11">// despu&eacute;s de crear los usuarios, almacenamos en esta variable las asociaciones con las mascotas</span><span class="c6"><br></span><span class="c17">var</span><span class="c6">&nbsp;usuariosAlmacenados </span><span class="c17">=</span><span class="c6">&nbsp;[]; <br><br></span><span class="c17">var</span><span class="c6">&nbsp;usuarios </span><span class="c17">=</span><span class="c6">&nbsp;[{name:</span><span class="c13">&#39;Miguel&#39;</span><span class="c6">,age:</span><span class="c13">&#39;16&#39;</span><span class="c6">},{name:</span><span class="c13">&#39;Pedro&#39;</span><span class="c6">,age:</span><span class="c13">&#39;25&#39;</span><span class="c6">},{name:</span><span class="c13">&#39;Gabriel&#39;</span><span class="c6">,age:</span><span class="c13">&#39;107&#39;</span><span class="c6">}];<br></span><span class="c17">var</span><span class="c6">&nbsp;ponis </span><span class="c17">=</span><span class="c6">&nbsp;[{ name: </span><span class="c13">&#39;Dedo Gordo&#39;</span><span class="c6">, color: </span><span class="c13">&#39;rosa&#39;</span><span class="c6">},{ name: </span><span class="c13">&#39;Arco Iris&#39;</span><span class="c6">,color: </span><span class="c13">&#39;azul&#39;</span><span class="c6">},{ name: </span><span class="c13">&#39;Manzana Negra&#39;</span><span class="c6">, color: </span><span class="c13">&#39;naranja&#39;</span><span class="c6">}]<br><br></span><span class="c11">// Construye la asociaci&oacute;n.</span><span class="c6"><br></span><span class="c11">// A la funci&oacute;n se le pasa un &nbsp;poni, que itera a trav&eacute;s del array de los usuarios recientemente creados, uniendo cada uno de estos a una tabla.</span><span class="c6"><br></span><span class="c63 c33">var</span><span class="c6">&nbsp;</span><span class="c42 c33">associate</span><span class="c6">&nbsp;</span><span class="c17">=</span><span class="c6">&nbsp;</span><span class="c17">function</span><span class="c6">(unPony, cb){<br> &nbsp;</span><span class="c17">var</span><span class="c6">&nbsp;thisPoni </span><span class="c17">=</span><span class="c6">&nbsp;unPony;<br> &nbsp;</span><span class="c17">var</span><span class="c6">&nbsp;callback </span><span class="c17">=</span><span class="c6">&nbsp;cb;<br><br> &nbsp;usuariosAlmacenados.</span><span class="c17">forEach</span><span class="c6">(</span><span class="c17">function</span><span class="c6">(thisUsuario, index){<br> &nbsp; &nbsp;console.</span><span class="c91">log</span><span class="c6">(</span><span class="c13">&#39;Asociando &#39;</span><span class="c6">, thisPoni.name, </span><span class="c13">&#39;con&#39;</span><span class="c6">, thisUsuario.name);<br> &nbsp; &nbsp;thisUsuario.mascotas.add(thisPoni.id);<br> &nbsp; &nbsp;thisUsuario.save(console.log);<br><br> &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(index </span><span class="c17">===</span><span class="c6">&nbsp;usuariosAlmacenados.</span><span class="c91">length</span><span class="c17">-</span><span class="c7">1</span><span class="c6">)<br> &nbsp; &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;callback(thisPoni.name);<br> &nbsp;})<br>};<br><br><br></span><span class="c11">// Esta devoluci&oacute;n de llamada se ejecuta despu&eacute;s de que todas las mascotas sean creadas.</span><span class="c6"><br></span><span class="c11">// Se env&iacute;a cada nueva mascota a la funci&oacute;n &ldquo;associate&rdquo; con los usuarios. &nbsp;</span><span class="c6"><br></span><span class="c63 c33">var</span><span class="c6">&nbsp;</span><span class="c42 c33">afterPony</span><span class="c6">&nbsp;</span><span class="c17">=</span><span class="c6">&nbsp;</span><span class="c17">function</span><span class="c6">(err, nuevoPoni){<br> &nbsp;</span><span class="c17">while</span><span class="c6">&nbsp;(nuevoPoni.</span><span class="c91">length</span><span class="c6">){<br> &nbsp; &nbsp;</span><span class="c17">var</span><span class="c6">&nbsp;thisPoni </span><span class="c17">=</span><span class="c6">&nbsp;nuevoPoni.pop();<br> &nbsp; &nbsp;</span><span class="c63 c33">var</span><span class="c6">&nbsp;</span><span class="c42 c33">callback</span><span class="c6">&nbsp;</span><span class="c17">=</span><span class="c6">&nbsp;</span><span class="c17">function</span><span class="c6">(poniID){<br> &nbsp; &nbsp; &nbsp;console.</span><span class="c91">log</span><span class="c6">(</span><span class="c13">&lsquo;Asociacion terminada para el poni: &rsquo;</span><span class="c6">,poniID)<br> &nbsp; &nbsp;}<br> &nbsp; &nbsp;associate(thisPoni, callback)<br> &nbsp;}<br> &nbsp;console.</span><span class="c91">log</span><span class="c6">(</span><span class="c13">&#39;Todos pertenecen a todos!! Saliendo.&#39;</span><span class="c6">);<br><br> &nbsp;</span><span class="c11">// Esta devoluci&oacute;n de llamada nos permite dejar que bootstrap.js contin&uacute;e ejecutando nuestra aplicaci&oacute;n!</span><span class="c6"><br> &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;cb();<br>};<br><br></span><span class="c11">// Esta devoluci&oacute;n de llamada se ejecuta despu&eacute;s de que todos los usuarios sean creados.</span><span class="c6"><br></span><span class="c11">// Retorna el usuario y lo guarda en el array usuariosAlmacenados para usarlo posteriormente.</span><span class="c6"><br></span><span class="c63 c33">var</span><span class="c6">&nbsp;</span><span class="c42 c33">afterUser</span><span class="c6">&nbsp;</span><span class="c17">=</span><span class="c6">&nbsp;</span><span class="c17">function</span><span class="c6">(err, nuevoUsuario){<br> &nbsp;</span><span class="c17">while</span><span class="c6">&nbsp;(nuevoUsuario.</span><span class="c91">length</span><span class="c6">)<br> &nbsp; &nbsp;usuariosAlmacenados.</span><span class="c91">push</span><span class="c6">(nuevoUsuario.pop());<br><br> &nbsp;Mascota.create(ponis).exec(afterPony)<br>};<br><br><br>Usuario.create(usuarios).exec(afterUser)<br><br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c3">A continuaci&oacute;n ejecutamos nuestra aplicaci&oacute;n con </span><span class="c1">sails console</span></p><p class="c4"><span class="c41 c3 c12">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c4"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><a id="t.1234a927b6b05c6c70349008675d49ffd48e313a"></a><a id="t.78"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c148" colspan="1" rowspan="1"><p class="c24"><span class="c5 c20">Asociando &nbsp;Manzana Negra con Gabriel</span></p><p class="c24"><span class="c5 c20">Asociando &nbsp;Manzana Negra con Pedro</span></p><p class="c24"><span class="c5 c20">Asociando &nbsp;Manzana Negra con Miguel</span></p><p class="c24"><span class="c5 c20">Asociacion terminada para el poni: &nbsp;Manzana Negra</span></p><p class="c24"><span class="c5 c20">Asociando &nbsp;Arco Iris con Gabriel</span></p><p class="c24"><span class="c5 c20">Asociando &nbsp;Arco Iris con Pedro</span></p><p class="c24"><span class="c5 c20">Asociando &nbsp;Arco Iris con Miguel</span></p><p class="c24"><span class="c5 c20">Asociacion terminada para el poni: &nbsp;Arco Iris</span></p><p class="c24"><span class="c5 c20">Asociando &nbsp;Dedo Gordo con Gabriel</span></p><p class="c24"><span class="c5 c20">Asociando &nbsp;Dedo Gordo con Pedro</span></p><p class="c24"><span class="c5 c20">Asociando &nbsp;Dedo Gordo con Miguel</span></p><p class="c24"><span class="c5 c20">Asociacion terminada para el poni: &nbsp;Dedo Gordo</span></p><p class="c24"><span class="c5 c20">Todos pertenecen a todos!! Saliendo.</span></p><p class="c24"><span class="c5 c20">info: Welcome to the Sails console.</span></p><p class="c24"><span class="c5 c20">info: ( to exit, type &lt;CTRL&gt;+&lt;C&gt; )</span></p><p class="c24 c32"><span class="c5 c20"></span></p><p class="c24"><span class="c5 c20">sails&gt; null { mascotas: </span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp;[ { name: &#39;Dedo Gordo&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;rosa&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 43 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Arco Iris&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;azul&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 44 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Manzana Negra&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;naranja&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 45 } ],</span></p><p class="c24"><span class="c5 c20">&nbsp; name: &#39;Gabriel&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; age: &#39;107&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; createdAt: &#39;2015-06-14T16:58:48.988Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; updatedAt: &#39;2015-06-14T16:58:49.042Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; id: 48 }</span></p><p class="c24"><span class="c5 c20">null { mascotas: </span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp;[ { name: &#39;Dedo Gordo&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;rosa&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 43 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Arco Iris&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;azul&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 44 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Manzana Negra&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;naranja&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 45 } ],</span></p><p class="c24"><span class="c5 c20">&nbsp; name: &#39;Pedro&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; age: &#39;25&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; createdAt: &#39;2015-06-14T16:58:48.982Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; updatedAt: &#39;2015-06-14T16:58:49.045Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; id: 47 }</span></p><p class="c24"><span class="c5 c20">null { mascotas: </span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp;[ { name: &#39;Dedo Gordo&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;rosa&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 43 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Arco Iris&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;azul&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 44 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Manzana Negra&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;naranja&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 45 } ],</span></p><p class="c24"><span class="c5 c20">&nbsp; name: &#39;Miguel&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; age: &#39;16&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; createdAt: &#39;2015-06-14T16:58:48.977Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; updatedAt: &#39;2015-06-14T16:58:49.049Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; id: 46 }</span></p><p class="c24"><span class="c5 c20">null { mascotas: </span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp;[ { name: &#39;Dedo Gordo&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;rosa&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 43 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Arco Iris&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;azul&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 44 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Manzana Negra&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;naranja&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 45 } ],</span></p><p class="c24"><span class="c5 c20">&nbsp; name: &#39;Gabriel&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; age: &#39;107&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; createdAt: &#39;2015-06-14T16:58:48.988Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; updatedAt: &#39;2015-06-14T16:58:49.042Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; id: 48 }</span></p><p class="c24"><span class="c5 c20">null { mascotas: </span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp;[ { name: &#39;Dedo Gordo&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;rosa&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 43 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Arco Iris&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;azul&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 44 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Manzana Negra&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;naranja&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 45 } ],</span></p><p class="c24"><span class="c5 c20">&nbsp; name: &#39;Pedro&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; age: &#39;25&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; createdAt: &#39;2015-06-14T16:58:48.982Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; updatedAt: &#39;2015-06-14T16:58:49.045Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; id: 47 }</span></p><p class="c24"><span class="c5 c20">null { mascotas: </span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp;[ { name: &#39;Dedo Gordo&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;rosa&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 43 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Arco Iris&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;azul&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 44 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Manzana Negra&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;naranja&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 45 } ],</span></p><p class="c24"><span class="c5 c20">&nbsp; name: &#39;Miguel&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; age: &#39;16&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; createdAt: &#39;2015-06-14T16:58:48.977Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; updatedAt: &#39;2015-06-14T16:58:49.049Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; id: 46 }</span></p><p class="c24"><span class="c5 c20">null { mascotas: </span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp;[ { name: &#39;Dedo Gordo&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;rosa&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 43 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Arco Iris&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;azul&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 44 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Manzana Negra&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;naranja&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 45 } ],</span></p><p class="c24"><span class="c5 c20">&nbsp; name: &#39;Gabriel&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; age: &#39;107&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; createdAt: &#39;2015-06-14T16:58:48.988Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; updatedAt: &#39;2015-06-14T16:58:49.042Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; id: 48 }</span></p><p class="c24"><span class="c5 c20">null { mascotas: </span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp;[ { name: &#39;Dedo Gordo&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;rosa&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 43 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Arco Iris&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;azul&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 44 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Manzana Negra&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;naranja&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 45 } ],</span></p><p class="c24"><span class="c5 c20">&nbsp; name: &#39;Pedro&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; age: &#39;25&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; createdAt: &#39;2015-06-14T16:58:48.982Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; updatedAt: &#39;2015-06-14T16:58:49.045Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; id: 47 }</span></p><p class="c24"><span class="c5 c20">null { mascotas: </span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp;[ { name: &#39;Dedo Gordo&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;rosa&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.995Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 43 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Arco Iris&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;azul&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.997Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 44 },</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp;{ name: &#39;Manzana Negra&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;color: &#39;naranja&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;createdAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;updatedAt: &#39;2015-06-14T16:58:48.999Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; &nbsp; &nbsp; &nbsp;id: 45 } ],</span></p><p class="c24"><span class="c5 c20">&nbsp; name: &#39;Miguel&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; age: &#39;16&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; createdAt: &#39;2015-06-14T16:58:48.977Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; updatedAt: &#39;2015-06-14T16:58:49.049Z&#39;,</span></p><p class="c24"><span class="c5 c20">&nbsp; id: 46 }</span></p><p class="c24 c32"><span class="c5 c20"></span></p><p class="c24 c32"><span class="c5 c20"></span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c41 c3 c12">Asociando en una sola direcci&oacute;n</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c1">Visi&oacute;n de conjunto</span></p><p class="c2 c19"><span class="c1"></span></p><p class="c4 c19"><span class="c5 c3">Una asociaci&oacute;n de sentido &uacute;nico, es un modelo donde se asocia con otro modelo. Puede realizar una consulta a ese modelo y obtener su modelo asociado. Sin embargo no se puede consultar el modelo asociado y obtener el modelo que lo asocia.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c1">Ejemplo</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c5 c3">Entenderemos mejor todo esto con un ejemplo. En este ejemplo, asociaremos un Usuario con una Mascota, pero no una Mascota con un Usuario.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c5 c3">myApp/api/models/Mascota.js</span></p><a id="t.0e9010f8bc273a2df1d7022bd5d931e9090d6cbf"></a><a id="t.79"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c24 c43"><span class="c6">module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br><br> &nbsp; &nbsp;attributes: {<br> &nbsp; &nbsp; &nbsp; &nbsp;name:</span><span class="c13">&#39;STRING&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; &nbsp;color:</span><span class="c13">&#39;STRING&#39;</span><span class="c6 c45">,<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c5 c3">myApp/api/models/Usuario.js</span></p><a id="t.f691bbf6a04c37ff12644d797279698759d55fbf"></a><a id="t.80"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c24 c43"><span class="c6">module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br><br> &nbsp; &nbsp;attributes: {<br> &nbsp; &nbsp; &nbsp; &nbsp;name:</span><span class="c13">&#39;STRING&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; &nbsp;age:</span><span class="c13">&#39;STRING&#39;</span><span class="c6">,<br><br> &nbsp; &nbsp; &nbsp; &nbsp;poni: {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;model: </span><span class="c13">&#39;Mascota&#39;</span><span class="c6 c45"><br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c3">Ejecutamos </span><span class="c3 c12">sails console</span></p><p class="c2 c15"><span class="c5 c3"></span></p><a id="t.66df63debdb90f36116db560dfc2f1e65564f6de"></a><a id="t.81"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c48 c43"><span class="c6">sails</span><span class="c17">&gt;</span><span class="c6">&nbsp;Mascota.create({name:</span><span class="c13">&#39;Dedo Gordo&#39;</span><span class="c6">, color:</span><span class="c13">&#39;rosa&#39;</span><span class="c6">}).exec(console.log)<br></span><span class="c7">null</span><span class="c6">&nbsp;{ name: </span><span class="c13">&#39;Dedo Gordo&#39;</span><span class="c6">,<br> &nbsp;color: </span><span class="c13">&#39;rosa&#39;</span><span class="c6">,<br> &nbsp;createdAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">15</span><span class="c6">:</span><span class="c7">45</span><span class="c6">:</span><span class="c7">33</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp;updatedAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">15</span><span class="c6">:</span><span class="c7">45</span><span class="c6">:</span><span class="c7">33</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp;id: </span><span class="c7">5</span><span class="c6">&nbsp;}<br><br>sails</span><span class="c17">&gt;</span><span class="c6">&nbsp;Usuario.create({name:</span><span class="c13">&#39;Miguel&#39;</span><span class="c6">, age:</span><span class="c7">21</span><span class="c6">, poni:</span><span class="c7">5</span><span class="c6">}).exec(console.log);<br></span><span class="c7">null</span><span class="c6">&nbsp;{ name: </span><span class="c13">&#39;Miguel&#39;</span><span class="c6">,<br> &nbsp;age: </span><span class="c7">21</span><span class="c6">,<br> &nbsp;poni: </span><span class="c7">5</span><span class="c6">,<br> &nbsp;createdAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">15</span><span class="c6">:</span><span class="c7">48</span><span class="c6">:</span><span class="c7">53</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp;updatedAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">15</span><span class="c6">:</span><span class="c7">48</span><span class="c6">:</span><span class="c7">53</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp;id: </span><span class="c7">1</span><span class="c6">&nbsp;}<br><br>sails</span><span class="c17">&gt;</span><span class="c6">&nbsp;Usuario.find({name:</span><span class="c13">&#39;Miguel&#39;</span><span class="c6">}).populate(</span><span class="c13">&#39;poni&#39;</span><span class="c6">).exec(console.log);<br></span><span class="c7">null</span><span class="c6">&nbsp;[ { name: </span><span class="c13">&#39;Miguel&#39;</span><span class="c6">,<br> &nbsp; &nbsp;age: </span><span class="c7">21</span><span class="c6">,<br> &nbsp; &nbsp;pony: <br> &nbsp; &nbsp; { name: </span><span class="c13">&#39;Dedo Gordo&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; color: </span><span class="c13">&#39;rosa&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; id: </span><span class="c7">5</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; createdAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">15</span><span class="c6">:</span><span class="c7">45</span><span class="c6">:</span><span class="c7">33</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp; &nbsp; updatedAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">15</span><span class="c6">:</span><span class="c7">45</span><span class="c6">:</span><span class="c7">33</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST) },<br> &nbsp; &nbsp;createdAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">15</span><span class="c6">:</span><span class="c7">48</span><span class="c6">:</span><span class="c7">53</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;updatedAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">15</span><span class="c6">:</span><span class="c7">48</span><span class="c6">:</span><span class="c7">53</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;id: </span><span class="c7">1</span><span class="c6 c45">&nbsp;} ]</span></p><p class="c24 c43 c32"><span class="c6 c45"></span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c5 c3">Hemos formado una asociaci&oacute;n en uno de los modelos, con lo cual una mascota no tiene restricciones en el n&uacute;mero de Usuarios al que puede pertenecer.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c41 c3 c12">Uno-a-Muchos</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c1">Visi&oacute;n de conjunto</span></p><p class="c2 c19"><span class="c1"></span></p><p class="c4 c19"><span class="c3">Las asociaciones de uno-a-muchos afirma que &nbsp;un modelo se puede asociar a muchos otros modelos. Para construir esta asociaci&oacute;n es necesario a&ntilde;adir un atributo a un modelo usando la propiedad </span><span class="c3 c12">collection</span><span class="c5 c3">. </span></p><p class="c4 c19"><span class="c3">En una asociaci&oacute;n de uno-a-muchos uno de los lados ha de tener un atributo </span><span class="c3 c12">collection </span><span class="c5 c3">y el otro lado ha de contener un atributo con el nombre del modelo que lo asocia.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c3 c12">Ejemplo</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c5 c3">myApp/api/models/Mascota.js</span></p><a id="t.9bfc19277973c3099e1f4dcce278f6a6b79aebfc"></a><a id="t.82"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c24 c43"><span class="c6">module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br><br> &nbsp; &nbsp;attributes: {<br> &nbsp; &nbsp; &nbsp; &nbsp;name:</span><span class="c13">&#39;STRING&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; &nbsp;color:</span><span class="c13">&#39;STRING&#39;</span><span class="c6 c45">,</span></p><p class="c24 c43"><span class="c6 c45">&nbsp; &nbsp; &nbsp; &nbsp; propietario: {</span></p><p class="c24 c43"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; model: </span><span class="c13 c45">&lsquo;Usuario&rsquo;</span></p><p class="c24 c43"><span class="c6 c45">&nbsp; &nbsp; &nbsp; &nbsp; }<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c5 c3">myApp/api/models/Usuario.js</span></p><a id="t.dc0ac344318ac1689e9c6a061e7519100e074560"></a><a id="t.83"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c24 c43"><span class="c6">module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br><br> &nbsp; &nbsp;attributes: {<br> &nbsp; &nbsp; &nbsp; &nbsp;name:</span><span class="c13">&#39;STRING&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; &nbsp;age:</span><span class="c13">&#39;STRING&#39;</span><span class="c6">,<br><br> &nbsp; &nbsp; &nbsp; &nbsp;mascotas: {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;collection: </span><span class="c13 c45">&#39;Mascota&#39;,</span></p><p class="c24 c43"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; via: </span><span class="c13">&lsquo;propietario&rsquo;</span><span class="c6 c45"><br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c3">Ejecutamos </span><span class="c3 c12">sails console</span></p><p class="c2 c15"><span class="c5 c3"></span></p><a id="t.9101c17b4c53ce079ea0a099a3b7c84ca541d68b"></a><a id="t.84"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c48 c43"><span class="c6">sails</span><span class="c17">&gt;</span><span class="c6">&nbsp;Usuario.create({name:</span><span class="c13">&#39;Miguel&#39;</span><span class="c6">, age:</span><span class="c13">&#39;21&#39;</span><span class="c6">}).exec(console.log)<br></span><span class="c7">null</span><span class="c6">&nbsp;{ mascotas: [Getter/Setter],<br> &nbsp;name: </span><span class="c13">&#39;Miguel&#39;</span><span class="c6">,<br> &nbsp;age: </span><span class="c7">21</span><span class="c6">,<br> &nbsp;createdAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">49</span><span class="c6">:</span><span class="c7">04</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp;updatedAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">49</span><span class="c6">:</span><span class="c7">04</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp;id: </span><span class="c7">1</span><span class="c6">&nbsp;}<br><br>sails</span><span class="c17">&gt;</span><span class="c6">&nbsp;Mascota.create({name:</span><span class="c13">&#39;Dedo Gordo&#39;</span><span class="c6">, color:</span><span class="c13">&#39;rosa&#39;</span><span class="c6">, propietario:</span><span class="c7">1</span><span class="c6">}).exec(console.log)<br></span><span class="c7">null</span><span class="c6">&nbsp;{ name: </span><span class="c13">&#39;Dedo Gordo&#39;</span><span class="c6">,<br> &nbsp; &nbsp;color: </span><span class="c13">&#39;rosa&#39;</span><span class="c6">,<br> &nbsp; &nbsp;propietario: </span><span class="c7">1</span><span class="c6">,<br> &nbsp; &nbsp;createdAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">58</span><span class="c6">:</span><span class="c7">04</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;updatedAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">58</span><span class="c6">:</span><span class="c7">04</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;id: </span><span class="c7">2</span><span class="c6">&nbsp;}<br><br>sails</span><span class="c17">&gt;</span><span class="c6">&nbsp;Mascota.create({name:</span><span class="c13">&#39;Manzana Negra&#39;</span><span class="c6">, color:</span><span class="c13">&#39;naranja&#39;</span><span class="c6">, propietario:</span><span class="c7">1</span><span class="c6">}).exec(console.log)<br></span><span class="c7">null</span><span class="c6">&nbsp;{ name: </span><span class="c13">&#39;Manzana Negra&#39;</span><span class="c6">,<br> &nbsp; &nbsp;color: </span><span class="c13">&#39;Naranja&#39;</span><span class="c6">,<br> &nbsp; &nbsp;propietario: </span><span class="c7">1</span><span class="c6">,<br> &nbsp; &nbsp;createdAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">18</span><span class="c6">:</span><span class="c7">02</span><span class="c6">:</span><span class="c7">58</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;updatedAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">18</span><span class="c6">:</span><span class="c7">02</span><span class="c6">:</span><span class="c7">58</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;id: </span><span class="c7">4</span><span class="c6">&nbsp;}<br><br>sails</span><span class="c17">&gt;</span><span class="c6">&nbsp;Usuario.find().populate(</span><span class="c13">&#39;mascotas&#39;</span><span class="c6">).exec(</span><span class="c17">function</span><span class="c6">(err,r){console.</span><span class="c91">log</span><span class="c6">(r[</span><span class="c7">0</span><span class="c6">].toJSON())});<br>{ mascotas: <br> &nbsp; [ { name: </span><span class="c13">&#39;Dedo Gordo&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; color: </span><span class="c13">&#39;rosa&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; id: </span><span class="c7">2</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; createdAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">58</span><span class="c6">:</span><span class="c7">04</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp; &nbsp; updatedAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">58</span><span class="c6">:</span><span class="c7">04</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp; &nbsp; propietario: </span><span class="c7">1</span><span class="c6">&nbsp;},<br> &nbsp; &nbsp; { name: </span><span class="c13">&#39;Manzana Negra&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; color: </span><span class="c13">&#39;naranja&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; id: </span><span class="c7">4</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; createdAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">18</span><span class="c6">:</span><span class="c7">02</span><span class="c6">:</span><span class="c7">58</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp; &nbsp; updatedAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">18</span><span class="c6">:</span><span class="c7">02</span><span class="c6">:</span><span class="c7">58</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp; &nbsp; propietario: </span><span class="c7">1</span><span class="c6">&nbsp;} ],<br> &nbsp;name: </span><span class="c13">&#39;Miguel&#39;</span><span class="c6">,<br> &nbsp;age: </span><span class="c7">21</span><span class="c6">,<br> &nbsp;createdAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">49</span><span class="c6">:</span><span class="c7">04</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp;updatedAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">49</span><span class="c6">:</span><span class="c7">04</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp;id: </span><span class="c7">1</span><span class="c6">&nbsp;}<br><br>sails</span><span class="c17">&gt;</span><span class="c6">&nbsp;Mascota.find(</span><span class="c7">4</span><span class="c6">).populate(</span><span class="c13">&#39;propietario&#39;</span><span class="c6">).exec(console.log)<br></span><span class="c7">null</span><span class="c6">&nbsp;[ { name: </span><span class="c13">&#39;Manzana Negra&#39;</span><span class="c6">,<br> &nbsp; &nbsp;color: </span><span class="c13">&#39;naranja&#39;</span><span class="c6">,<br> &nbsp; &nbsp;propietario: <br> &nbsp; &nbsp; { mascotas: [Getter/Setter],<br> &nbsp; &nbsp; &nbsp; name: </span><span class="c13">&#39;Miguel&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; age: </span><span class="c7">21</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; id: </span><span class="c7">1</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; createdAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">49</span><span class="c6">:</span><span class="c7">04</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp; &nbsp; updatedAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">49</span><span class="c6">:</span><span class="c7">04</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST) },<br> &nbsp; &nbsp;createdAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">18</span><span class="c6">:</span><span class="c7">02</span><span class="c6">:</span><span class="c7">58</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;updatedAt: Tue Feb </span><span class="c7">11</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">18</span><span class="c6">:</span><span class="c7">02</span><span class="c6">:</span><span class="c7">58</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;id: </span><span class="c7">4</span><span class="c6 c45">&nbsp;} ]</span></p><p class="c24 c43 c32"><span class="c6 c45"></span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c41 c3 c12">Uno-a-Uno</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c1">Visi&oacute;n de conjunto</span></p><p class="c2 c19"><span class="c1"></span></p><p class="c4 c19"><span class="c3">Las asociaciones uno-a-uno asumen que un modelo solo se puede relacionar con otro modelo. Para que un modelo sepa que est&aacute; asociado con otro modelo, se debe incluir en los registros un </span><span class="c39 c3 c33 c27">foreign key.</span></p><p class="c2 c19"><span class="c39 c3 c33 c27"></span></p><p class="c4 c19"><span class="c3 c12">Ejemplo</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c5 c3">En este ejemplo asociamos una mascota a un usuario. El usuario s&oacute;lo puede tener una mascota asociada y una mascota s&oacute;lo puede tener un usuario asociado. Sin embargo, &nbsp;a la hora de realizar una consulta la podemos realizar de cualquiera de los dos lados, crear o actualizar ambos modelos.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c5 c3">myApp/api/models/Mascota.js</span></p><a id="t.9bfc19277973c3099e1f4dcce278f6a6b79aebfc"></a><a id="t.85"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c24 c43"><span class="c6">module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br><br> &nbsp; &nbsp;attributes: {<br> &nbsp; &nbsp; &nbsp; &nbsp;name:</span><span class="c13">&#39;STRING&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; &nbsp;color:</span><span class="c13">&#39;STRING&#39;</span><span class="c6 c45">,</span></p><p class="c24 c43"><span class="c6 c45">&nbsp; &nbsp; &nbsp; &nbsp; propietario: {</span></p><p class="c24 c43"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; model: </span><span class="c13 c45">&lsquo;Usuario&rsquo;</span></p><p class="c24 c43"><span class="c6 c45">&nbsp; &nbsp; &nbsp; &nbsp; }<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c5 c3">myApp/api/models/Usuario.js</span></p><a id="t.14153845783f6cad66581dc47ffabda7f0cfa9cf"></a><a id="t.86"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c24 c43"><span class="c6">module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br><br> &nbsp; &nbsp;attributes: {<br> &nbsp; &nbsp; &nbsp; &nbsp;name:</span><span class="c13">&#39;STRING&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; &nbsp;age:</span><span class="c13">&#39;STRING&#39;</span><span class="c6">,<br><br> &nbsp; &nbsp; &nbsp; &nbsp;poni: {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;model: </span><span class="c13">&#39;Mascota&#39;,</span><span class="c6 c45"><br> &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c3">Ejecutamos </span><span class="c3 c12">sails console</span></p><p class="c2 c15"><span class="c5 c3"></span></p><a id="t.2ce9144abf2d3369016e1ff0857033ff47ddc340"></a><a id="t.87"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c48 c43"><span class="c6">sails</span><span class="c17">&gt;</span><span class="c6">&nbsp;Usuario.create({ name: </span><span class="c13">&#39;Miguel&#39;</span><span class="c6">, age: </span><span class="c7">21</span><span class="c6">}).exec(console.log);<br></span><span class="c7">null</span><span class="c6">&nbsp;{ name: </span><span class="c13">&#39;Miguel&#39;</span><span class="c6">,<br> &nbsp;age: </span><span class="c7">21</span><span class="c6">,<br> &nbsp;createdAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">12</span><span class="c6">:</span><span class="c7">18</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp;updatedAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">12</span><span class="c6">:</span><span class="c7">18</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp;id: </span><span class="c7">1</span><span class="c6">&nbsp;}<br><br>sails</span><span class="c17">&gt;</span><span class="c6">&nbsp;Mascota.create({ name: </span><span class="c13">&#39;Dedo Gordo&#39;</span><span class="c6">, color: </span><span class="c13">&#39;rosa&#39;</span><span class="c6">, propietario: </span><span class="c7">1</span><span class="c6">}).exec(console.log)<br></span><span class="c7">null</span><span class="c6">&nbsp;{ name: </span><span class="c13">&#39;Dedo Gordo&#39;</span><span class="c6">,<br> &nbsp; &nbsp;color: </span><span class="c13">&#39;rosa&#39;</span><span class="c6">,<br> &nbsp; &nbsp;owner: </span><span class="c7">1</span><span class="c6">,<br> &nbsp; &nbsp;createdAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">26</span><span class="c6">:</span><span class="c7">16</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;updatedAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">26</span><span class="c6">:</span><span class="c7">16</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;id: </span><span class="c7">2</span><span class="c6">&nbsp;}<br><br>sails</span><span class="c17">&gt;</span><span class="c6">&nbsp;Mascota.find().populate(</span><span class="c13">&#39;propietario&#39;</span><span class="c6">).exec(console.log)<br></span><span class="c7">null</span><span class="c6">&nbsp;[ { name: </span><span class="c13">&#39;Dedo Gordo&#39;</span><span class="c6">,<br> &nbsp; &nbsp;color: </span><span class="c13">&#39;rosa&#39;</span><span class="c6">,<br> &nbsp; &nbsp;propietario: <br> &nbsp; &nbsp; { name: </span><span class="c13">&#39;Miguel&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; age: </span><span class="c7">21</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; id: </span><span class="c7">1</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; createdAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">12</span><span class="c6">:</span><span class="c7">18</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp; &nbsp; updatedAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">12</span><span class="c6">:</span><span class="c7">18</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST) },<br> &nbsp; &nbsp;createdAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">26</span><span class="c6">:</span><span class="c7">16</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;updatedAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">26</span><span class="c6">:</span><span class="c7">16</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;id: </span><span class="c7">2</span><span class="c6">&nbsp;} ]<br><br>sails</span><span class="c17">&gt;</span><span class="c6">&nbsp;Usuario.find().populate(</span><span class="c13">&#39;poni&#39;</span><span class="c6">).exec(console.log)<br></span><span class="c7">null</span><span class="c6">&nbsp;[ { name: </span><span class="c13">&#39;Miguel&#39;</span><span class="c6">,<br> &nbsp; &nbsp;age: </span><span class="c7">21</span><span class="c6">,<br> &nbsp; &nbsp;createdAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">18</span><span class="c6">:</span><span class="c7">11</span><span class="c6">:</span><span class="c7">15</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;updatedAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">18</span><span class="c6">:</span><span class="c7">11</span><span class="c6">:</span><span class="c7">15</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;id: </span><span class="c7">2</span><span class="c6">,<br> &nbsp; &nbsp;poni: undefined } ]<br><br>sails</span><span class="c17">&gt;</span><span class="c6">&nbsp;Usuario.update({name:</span><span class="c13">&#39;Miguel&#39;</span><span class="c6">},{poni:</span><span class="c7">2</span><span class="c6">}).exec(console.log)<br></span><span class="c7">null</span><span class="c6">&nbsp;[ { name: </span><span class="c13">&#39;Miguel&#39;</span><span class="c6">,<br> &nbsp; &nbsp;age: </span><span class="c7">21</span><span class="c6">,<br> &nbsp; &nbsp;createdAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">12</span><span class="c6">:</span><span class="c7">18</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;updatedAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">30</span><span class="c6">:</span><span class="c7">58</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp;id: </span><span class="c7">1</span><span class="c6">,<br> &nbsp; &nbsp;poni: </span><span class="c7">2</span><span class="c6">&nbsp;} ]<br><br>sails</span><span class="c17">&gt;</span><span class="c6">&nbsp;Usuario.findOne(</span><span class="c7">1</span><span class="c6">).populate(</span><span class="c13">&#39;poni&#39;</span><span class="c6">).exec(console.log)<br></span><span class="c7">null</span><span class="c6">&nbsp;{ name: </span><span class="c13">&#39;Miguel&#39;</span><span class="c6">,<br> &nbsp;age: </span><span class="c7">21</span><span class="c6">,<br> &nbsp;createdAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">12</span><span class="c6">:</span><span class="c7">18</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp;updatedAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">30</span><span class="c6">:</span><span class="c7">58</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp;id: </span><span class="c7">1</span><span class="c6">,<br> &nbsp;poni: <br> &nbsp; { name: </span><span class="c13">&#39;Dedo Gordo&#39;</span><span class="c6">,<br> &nbsp; &nbsp; color: </span><span class="c13">&#39;rosa&#39;</span><span class="c6">,<br> &nbsp; &nbsp; id: </span><span class="c7">2</span><span class="c6">,<br> &nbsp; &nbsp; createdAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">26</span><span class="c6">:</span><span class="c7">16</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp; updatedAt: Thu Feb </span><span class="c7">20</span><span class="c6">&nbsp;</span><span class="c7">2014</span><span class="c6">&nbsp;</span><span class="c7">17</span><span class="c6">:</span><span class="c7">26</span><span class="c6">:</span><span class="c7">16</span><span class="c6">&nbsp;GMT</span><span class="c17">-</span><span class="c7">0600</span><span class="c6">&nbsp;(CST),<br> &nbsp; &nbsp; propietario: </span><span class="c7">1</span><span class="c6 c45">&nbsp;} }</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12 c55">Atributos</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Los atributos son piezas b&aacute;sicas de informaci&oacute;n acerca de un modelo. Un modelo, puede contener atributos como, nombre, apellidos, tel&eacute;fono, edad, email, etc&hellip;</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Opciones de los atributos</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Las opciones que veremos a continuaci&oacute;n se pueden utilizar para hacer cumplir limitaciones y a&ntilde;adir mejoras a los atributos del modelo..</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3 c12">type: </span><span class="c5 c3">Especifica el tipo de dato que podr&aacute; almacenar el atributo, de los cuales podemos optar por los siguientes</span></p><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_ae2kguhc9rtx-0 start"><li class="c4 c47 c19"><span class="c5 c3">string</span></li><li class="c4 c47 c19"><span class="c5 c3">text</span></li><li class="c4 c47 c19"><span class="c5 c3">integer</span></li><li class="c4 c47 c19"><span class="c5 c3">float</span></li><li class="c4 c47 c19"><span class="c5 c3">date</span></li><li class="c4 c47 c19"><span class="c5 c3">datetime</span></li><li class="c4 c47 c19"><span class="c5 c3">boolean</span></li><li class="c4 c47 c19"><span class="c5 c3">binary</span></li><li class="c4 c47 c19"><span class="c5 c3">array</span></li><li class="c4 c47 c19"><span class="c5 c3">json</span></li><li class="c4 c47 c19"><span class="c5 c3">email</span></li></ul><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3 c12">defaultsTo: </span><span class="c5 c3">Cuando se crea un nuevo registro en la base de datos, es posible que alg&uacute;n campo no se le est&eacute; suministrando un valor externamente, pero es posible que queramos que cuando ocurra esto se le asigne un valor por defecto, para ello haremos uso de esta opci&oacute;n.</span></p><p class="c2"><span class="c0"></span></p><a id="t.83c9b913c33b073be45045e8ce2ffc0dcb8642f0"></a><a id="t.88"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">attributes: {<br> &nbsp;phoneNumber: {<br> &nbsp; &nbsp;type: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp;defaultsTo: </span><span class="c13">&#39;111-222-3333&#39;</span><span class="c6"><br> &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">autoIncrement: </span><span class="c5 c3">Establece el atributo como una key auto-incremental. Cuando se a&ntilde;ade un nuevo registro al modelo, si no se especifica un valor para este atributo, se incrementa en uno tomando como par&aacute;metro el &uacute;ltimo valor de los registros creados anteriormente, si no existe se establece en 1. </span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c3 c12">Importante! </span><span class="c3">Al atributo que especifiquemos &ldquo;autoIncrement&rdquo;, deber&aacute; ser siempre de tipo </span><span class="c3 c12">integer</span><span class="c5 c3">. Ten en cuenta tambi&eacute;n, que si la base de datos con la que est&aacute;s trabajando con este modelo es MySQL, has de saber que este no permite que dos columnas tengan la key &ldquo;auto-incremental&rdquo; </span></p><p class="c2"><span class="c0"></span></p><a id="t.ef062ab4f30c24ab80015d83726cea1bcc5a0acf"></a><a id="t.89"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">attributes: {<br> &nbsp;codigo: {<br> &nbsp; &nbsp;type: </span><span class="c13">&#39;integer&#39;</span><span class="c6">,<br> &nbsp; &nbsp;autoIncrement:</span><span class="c7">&nbsp;true</span><span class="c6"><br> &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">unique: </span><span class="c5 c3">Se asegura de que dos registros no contengan el mismo valor. Esta es una restricci&oacute;n a nivel de adaptador (MySql, MongoDB, ...) con lo que se &nbsp;crea un &iacute;ndice &uacute;nico en la base de datos.</span></p><p class="c2"><span class="c0"></span></p><a id="t.6051c8efb5d37af2e10fb87af3dfc745cfb0c1da"></a><a id="t.90"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">attributes: {<br> &nbsp;username: {<br> &nbsp; &nbsp;type: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp;unique: </span><span class="c7">true</span><span class="c6"><br> &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">primaryKey: </span><span class="c3">Usa este atributo como la clave principal. S&oacute;lo un atributo por modelo puede ser primaryKey. </span><span class="c3 c12">Cuidado! </span><span class="c3">Nunca debes utilizar primaryKey si no tienes autoPK establecido a </span><span class="c3 c12">false</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.7a0168509f368f8edd9ec55a17335a25a4864d64"></a><a id="t.91"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">attributes: {<br> &nbsp;uuid: {<br> &nbsp; &nbsp;type: </span><span class="c13">&#39;string&#39;</span><span class="c6 c45">,</span></p><p class="c49 c43"><span class="c6">&nbsp; &nbsp; primaryKey: </span><span class="c7">true</span><span class="c6">,<br> &nbsp; &nbsp;required: </span><span class="c7">true</span><span class="c6"><br> &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">enum: </span><span class="c5 c3">Atribuye validaci&oacute;n especial, solo guarda los datos, que coinciden con una serie de valores estipulados en un array.</span></p><p class="c2"><span class="c0"></span></p><a id="t.05d75637b79dcf2d71b71538a22d088a670dcaa4"></a><a id="t.92"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">attributes: {<br> &nbsp;estado: {<br> &nbsp; &nbsp;type: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp;enum: [</span><span class="c13">&#39;Pendiente&#39;</span><span class="c6">, </span><span class="c13">&#39;Aprovado&#39;</span><span class="c6">, </span><span class="c13">&#39;Denegado&#39;</span><span class="c6">]<br> &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">size: </span><span class="c3">Es soportado por el adaptador, puedes usarlo para definir el tama&ntilde;o del atributo, por ejemplo en MySQL se especifica como n&uacute;mero: </span><span class="c3 c12">varchar(n)</span><span class="c5 c3">.</span></p><p class="c2"><span class="c0"></span></p><a id="t.7cc4dd0434af7224c06e545808b5b17361eb6cfd"></a><a id="t.93"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">attributes: {<br> &nbsp;nombre: {<br> &nbsp; &nbsp;type: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp;size: </span><span class="c7">24</span><span class="c6"><br> &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">columnName: </span><span class="c3">Dentro de una definici&oacute;n de atributo, puede especificar un nombre de columna, para forzar a Sails/Waterline a que almacene los datos de ese atributo en una columna espec&iacute;fica. Esto no es solamente para MySQL, tambi&eacute;n funciona en campos de MongoDB y otros. Mientras que la propiedad </span><span class="c3 c12">columnName</span><span class="c5 c3">&nbsp;est&aacute; dise&ntilde;ada para trabajar con bases de datos heredadas, tambi&eacute;n puede sernos &uacute;til en situaciones en las que la base de datos est&aacute; siendo compartida por otras aplicaciones o en los casos que no tengas permisos para cambiar el esquema de &nbsp;la tabla.</span></p><p class="c2"><span class="c0"></span></p><a id="t.bc74fc355b1101179f8018fb92c7c6260b95c645"></a><a id="t.94"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c11">// Un atributo en uno de tus modelos:</span><span class="c6"><br> &nbsp;</span><span class="c11">// ...</span><span class="c6"><br> &nbsp;numberOfWheels: {<br> &nbsp; &nbsp;type: </span><span class="c13">&#39;integer&#39;</span><span class="c6">,<br> &nbsp; &nbsp;columnName: </span><span class="c13">&#39;number_of_round_rotating_things&#39;</span><span class="c6"><br> &nbsp;}<br> &nbsp;</span><span class="c11">// ...</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Esto es un ejemplo muy sencillo de c&oacute;mo aplicar un nombre de columna a un atributo, pero veamos un caso m&aacute;s real.</span></p><p class="c4"><span class="c5 c3">Digamos que tienes un modelo &ldquo;Usuario&rdquo; en tu aplicaci&oacute;n m&aacute;s o menos similar a este:</span></p><p class="c2"><span class="c0"></span></p><a id="t.298516034defd86eb17a8df1146c4a7c3c72ca4c"></a><a id="t.95"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c11">// api/models/User.js</span><span class="c6"><br>module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br> &nbsp;connection: </span><span class="c13">&#39;shinyNewMySQLDatabase&#39;</span><span class="c6">,<br> &nbsp;attributes: {<br> &nbsp; &nbsp;name: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp;password: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp;email: {<br> &nbsp; &nbsp; &nbsp;type: </span><span class="c13">&#39;email&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;unique: </span><span class="c7">true</span><span class="c6"><br> &nbsp; &nbsp;}<br> &nbsp;}<br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Todo funciona bien, pero en lugar de usar una base de datos MySQL existente, alberga los datos de usuario en alg&uacute;n lugar de Internet:</span></p><p class="c2"><span class="c0"></span></p><a id="t.01914a3f01288272a98712c8a815331417c6df09"></a><a id="t.96"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c11">// config/connections.js</span><span class="c6"><br>module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br> &nbsp;</span><span class="c11">// ...</span><span class="c6"><br><br> &nbsp;</span><span class="c11">// Los Usuarios existentes se encuentran aqui!</span><span class="c6"><br> &nbsp;rustyOldMySQLDatabase: {<br> &nbsp; &nbsp;adapter: </span><span class="c13">&#39;sails-mysql&#39;</span><span class="c6">,<br> &nbsp; &nbsp;user: </span><span class="c13">&#39;bofh&#39;</span><span class="c6">,<br> &nbsp; &nbsp;host: </span><span class="c13">&#39;db.eleven.sameness.foo&#39;</span><span class="c6">,<br> &nbsp; &nbsp;password: </span><span class="c13">&#39;Gh19R!?had9gzQ#%AdsghaDABAMR&gt;##G&lt;ADMRH@)$(HTOGNAGNBI@&#39;</span><span class="c6">,<br> &nbsp; &nbsp;database: </span><span class="c13">&#39;jonas&#39;</span><span class="c6"><br> &nbsp;},<br> &nbsp;</span><span class="c11">// ...</span><span class="c6"><br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c0">Imaginemos que en esta base de datos encontramos una tabla llamada &ldquo;nuestros_usuarios&rdquo; que tiene un aspecto como este:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.1453b9036a73df2603c565dfa1f06fd822bc2df4"></a><a id="t.97"></a><table class="c52"><tbody><tr class="c22"><td class="c110 c114" colspan="1" rowspan="1"><p class="c31 c43"><span class="c0">the_primary_key</span></p></td><td class="c110 c132" colspan="1" rowspan="1"><p class="c31 c43"><span class="c0">email_address</span></p></td><td class="c144 c110" colspan="1" rowspan="1"><p class="c31 c43"><span class="c0">full_name</span></p></td><td class="c110 c118" colspan="1" rowspan="1"><p class="c31 c43"><span class="c0">seriously_encrypted_password</span></p></td></tr><tr class="c22"><td class="c114" colspan="1" rowspan="1"><p class="c31 c43"><span class="c0">7</span></p></td><td class="c132" colspan="1" rowspan="1"><p class="c31 c43"><span class="c0">toni@gmial.com</span></p></td><td class="c144" colspan="1" rowspan="1"><p class="c31 c43"><span class="c0">Tomas Turbado</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c31 c43"><span class="c0">ranchdressing</span></p></td></tr><tr class="c22"><td class="c114" colspan="1" rowspan="1"><p class="c31 c43"><span class="c0">14</span></p></td><td class="c132" colspan="1" rowspan="1"><p class="c31 c43"><span class="c0">aitor@menta.com</span></p></td><td class="c144" colspan="1" rowspan="1"><p class="c31 c43"><span class="c0">Aitor Menta Fuerte</span></p></td><td class="c118" colspan="1" rowspan="1"><p class="c31 c43"><span class="c0">thousandisland</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Para utilizar esto desde Sails, cambiar&iacute;amos nuestro modelo a algo parecido a esto:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.d4c89b57f088572c018f453bc1a9789eeaf7660c"></a><a id="t.98"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c11">// api/models/User.js</span><span class="c6"><br>module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br> &nbsp;connection: </span><span class="c13">&#39;rustyOldMySQLDatabase&#39;</span><span class="c6">,<br> &nbsp;tableName: </span><span class="c13">&#39;nuestros_usuarios&#39;</span><span class="c6">,<br> &nbsp;attributes: {<br> &nbsp; &nbsp;id: {<br> &nbsp; &nbsp; &nbsp;type: </span><span class="c13">&#39;integer&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;unique: </span><span class="c7">true</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;primaryKey: </span><span class="c7">true</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;columnName: </span><span class="c13">&#39;the_primary_key&#39;</span><span class="c6"><br> &nbsp; &nbsp;},<br> &nbsp; &nbsp;name: {<br> &nbsp; &nbsp; &nbsp;type: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;columnName: </span><span class="c13">&#39;full_name&#39;</span><span class="c6"><br> &nbsp; &nbsp;},<br> &nbsp; &nbsp;password: {<br> &nbsp; &nbsp; &nbsp;type: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;columnName: </span><span class="c13">&#39;seriously_encrypted_password&#39;</span><span class="c6"><br> &nbsp; &nbsp;},<br> &nbsp; &nbsp;email: {<br> &nbsp; &nbsp; &nbsp;type: </span><span class="c13">&#39;email&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;unique: </span><span class="c7">true</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;columnName: </span><span class="c13">&#39;email_address&#39;</span><span class="c6"><br> &nbsp; &nbsp;}<br> &nbsp;}<br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Habr&aacute;s notado, que usamos la propiedad tableName en este ejemplo. Indicamos el nombre de la tabla donde se guardar&aacute;n nuestros datos.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Ciclo de vida de los Callbacks</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Sails pone a disposici&oacute;n algunas retrollamadas (callbacks) en los modelos que se ejecutan autom&aacute;ticamente antes o despu&eacute;s de ciertas acciones. Por ejemplo, algunas veces utilizamos un callback para encriptar un password antes de crear o modificar un registro de nuestro modelo.</span></p><p class="c2"><span class="c0"></span></p><h5 class="c76" id="h.a2x1acql7br9"><span class="c1">Callbacks (on create) Al Crear</span></h5><p class="c2"><span class="c18 c146"><a class="c16" href="https://www.google.com/url?q=http://sailsjs.org/%23/documentation/concepts/ORM/Lifecyclecallbacks.html?q%3Dcallbacks-on-create&amp;sa=D&amp;ust=1526912178681000"></a></span></p><ul class="c10 lst-kix_ljr4eepmgt5w-0 start"><li class="c59 c43 c47 c19"><span class="c5 c3">beforeValidate: fn(values, cb)</span></li><li class="c59 c43 c47 c19"><span class="c5 c3">afterValidate: fn(values, cb)</span></li><li class="c59 c43 c47 c19"><span class="c5 c3">beforeCreate: fn(values, cb)</span></li><li class="c59 c43 c47 c19"><span class="c5 c3">afterCreate: fn(newlyInsertedRecord, cb)</span></li></ul><h5 class="c76" id="h.txmwt94uz9uc"><span class="c1">Callbacks on update (Al Modificar)</span></h5><p class="c130 c43 c32"><span class="c46 c3 c33"><a class="c16" href="https://www.google.com/url?q=http://sailsjs.org/%23/documentation/concepts/ORM/Lifecyclecallbacks.html?q%3Dcallbacks-on-update&amp;sa=D&amp;ust=1526912178682000"></a></span></p><ul class="c10 lst-kix_70i2e22v5l2-0 start"><li class="c59 c43 c47 c19"><span class="c5 c3">beforeValidate: fn(valuesToUpdate, cb)</span></li><li class="c59 c43 c47 c19"><span class="c5 c3">afterValidate: fn(valuesToUpdate, cb)</span></li><li class="c59 c43 c47 c19"><span class="c5 c3">beforeUpdate: fn(valuesToUpdate, cb)</span></li><li class="c59 c43 c47 c19"><span class="c5 c3">afterUpdate: fn(updatedRecord, cb)</span></li></ul><h5 class="c76" id="h.pqa62r352vib"><span class="c41 c3 c12">Callbacks on destroy (Al Eliminar)</span></h5><p class="c43 c32 c130"><span class="c46 c3 c33"><a class="c16" href="https://www.google.com/url?q=http://sailsjs.org/%23/documentation/concepts/ORM/Lifecyclecallbacks.html?q%3Dcallbacks-on-destroy&amp;sa=D&amp;ust=1526912178683000"></a></span></p><ul class="c10 lst-kix_toppvyk2j46u-0 start"><li class="c59 c43 c47 c19"><span class="c5 c3">beforeDestroy: fn(criteria, cb)</span></li><li class="c59 c43 c47 c19"><span class="c5 c3">afterDestroy: fn(destroyedRecords, cb)</span></li></ul><h3 class="c76 c106" id="h.e3n2pje7wy3p"><span class="c46 c44 c33"></span></h3><h3 class="c76" id="h.iayw91b987vk"><span class="c41 c3 c12">Ejemplo</span></h3><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Si queremos encriptar un password antes de que se guarde un registro en la base de datos, haremos uso del callback </span><span class="c3 c12">beforeCreate()</span><span class="c5 c3">.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.2151ed16a9462b3b7bb9b3c0abae98d88ede6ab4"></a><a id="t.99"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c17">var</span><span class="c6">&nbsp;bcrypt </span><span class="c17">=</span><span class="c6">&nbsp;require(</span><span class="c13">&#39;bcrypt&#39;</span><span class="c6">);<br><br>module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br><br> &nbsp;attributes: {<br><br> &nbsp; &nbsp;username: {<br> &nbsp; &nbsp; &nbsp;type: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;required: </span><span class="c7">true</span><span class="c6"><br> &nbsp; &nbsp;},<br><br> &nbsp; &nbsp;password: {<br> &nbsp; &nbsp; &nbsp;type: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;minLength: </span><span class="c7">6</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;required: </span><span class="c7">true</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;columnName: </span><span class="c13">&#39;encrypted_password&#39;</span><span class="c6"><br> &nbsp; &nbsp;}<br><br> &nbsp;},<br><br><br> &nbsp;</span><span class="c11">// Lifecycle Callbacks</span><span class="c6"><br> &nbsp;</span><span class="c42 c33">beforeCreate</span><span class="c6">: </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(values, cb) {<br><br> &nbsp; &nbsp;</span><span class="c11">// Encrypt password</span><span class="c6"><br> &nbsp; &nbsp;bcrypt.hash(values.password, </span><span class="c7">10</span><span class="c6">, </span><span class="c17">function</span><span class="c6">(err, hash) {<br> &nbsp; &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">(err) </span><span class="c17">return</span><span class="c6">&nbsp;cb(err);<br> &nbsp; &nbsp; &nbsp;values.password </span><span class="c17">=</span><span class="c6">&nbsp;hash;<br> &nbsp; &nbsp; &nbsp;</span><span class="c11">// Si llamamos a cb() con un argumento retorna un error. &Uacute;til para cancelar la operaci&oacute;n si falla algo.</span><span class="c6"><br> &nbsp; &nbsp; &nbsp;cb();<br> &nbsp; &nbsp;});<br> &nbsp;}<br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Modelos</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Un modelo representa una estructura de datos, ya sea en una colecci&oacute;n o tabla. usualmente corresponde a una &uacute;nica tabla o colecci&oacute;n en la base de datos. Los modelos se definen creando un archivo en la carpeta o directorio </span><span class="c1">api/models/</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Utilizando los modelos</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Accedemos a los modelos a trav&eacute;s de los controladores, pol&iacute;ticas, servicios, respuestas, tests y m&eacute;todos personalizados. Existen varios m&eacute;todos incorporados en sails que est&aacute;n disponibles en los modelos, los m&aacute;s importantes son los m&eacute;todos denominados crud: </span><span class="c26 c3 c12">find, create, update</span><span class="c3">&nbsp;y </span><span class="c26 c3 c12">destroy</span><span class="c5 c3">. Estos m&eacute;todos son as&iacute;ncronos, Waterline env&iacute;a una petici&oacute;n y espera una respuesta.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Consecuentemente, los m&eacute;todos de consulta devuelven un objeto deferred. Para ejecutar una consulta, llamamos al objeto .exec(cb), donde </span><span class="c3 c12">cb </span><span class="c5 c3">es la funci&oacute;n callback que corre despu&eacute;s de que la consulta se ha completado.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Waterline tambi&eacute;n incluye soporte para las promesas (promises). En lugar de llamar a la funci&oacute;n .exec(), podemos ejecutar </span><span class="c3 c12">.then()</span><span class="c3">, </span><span class="c3 c12">.spread()</span><span class="c3">&nbsp;o </span><span class="c3 c12">.catch() </span><span class="c3">esto</span><span class="c3 c12">&nbsp;</span><span class="c5 c3">nos devolver&aacute; una respuesta Bluebird promise</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">M&eacute;todos de modelo (est&aacute;ticos o de &nbsp;clase [statics or class])</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Los m&eacute;todos de clase son funciones integradas en el propio modelo, que realizan alguna tarea en particular en sus propios registros. Aqu&iacute; es donde se encuentran los m&eacute;todos CRUD que habitualmente utilizamos para atacar a la base de datos. </span><span class="c3 c12">.create()</span><span class="c3">, </span><span class="c3 c12">.update()</span><span class="c3">, </span><span class="c3 c12">.destroy()</span><span class="c3">, </span><span class="c3 c12">.find()</span><span class="c5 c3">, etc.</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">M&eacute;todos de modelo personalizados</span></p><p class="c2"><span class="c39 c64 c12 c81"></span></p><p class="c4"><span class="c3">Waterline permite definir m&eacute;todos personalizados en nuestros modelos. Esta caracter&iacute;stica se aprovecha de que los modelos en Waterline ignoran las keys que no reconoce, has de tener cuidado de no sobrescribir los m&eacute;todos incorporados en sails (.create(), .find(), etc.) o buscadores din&aacute;micos. Los m&eacute;todos de modelo personalizados son &uacute;tiles para extrapolar el c&oacute;digo de un controlador que se relaciona con un modelo en particular, es decir permite sacar el codigo de los controladores en funciones reusables a los que podemos llamar desde cualquier sitio (con lo que no dependen de los objetos </span><span class="c3 c12">req</span><span class="c3">&nbsp;o </span><span class="c3 c12">res</span><span class="c5 c3">).</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Los m&eacute;todos de modelo son generalmente funciones as&iacute;ncronas. Por convecci&oacute;n los m&eacute;todos as&iacute;ncronos deben ser funciones de tipo 2-ary, estos aceptan un objeto como primer argumento (usualmente llamados </span><span class="c3 c12">opts</span><span class="c3">&nbsp;o </span><span class="c3 c12">options</span><span class="c5 c3">) y un callback como segundo argumento. Tambi&eacute;n puedes optar por devolver una promesa. Ambas estrategias funcionan igual de bien, el utilizar una u otra es cuesti&oacute;n de preferencia, si no tienes preferencia sigue utilizando los callbacks.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Una buena pr&aacute;ctica es escribir tu propio m&eacute;todo de modelo est&aacute;tico, de modo que este pueda aceptar un registro o el valor de la clave principal (primaryKey). Para que los modelos operen en varios registros a la vez, debes pasarle una tabla de registros o un array de valores de clave principal. </span></p><p class="c4"><span class="c5 c3">Esto hace que nuestro m&eacute;todo tenga m&aacute;s l&iacute;neas de c&oacute;digo de lo normal, pero a la vez, nos queda un m&eacute;todo m&aacute;s robusto. Y ya que estas haciendo esto para extrapolar la l&oacute;gica, vale la pena el esfuerzo.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Por ejemplo:</span></p><p class="c2"><span class="c0"></span></p><a id="t.7e5eb56b56cd885802ad87b2b74950c5b861e1b0"></a><a id="t.100"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c6 c45">// &nbsp;api/models/Monkey.js...<br><br>// Encuentra monos con el mismo nombre que la persona especificada</span></p><p class="c48 c43"><span class="c6"><br>findWithSameNameAsPerson: </span><span class="c33 c97">function</span><span class="c6 c45">&nbsp;(opts, cb) {<br><br> &nbsp;var person = opts.person;<br><br> &nbsp;/* Antes de nada, chekea si el valor es primary key o en su lugar fu&eacute; pasado un objeto, si es as&iacute;, entonces buscamos<br> &nbsp; * la persona de la que estamos comparando con los monos<br> &nbsp; */</span></p><p class="c48 c43"><span class="c6 c45">&nbsp; /* Funci&oacute;n de auto-llamada */</span></p><p class="c24 c43"><span class="c6 c45"><br> &nbsp;(function _lookupPersonIfNecessary(afterLookup){<br> &nbsp; &nbsp;if (typeof person === &#39;object&#39;)) return afterLookup(null, person);<br> &nbsp; &nbsp;Person.findOne(person).exec(afterLookup);<br> &nbsp;})(function (err, person){<br> &nbsp; &nbsp;if (err) return cb(err);<br> &nbsp; &nbsp;if (!person) {<br> &nbsp; &nbsp; &nbsp;err = new Error();<br> &nbsp; &nbsp; &nbsp;err.message = require(&#39;util&#39;).format(&#39;No se han encontrado monos con el mismo nombre de persona w/ id=%s porque la persona no existe.&#39;, person);<br> &nbsp; &nbsp; &nbsp;err.status = 404;<br> &nbsp; &nbsp; &nbsp;return cb(err);<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;Monkey.findByName(person.name)<br> &nbsp; &nbsp;.exec(function (err, monkeys){<br> &nbsp; &nbsp; &nbsp;if (err) return cb(err);<br> &nbsp; &nbsp; &nbsp;cb(null, monkeys);<br> &nbsp; &nbsp;})<br> &nbsp;});<br><br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Ahora podemos...</span></p><p class="c2"><span class="c0"></span></p><a id="t.a8c90497a9979b6f4f4c69f961ad3418c1f2edc3"></a><a id="t.101"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Monkey.findWithSameNameAsPerson(albus, </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(err, monkeys) { ... });<br></span><span class="c11">// -o-</span><span class="c6"><br>Monkey.findWithSameNameAsPerson(</span><span class="c7">37</span><span class="c6">, </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(err, monkeys) { ... });</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Otro ejemplo:</span></p><p class="c2"><span class="c0"></span></p><a id="t.d62a36eb888915516d9a7e78d8c77b28e3d6784a"></a><a id="t.102"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c11">// api/models/User.js</span><span class="c6"><br>module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br><br> &nbsp;attributes: {<br><br> &nbsp; &nbsp;name: {<br> &nbsp; &nbsp; &nbsp;type: </span><span class="c13">&#39;string&#39;</span><span class="c6"><br> &nbsp; &nbsp;},<br> &nbsp; &nbsp;enrolledIn: {<br> &nbsp; &nbsp; &nbsp;collection: </span><span class="c13">&#39;Course&#39;</span><span class="c6">, via: </span><span class="c13">&#39;students&#39;</span><span class="c6"><br> &nbsp; &nbsp;}<br> &nbsp;},<br><br> &nbsp;</span><span class="c11">/**<br> &nbsp; * Registra a un usuario en uno o m&aacute;s cursos<br> &nbsp; * @param &nbsp;{Object} &nbsp; options<br> &nbsp; * &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; courses {Array} list of course ids<br> &nbsp; * &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;=&gt; id {Integer} id of the enrolling user<br> &nbsp; * @param &nbsp;{Function} cb<br> &nbsp; */</span><span class="c6"><br> &nbsp;</span><span class="c42 c33">enroll</span><span class="c6">: </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(options, cb) {<br><br> &nbsp; &nbsp;User.findOne(options.id).exec(</span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(err, theUser) {<br> &nbsp; &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(err) </span><span class="c17">return</span><span class="c6">&nbsp;cb(err);<br> &nbsp; &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(</span><span class="c17">!</span><span class="c6">theUser) </span><span class="c17">return</span><span class="c6">&nbsp;cb(</span><span class="c17">new</span><span class="c6">&nbsp;</span><span class="c42 c33">Error</span><span class="c6">(</span><span class="c13">&#39;User not found.&#39;</span><span class="c6 c45">));<br> &nbsp; &nbsp; &nbsp;theUser.enrolledIn.add(options.courses);<br> &nbsp; &nbsp; &nbsp;theUser.save(cb);<br> &nbsp; &nbsp;});<br> &nbsp;}<br>};</span></p><p class="c49 c43 c32"><span class="c6 c45"></span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">M&eacute;todos de Atributo</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c5 c3">Un m&eacute;todo de atributo es una funci&oacute;n que se encuentra disponible en los registros, podr&iacute;amos decir que es una instancia del modelo. Por ejemplo, si tu quieres buscar o encontrar los diez estudiantes con mejor nota en el modelo Estudiante, cada uno de estos registros tendr&aacute; acceso a los m&eacute;todos de atributos incorporados o que deseemos incorporar.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c1">Construyendo m&eacute;todos de atributos</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c5 c3">Cada modelo incluye unos m&eacute;todos por defecto, a saber:</span></p><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_nd89m1hvvn3x-0 start"><li class="c4 c47 c19"><span class="c5 c3">.toJSON()</span></li><li class="c4 c47 c19"><span class="c5 c3">.save()</span></li><li class="c4 c47 c19"><span class="c5 c3">.destroy()</span></li><li class="c4 c47 c19"><span class="c5 c3">.validate()</span></li></ul><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c1">M&eacute;todos de atributo personalizables</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c5 c3">Los modelos de Waterlines, tambi&eacute;n permiten definir sus propios m&eacute;todos de atributo personalizado, los definiremos como &nbsp;cualquier otro atributo, &nbsp;escribiendo una funci&oacute;n al lado del nombre del atributo.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.fbca22b3c6613fc50b5f8d096f33c1d26c1de159"></a><a id="t.103"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c6 c45">// &nbsp;api/models/Person.js...<br><br>module.exports = {<br> &nbsp;attributes: {<br> &nbsp; &nbsp;// Primitive attributes<br> &nbsp; &nbsp;firstName: {<br> &nbsp; &nbsp; &nbsp;type: &#39;string&#39;,<br> &nbsp; &nbsp; &nbsp;defaultsTo: &#39;&#39;<br> &nbsp; &nbsp;},<br> &nbsp; &nbsp;lastName: {<br> &nbsp; &nbsp; &nbsp;type: &#39;string&#39;,<br> &nbsp; &nbsp; &nbsp;defaultsTo: &#39;&#39;<br> &nbsp; &nbsp;},<br><br> &nbsp; &nbsp;// Associations (aka relational attributes)<br> &nbsp; &nbsp;spouse: { model: &#39;Person&#39; },<br> &nbsp; &nbsp;pets: { collection: &#39;Pet&#39; },<br><br> &nbsp; &nbsp;// Attribute methods<br> &nbsp; &nbsp;getFullName: function (){<br> &nbsp; &nbsp; &nbsp;return this.firstName + &#39; &#39; + this.lastName;<br> &nbsp; &nbsp;},<br> &nbsp; &nbsp;isMarried: function () {<br> &nbsp; &nbsp; &nbsp;return !!this.spouse;<br> &nbsp; &nbsp;},<br> &nbsp; &nbsp;isEligibleForSocialSecurity: function (){<br> &nbsp; &nbsp; &nbsp;return this.age &gt;= 65;<br> &nbsp; &nbsp;},<br> &nbsp; &nbsp;encryptPassword: function () {<br><br> &nbsp; &nbsp;}<br> &nbsp;}<br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Ten presente que a excepci&oacute;n de .save() y .destroy(), los dem&aacute;s atributos/m&eacute;todo ser&aacute;n siempre s&iacute;ncronos por convecci&oacute;n.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Cuando debemos escribir un atributo / m&eacute;todo personalizado?</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c5 c3">Los atributos/m&eacute;todos son &uacute;tiles a la hora de extraer informaci&oacute;n de un registro. Por ejemplo mirando el c&oacute;digo de ejemplo anterior podr&iacute;amos pedir informaci&oacute;n al registro de la siguiente manera:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.708952694913e9221c17796a0798e9bdeeffa1ff"></a><a id="t.104"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c17">if</span><span class="c6">&nbsp;( rick.isMarried() ) {<br> &nbsp;</span><span class="c11">// ...</span><span class="c6 c45"><br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Cuando NO escribir un atributo / m&eacute;todo personalizado ? </span></p><p class="c4"><span class="c5 c3">Evita escribir tus propios m&eacute;todos de atributos as&iacute;ncronos. A veces pueden tener consecuencias no deseadas y no es la forma m&aacute;s adecuada de construir tu aplicaci&oacute;n. </span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c79 c3 c135 c12 c81">Waterline Query Language (Lenguaje de consulta)</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">&ldquo;Waterline Query Language&rdquo; &nbsp;es un lenguaje basado en objetos utilizados para recuperar los registros de cualquier adaptador (recuerda que los adaptadores son los encargados de mantener comunicaci&oacute;n entre nuestra aplicaci&oacute;n y las bases de datos MySQL, MongoDB, etc.).</span></p><p class="c4"><span class="c5 c3">Esto significa que la misma consulta que escribamos para MySQL nos va a servir tanto para MongoDB, como Redis, etc. Esto nos permitir&aacute; en un futuro cambiar de base de datos pero no el c&oacute;digo de nuestra aplicaci&oacute;n.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Lenguaje de consulta (Lo B&aacute;sico)</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">El criterio de estos objetos se forma utilizando uno de los cuatro tipos clave del objeto. Estos son las claves de nivel superior utilizados en un objeto de consulta. Se basa libremente en los criterios que se utiliza en MongoDB, aunque con algunas variaciones.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Las consultas se pueden construir utilizando &ldquo;</span><span class="c3 c12">WHERE</span><span class="c3">&rdquo;, tambi&eacute;n podremos usar las opciones &ldquo;</span><span class="c3 c12">limit</span><span class="c3">&rdquo;, &ldquo;</span><span class="c3 c12">skip</span><span class="c3">&rdquo; y &ldquo;</span><span class="c3 c12">sort</span><span class="c3">&rdquo;. Si en la consulta omitimos el &ldquo;</span><span class="c3 c12">WHERE</span><span class="c3">&rdquo;, el criterio que seguir&aacute; la consulta, ser&aacute; como si de un simple &ldquo;</span><span class="c3 c12">WHERE</span><span class="c5 c3">&rdquo; se tratase. Observa este ejemplo donde lo entender&aacute;s mejor.</span></p><p class="c2"><span class="c0"></span></p><a id="t.98cf62f9737d5a5850c50f9f639659b2799d4d37"></a><a id="t.105"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({ where: { name: </span><span class="c13">&#39;foo&#39;</span><span class="c6">&nbsp;}, skip: </span><span class="c7">20</span><span class="c6">, limit: </span><span class="c7">10</span><span class="c6">, sort: </span><span class="c13">&#39;name DESC&#39;</span><span class="c6">&nbsp;});<br><br></span><span class="c11">// O</span><span class="c6"><br><br>Model.find({ name: </span><span class="c13">&#39;foo&#39;</span><span class="c6">&nbsp;});</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Pares de claves : valor</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">El par clave/valor se usa para buscar registros con valores coincidentes exactamente con lo que se especifica. Este es el criterio que sigue el objeto &ldquo;</span><span class="c3 c12">WHERE</span><span class="c5 c3">&rdquo;, la clave representa el atributo del modelo y el valor es una estricta verificaci&oacute;n de igualdad.</span></p><p class="c2"><span class="c0"></span></p><a id="t.b7155be63fbbf7e2aaf76b75bf95b28746c23757"></a><a id="t.106"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({ name: </span><span class="c13">&#39;walter&#39;</span><span class="c6 c45">&nbsp;})</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Tambi&eacute;n podemos usar varios atributos para realizar una b&uacute;squeda</span></p><p class="c2"><span class="c0"></span></p><a id="t.c8d43f30a1fdb684aa554e0d0835bf5f66a65e99"></a><a id="t.107"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6 c45">Model.find({ name: &#39;walter&#39;, state: &#39;new mexico&#39; })</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Las consultas </span><span class="c3 c12">IN </span><span class="c3">tiene una forma muy similar a las consultas in de MySQL, cada elemento del array ser&aacute; tratado como &lsquo;</span><span class="c3 c12">OR</span><span class="c5 c3">&rsquo;</span></p><p class="c2"><span class="c0"></span></p><a id="t.51599a0656893b1beb0f3589b54e35bff2be9550"></a><a id="t.108"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({<br> &nbsp;name : [</span><span class="c13">&#39;Walter&#39;</span><span class="c6">, </span><span class="c13">&#39;Skyler&#39;</span><span class="c6 c45">]<br>});</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Las consultas </span><span class="c3 c12">NOT-IN </span><span class="c5 c3">&nbsp;son similares a las &ldquo;IN&rdquo;, pero siguiendo otro criterio</span></p><p class="c2"><span class="c0"></span></p><a id="t.4a2c81b31d0e832919a83a31beacc42636298d58"></a><a id="t.109"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({<br> &nbsp;name : { </span><span class="c13">&lsquo;!&rsquo;</span><span class="c6">&nbsp;: &nbsp;[</span><span class="c13">&#39;Walter&#39;</span><span class="c6">, </span><span class="c13">&#39;Skyler&#39;</span><span class="c6 c45">] }<br>});</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Las consultas </span><span class="c3 c12">OR </span><span class="c5 c3">se usa mediante un array de pares clave/valor. Los resultados devueltos, ser&aacute;n seg&uacute;n los criterios pasados en el array.</span></p><p class="c2"><span class="c0"></span></p><a id="t.f24e372a816b055af2ec56c392b0da6f095bcfeb"></a><a id="t.110"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({<br> &nbsp;</span><span class="c17">or</span><span class="c6">&nbsp;: [<br> &nbsp; &nbsp;{ name: </span><span class="c13">&#39;walter&#39;</span><span class="c6">&nbsp;},<br> &nbsp; &nbsp;{ occupation: </span><span class="c13">&#39;teacher&#39;</span><span class="c6 c45">&nbsp;}<br> &nbsp;]<br>});</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Los siguientes modificadores, est&aacute;n disponibles para su uso a la hora de construir consultas.</span></p><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_w4optp8ta93z-0 start"><li class="c4 c47 c19"><span class="c5 c3">&lsquo;&lt;&rsquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Menor Que</span></li><li class="c4 c47 c19"><span class="c5 c3">&lsquo;&lt;=&rsquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Menor o Igual Que</span></li><li class="c4 c47 c19"><span class="c5 c3">&lsquo;&gt;&rsquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mayor Que</span></li><li class="c4 c47 c19"><span class="c5 c3">&lsquo;&gt;=&rsquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mayor o Igual Que</span></li><li class="c4 c47 c19"><span class="c5 c3">&lsquo;!&rsquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Not</span></li><li class="c4 c47 c19"><span class="c5 c3">&lsquo;like&rsquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="c4 c47 c19"><span class="c5 c3">&lsquo;contains&rsquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Contiene ...</span></li><li class="c4 c47 c19"><span class="c5 c3">&lsquo;startsWith&rsquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Empieza con ...</span></li><li class="c4 c47 c19"><span class="c5 c3">&lsquo;endsWith&rsquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Termina con ...</span></li></ul><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">&lsquo;&lt;&rsquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Menor Que</span></p><p class="c4"><span class="c5 c3">Busca registros donde el valor es menor que el valor especificado. Por ejemplo</span></p><p class="c2"><span class="c0"></span></p><a id="t.65bfd36933f723dfd8d0147f62837b2c0a631b21"></a><a id="t.111"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({ age: { </span><span class="c13">&#39;&lt;&#39;</span><span class="c6">: </span><span class="c7">30</span><span class="c6 c45">&nbsp;}})</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">&lsquo;&lt;=&rsquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Menor o Igual Que</span></p><p class="c4"><span class="c5 c3">Busca registros donde el valor es menor o igual que el valor especificado. Por ejemplo</span></p><p class="c2"><span class="c0"></span></p><a id="t.3b1b36035ea5027c2b2b399b5d500eed97c26849"></a><a id="t.112"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({ age: { </span><span class="c13">&#39;&lt;=&#39;</span><span class="c6">: </span><span class="c7">21</span><span class="c6 c45">&nbsp;}} )</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">&lsquo;&gt;&rsquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mayor Que</span></p><p class="c4"><span class="c5 c3">Busca registros donde el valor es mayor que el valor especificado. Por ejemplo</span></p><p class="c2"><span class="c0"></span></p><a id="t.2b928909019b61427452ea77eb92ec44f992a91a"></a><a id="t.113"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({ age: { </span><span class="c13">&#39;&gt;&#39;</span><span class="c6">: </span><span class="c7">30</span><span class="c6 c45">&nbsp;}} )</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">&lsquo;&gt;=&rsquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Menor o Igual Que</span></p><p class="c4"><span class="c5 c3">Busca registros donde el valor es mayor o igual que el valor especificado. Por ejemplo</span></p><p class="c2"><span class="c0"></span></p><a id="t.0c6237442fbadbdbae6328865d4e8a9db255ebf9"></a><a id="t.114"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({ age: { </span><span class="c13">&#39;&gt;=&#39;</span><span class="c6">: </span><span class="c7">21</span><span class="c6 c45">&nbsp;}} )</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">&lsquo;!&rsquo;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NOT</span></p><p class="c4"><span class="c5 c3">Busca registros donde los valores no son iguales al valor especificado. Por ejemplo</span></p><p class="c2"><span class="c0"></span></p><a id="t.377280d4e814e7b727e4fc220faa6895a2659574"></a><a id="t.115"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({ name: { </span><span class="c13">&#39;!&#39;</span><span class="c6">: </span><span class="c13">&lsquo;foo&rsquo;</span><span class="c6 c45">&nbsp;}} )</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">&lsquo;contains&rsquo;</span></p><p class="c4"><span class="c5 c3">Retorna registros donde los valores coincidan con el patr&oacute;n especificado en cualquier lado de la cadena, ya sea al principio o al final. Por ejemplo</span></p><p class="c2"><span class="c0"></span></p><a id="t.39e1855f6913728430ceb9a296900ee1a65d7aac"></a><a id="t.116"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({ </span><span class="c17">class</span><span class="c6">: { </span><span class="c13">&#39;contains&#39;</span><span class="c6">: </span><span class="c13">&#39;history&#39;</span><span class="c6">&nbsp;}})<br><br></span><span class="c11">// O lo que es lo mismo como:</span><span class="c6"><br><br>Model.find({ </span><span class="c17">class</span><span class="c6">: { </span><span class="c13">&#39;like&#39;</span><span class="c6">: </span><span class="c13">&#39;%history%&#39;</span><span class="c6 c45">&nbsp;}})</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">&lsquo;startsWith&rsquo;</span></p><p class="c4"><span class="c5 c3">En esta ocasi&oacute;n s&oacute;lo retornar&aacute; los registros que coincidan con el valor especificado solamente al inicio de la cadena</span></p><p class="c2"><span class="c0"></span></p><a id="t.c9bb4cd85d33ea7ef708c96b7ba3d2bd21119c60"></a><a id="t.117"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({ </span><span class="c17">class</span><span class="c6">: { </span><span class="c13">&#39;startsWith&#39;</span><span class="c6">: </span><span class="c13">&#39;american&#39;</span><span class="c6">&nbsp;}})<br><br></span><span class="c11">// &nbsp;O lo que es lo mismo como:</span><span class="c6"><br><br>Model.find({ </span><span class="c17">class</span><span class="c6">: { </span><span class="c13">&#39;like&#39;</span><span class="c6">: </span><span class="c13">&#39;american%&#39;</span><span class="c6 c45">&nbsp;}})</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">&lsquo;endsWith&rsquo;</span></p><p class="c4"><span class="c5 c3">En esta ocasi&oacute;n s&oacute;lo retornar&aacute; los registros que coincidan con el valor especificado solamente al final de la cadena</span></p><p class="c2"><span class="c0"></span></p><a id="t.6e39abf344a67d907b01680857bcb800b38ebb50"></a><a id="t.118"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({ </span><span class="c17">class</span><span class="c6">: { </span><span class="c13">&#39;endsWith&#39;</span><span class="c6">: </span><span class="c13">&#39;can&#39;</span><span class="c6">&nbsp;}})<br><br></span><span class="c11">// &nbsp;O lo que es lo mismo como:</span><span class="c6"><br><br>Model.find({ </span><span class="c17">class</span><span class="c6">: { </span><span class="c13">&#39;like&#39;</span><span class="c6">: </span><span class="c13">&#39;%can&#39;</span><span class="c6 c45">&nbsp;}})</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3 c12">&lsquo;Intervalo entre Fechas&rsquo;</span></p><p class="c4"><span class="c5 c3">Puedes realizar busquedas entre fechas utilizando los operadores de comparaci&oacute;n:</span></p><p class="c2"><span class="c0"></span></p><a id="t.4f19bcd392df478744e72a829793f38721be81e6"></a><a id="t.119"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({ date: { </span><span class="c13">&#39;&gt;&#39;</span><span class="c6">: </span><span class="c17">new</span><span class="c6">&nbsp;Date(&#39;</span><span class="c7">2</span><span class="c13">/4/2014&#39;), &#39;&lt;&#39;: new Date(&#39;2/7/</span><span class="c7">2014</span><span class="c6 c45">&#39;) } })</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Opciones de Consulta</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Las opciones de consulta permiten afinar los resultados que se devuelven. Las opciones que tenemos disponibles para llevar a cabo esto son:</span></p><p class="c2"><span class="c0"></span></p><ul class="c10 lst-kix_ijpqatjyilkj-0 start"><li class="c4 c47 c19"><span class="c3 c12">limit</span><span class="c3">&nbsp; (Limita el n&uacute;mero de resultados que son retornados de una consulta</span><span class="c0">) </span></li></ul><a id="t.97e3b7a567fb7c42817dd193c556da269fc9780b"></a><a id="t.120"></a><table class="c77 c116"><tbody><tr class="c22"><td class="c149" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({ where: { name: </span><span class="c13">&#39;foo&#39;</span><span class="c6">&nbsp;}, limit: </span><span class="c7">20</span><span class="c6 c45">&nbsp;})</span></p></td></tr></tbody></table><ul class="c10 lst-kix_ijpqatjyilkj-0"><li class="c4 c47 c19"><span class="c3 c12">skip &nbsp;</span><span class="c3">(Retorna todos los resultados menos el numero de elementos que especifiquemos para </span><span class="c3 c12">skip</span><span class="c5 c3">) </span></li></ul><a id="t.e6d8b15ff9e98c4a9c46a92f89ddf012cc23b165"></a><a id="t.121"></a><table class="c77 c116"><tbody><tr class="c22"><td class="c149" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">Model.find({ where: { name: </span><span class="c13">&#39;foo&#39;</span><span class="c6">&nbsp;}, skip: </span><span class="c7">10</span><span class="c6 c45">&nbsp;})</span></p></td></tr></tbody></table><ul class="c10 lst-kix_ijpqatjyilkj-0"><li class="c4 c47 c19"><span class="c3 c12">sort</span><span class="c5 c3">&nbsp;(Retorna todos lo resultado pero ordenadamente seg&uacute;n lo especifiquemos) </span></li></ul><a id="t.b183a39eb7cb62af3b97d7c21f76a40fb6dd341b"></a><a id="t.122"></a><table class="c77 c116"><tbody><tr class="c22"><td class="c149" colspan="1" rowspan="1"><p class="c48 c43"><span class="c11">// Ordena por nombre (name) en orden ascendente</span><span class="c6"><br>Model.find({ where: { name: </span><span class="c13">&#39;foo&#39;</span><span class="c6">&nbsp;}, sort: </span><span class="c13">&#39;name&#39;</span><span class="c6">&nbsp;});<br><br></span><span class="c11">// Ordena por nombre (name) en orden descendente</span><span class="c6"><br>Model.find({ where: { name: </span><span class="c13">&#39;foo&#39;</span><span class="c6">&nbsp;}, sort: </span><span class="c13">&#39;name DESC&#39;</span><span class="c6">&nbsp;});<br><br></span><span class="c11">// Ordena por nombre (name) en orden ascendente</span><span class="c6"><br>Model.find({ where: { name: </span><span class="c13">&#39;foo&#39;</span><span class="c6">&nbsp;}, sort: </span><span class="c13">&#39;name ASC&#39;</span><span class="c6">&nbsp;});<br><br></span><span class="c11">// Ordena por notaci&oacute;n binaria</span><span class="c6"><br>Model.find({ where: { name: </span><span class="c13">&#39;foo&#39;</span><span class="c6">&nbsp;}, sort: { </span><span class="c13">&#39;name&#39;</span><span class="c6">: </span><span class="c7">1</span><span class="c6">&nbsp;}});<br><br></span><span class="c11">// Ordena por varios atributos</span><span class="c6"><br>Model.find({ where: { name: </span><span class="c13">&#39;foo&#39;</span><span class="c6">&nbsp;}, sort: { name: &nbsp;</span><span class="c7">1</span><span class="c6">, age: </span><span class="c7">0</span><span class="c6 c45">&nbsp;});</span></p><p class="c49 c43 c32"><span class="c6 c45"></span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Cuidado! A la hora de realizar consultas (querys), ya que Waterline es Case-Sensitivity, es decir, que hace diferencia entre may&uacute;sculas y min&uacute;sculas.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Validaciones</span></p><p class="c2"><span class="c41 c3 c12"></span></p><p class="c4"><span class="c41 c3 c33">Sails soporta las validaciones autom&aacute;ticas para los atributos de nuestros modelos. Cada vez que se crea o actualiza un nuevo registro, se cotejan los datos de los atributos con las reglas de validaci&oacute;n predefinidas. Esto proporciona un mecanismo de seguridad para las entradas no v&aacute;lidas a la base de datos de nuestra aplicaci&oacute;n.</span></p><p class="c2"><span class="c3 c33 c41"></span></p><p class="c2"><span class="c41 c3 c33"></span></p><p class="c4"><span class="c41 c3 c12">Reglas de validaci&oacute;n</span></p><p class="c2"><span class="c41 c3 c12"></span></p><p class="c4"><span class="c3">Las validaciones en sails son gestionadas por </span><span class="c3 c12">Anchor </span><span class="c3">y </span><span class="c26 c3 c12"><a class="c16" href="https://www.google.com/url?q=https://github.com/chriso/validator.js&amp;sa=D&amp;ust=1526912178721000">Validator</a></span><span class="c3">&nbsp;(https://github.com/chriso/validator.js), actualmente son las librer&iacute;as de validaci&oacute;n m&aacute;s robustas para Node.js. Sails soporta la mayor&iacute;a de las validaciones disponibles en </span><span class="c26 c3 c12"><a class="c16" href="https://www.google.com/url?q=https://github.com/chriso/validator.js&amp;sa=D&amp;ust=1526912178721000">Validator</a></span><span class="c3">&nbsp;(</span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/chriso/validator.js&amp;sa=D&amp;ust=1526912178721000">https://github.com/chriso/validator.js</a></span><span class="c5 c3">).</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><a id="t.f4986c665d5fad9c585e55b70d60d2e093d2c33e"></a><a id="t.123"></a><table class="c52"><tbody><tr class="c22"><td class="c8 c110" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c12">Nombre Validaci&oacute;n</span></p></td><td class="c66 c110" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c12">Datos a Comprobar</span></p></td><td class="c21 c110" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c12">Notas de Uso</span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">after</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba si la fecha es posterior a la especificada</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Debe ser una fecha v&aacute;lida para JavaScript</span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">alpha</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba si la cadena contiene solo letras (a-zA-Z)</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">alphadashed</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba si la cadena contiene solo letras y/o guiones</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">alphanumeric</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba si la cadena contiene letras y/o n&uacute;meros</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">alphanumericdashed</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba si la cadena contiene letras, n&uacute;meros y/o guiones</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">array</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba que es un array v&aacute;lido</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Las cadenas de texto formateadas, no ser&aacute;n v&aacute;lidas</span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">before</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba si la fecha es anterior a la especificada</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">binary</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba si los datos son binarios</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Si es cadena de texto dar&aacute; como v&aacute;lido.</span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">boolean</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba que es un boolean v&aacute;lido</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Las cadenas de texto no ser&aacute;n v&aacute;lidos</span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">creditcard</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba los datos contienen el formato correcto de una tarjeta de cr&eacute;dito</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">date</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba que es una fecha v&aacute;lida</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">datetime</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba que la fecha y hora tengan el formato v&aacute;lido</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">decimal</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Debe contener un decimal o ser menor de 1</span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">email</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba si contiene una direcci&oacute;n email correcta</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">empty</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Todos los arrays, strings o argumentos de funciones con longitud de cero, ser&aacute;n considerados como &ldquo;empty&rdquo;</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">equals</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba si el string es igual al que actualmente contiene el registro</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Ambos deben coincidir en tipo y valor</span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">finite</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba que el valor dado es o puede ser un n&uacute;mero finito</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">float</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba si es un n&uacute;mero de coma flotante</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">hexadecimal</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba que es n&uacute;mero hexadecimal</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">hexcolor</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba que es un color hexadecimal</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">int</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba si es un entero (integer)</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">integer</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">M&aacute;s de lo mismo</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">ip</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba que el string contiene el formato correcto de una IP (v4 o v6)</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">ipv4</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba que el string contiene el formato correcto de una IP v4 </span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">ipv6</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba que el string contiene el formato correcto de una IP v6</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">json</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c3 c68">Realiza un </span><span class="c3 c12 c68">try</span><span class="c3 c68">/</span><span class="c3 c12 c68">catch</span><span class="c29 c3 c33">&nbsp;para comprobar que es un JSON v&aacute;lido</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">lowercase</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba que el string contenga todos los caracteres est&aacute;n en min&uacute;scula</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">numeric</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba que solo contenga n&uacute;meros</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">uppercase</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba que el string contenga todos los caracteres est&aacute;n en may&uacute;scula</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr><tr class="c22"><td class="c8" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">url</span></p></td><td class="c66" colspan="1" rowspan="1"><p class="c31"><span class="c29 c3 c33">Comprueba que tenga el formato correcto de una url</span></p></td><td class="c21" colspan="1" rowspan="1"><p class="c31 c32"><span class="c29 c3 c33"></span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c1">Reglas de validaciones personalizadas</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c3">Podemos definir nuestras propias validaciones. Es posible acceder y comparar valores de otros atributos con la palabra reservada &ldquo;</span><span class="c3 c12">this</span><span class="c5 c3">&rdquo;. Esto nos permite mover la l&oacute;gica de validaci&oacute;n a nuestros modelos y mantenerla fuera de la l&oacute;gica del controlador.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c1">Ejemplo de un modelo</span></p><p class="c2"><span class="c0"></span></p><a id="t.b083d6ce10e33ad3c764dc19996e0e6971c5b8c7"></a><a id="t.124"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c11">// api/models/foo</span><span class="c6"><br>module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br><br> &nbsp;types: {<br> &nbsp; &nbsp;</span><span class="c42 c33">is_point</span><span class="c6">: </span><span class="c17">function</span><span class="c6">(geoLocation){<br> &nbsp; &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;geoLocation.x </span><span class="c17">&amp;&amp;</span><span class="c6">&nbsp;geoLocation.y<br> &nbsp; &nbsp;},<br> &nbsp; &nbsp;</span><span class="c42 c33">password</span><span class="c6">: </span><span class="c17">function</span><span class="c6">(password) {<br> &nbsp; &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;password </span><span class="c17">===</span><span class="c6">&nbsp;</span><span class="c17">this</span><span class="c6">.passwordConfirmation;<br> &nbsp; &nbsp;}<br> &nbsp;},<br> &nbsp;attributes: {<br> &nbsp; &nbsp;firstName: {<br> &nbsp; &nbsp; &nbsp;type: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;required: </span><span class="c7">true</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;minLength: </span><span class="c7">5</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;maxLength: </span><span class="c7">15</span><span class="c6"><br> &nbsp; &nbsp;},<br> &nbsp; &nbsp;location: {<br> &nbsp; &nbsp; &nbsp;</span><span class="c11">//note, that the base type (json) still has to be defined</span><span class="c6"><br> &nbsp; &nbsp; &nbsp;type: </span><span class="c13">&#39;json&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;is_point: </span><span class="c7">true</span><span class="c6"><br> &nbsp; &nbsp;},<br> &nbsp; &nbsp;password: {<br> &nbsp; &nbsp; &nbsp;type: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;password: </span><span class="c7">true</span><span class="c6"><br> &nbsp; &nbsp;},<br> &nbsp; &nbsp;passwordConfirmation: {<br> &nbsp; &nbsp; &nbsp;type: </span><span class="c13">&#39;string&#39;</span><span class="c6 c45"><br> &nbsp; &nbsp;}<br><br> &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">De forma nativa, sails no ofrece soporte para la personalizaci&oacute;n de mensajes de validaci&oacute;n. Pero si dispone de una librer&iacute;a &ldquo;externa&rdquo; que podemos instalar en nuestra aplicaci&oacute;n y podemos personalizar los mensajes de validaci&oacute;n. &nbsp;</span><span class="c26 c3 c12"><a class="c16" href="https://www.google.com/url?q=https://github.com/lykmapipo/sails-hook-validation&amp;sa=D&amp;ust=1526912178747000">https://github.com/lykmapipo/sails-hook-validation</a></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c1"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Configurando el / los modelo/s</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span>Las siguientes propiedades que veremos a continuaci&oacute;n, se pueden configurar para todos los modelos desde el archivo </span><span class="c12">config/models.js</span><span class="c0">, as&iacute; y todo si en alg&uacute;n modelo en particular quieres otro tipo de configuraci&oacute;n para dicho modelo, se puede sobrescribir.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">migrate</span></p><p class="c2"><span class="c0"></span></p><a id="t.3eab9c82727db9b668420295361e5e51fd74cc5c"></a><a id="t.125"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">migrate: </span><span class="c13">&#39;safe&#39;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Esta opci&oacute;n controla si Sails ha de reconstruir autom&aacute;ticamente las </span><span class="c3 c27">tablas, colecciones, juegos de datos, etc. </span><span class="c5 c3">a partir de un esquema.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">En un entorno producci&oacute;n, Sails utilizar&aacute; siempre </span><span class="c3 c12">migrate: </span><span class="c5 c3">&ldquo;safe&rdquo;, para proteger que accidentalmente puedan ser eliminados algunos datos, sin embargo, mientras est&eacute;s en un entorno de desarrollo tienes otras opciones para mayor comodidad a la hora de desarrollar tu aplicaci&oacute;n.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Cuando levantamos el servidor (Sails), Waterline v&aacute;lida todos los datos de la base de datos. Esta opci&oacute;n (migrate) le dice a Waterline que hacer cuando los datos est&aacute;n corruptos. Si la opci&oacute;n </span><span class="c3 c12">migrate</span><span class="c3">&nbsp;la establecemos a &ldquo;</span><span class="c3 c12">safe</span><span class="c5 c3">&rdquo;, ignorar&aacute; los datos corruptos y el servidor seguir&aacute; corriendo con total normalidad. Tambi&eacute;n puedes establecer otras alternativas como:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.a31a6e9c6a425facdb2961068a336d1f17917bdb"></a><a id="t.126"></a><table class="c52"><tbody><tr class="c22"><td class="c95 c61" colspan="1" rowspan="1"><p class="c31 c43"><span class="c39 c64 c12 c81">Estrategia Auto-Migraci&oacute;n</span></p></td><td class="c107 c61" colspan="1" rowspan="1"><p class="c24 c43"><span class="c39 c64 c12 c81">Descripci&oacute;n</span></p></td></tr><tr class="c22"><td class="c95" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">safe</span></p></td><td class="c107" colspan="1" rowspan="1"><p class="c24 c43"><span class="c5 c3">Nunca auto-migra la bbdd</span></p></td></tr><tr class="c22"><td class="c95" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">alter</span></p></td><td class="c107" colspan="1" rowspan="1"><p class="c24 c43"><span class="c5 c3">Auto-migra columnas y campos, pero mantendr&aacute; datos existentes</span></p></td></tr><tr class="c22"><td class="c95" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">drop</span></p></td><td class="c107" colspan="1" rowspan="1"><p class="c24 c43"><span class="c5 c3">Limpia o borra todos los datos cada vez que Sails se inicia.</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Cuidado!, si usas </span><span class="c3 c12">drop </span><span class="c3">o </span><span class="c3 c12">alter</span><span class="c3">, cabe la posibilidad de que pierdas los datos. Nunca utilices </span><span class="c3 c12">drop </span><span class="c3">o </span><span class="c3 c12">&nbsp;alter </span><span class="c5 c3">si tu aplicaci&oacute;n est&aacute; corriendo en un entorno de producci&oacute;n.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">schema (esquema)</span></p><p class="c2"><span class="c0"></span></p><a id="t.a2241b1e28408892dbd9b232f88a610fa9d3ff5b"></a><a id="t.127"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">schema: </span><span class="c45 c7">true</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Si </span><span class="c3 c12">schema</span><span class="c3">&nbsp;lo establecemos a </span><span class="c3 c12">false</span><span class="c3">, podremos almacenar datos en la bbdd, si que en el modelo exista el atributo al que se refiere en la base de datos. En caso contrario si </span><span class="c3 c12">schema</span><span class="c3">&nbsp;lo establecemos a </span><span class="c3 c12">true</span><span class="c5 c3">, s&oacute;lo los atributos que tengamos definidos en el modelo se guardar&aacute;n en la base de datos.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Para adaptadores como MongoDB o Redis, que no requieren un esquema (schema) para trabajar, la configuraci&oacute;n predeterminada ser&aacute;: &nbsp;</span><span class="c26 c72 c3 c33 c27">schema: false</span></p><p class="c2"><span class="c26 c64 c33 c27 c72"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">connection (conexi&oacute;n)</span></p><p class="c2"><span class="c0"></span></p><a id="t.98ae0efc6de28eee1f85b619ec627f9b3cd4bad6"></a><a id="t.128"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">connection: </span><span class="c13 c45">&lsquo;postgresql-local&rsquo;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Configuramos el adaptador al que se tiene que conectar para recuperar y guardar datos. Por defecto, Sails viene configurado para la conexi&oacute;n del adaptador </span><span class="c1">localDiskDb.</span></p><p class="c2"><span class="c39 c64 c12 c81"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">identity (identificar)</span></p><p class="c2"><span class="c0"></span></p><a id="t.ba8e668407f3bf69e2908a05678a324b79e5461a"></a><a id="t.129"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">identity: </span><span class="c13 c45">&lsquo;purchase&rsquo;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">De forma predeterminada, se identificar&aacute; a un modelo autom&aacute;ticamente por su nombre de archivo en min&uacute;sculas. ej. </span><span class="c39 c3 c33 c27">user.</span></p><p class="c4"><span class="c5 c3">Nunca debemos cambiar el valor de esta propiedad en nuestros modelos.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">globalId</span></p><p class="c2"><span class="c0"></span></p><a id="t.c22cdb5f7dcdf56b93b2e8b8df879b7d6ac27f02"></a><a id="t.130"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">globalId: </span><span class="c13 c45">&lsquo;Purchase&rsquo;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Cambia el nombre de tu modelo por el que quieras acceder de forma global, es decir desde cualquier sitio (siempre y cuando la globalizaci&oacute;n de &nbsp;los modelos est&eacute; activada </span><span class="c26 c3 c12"><a class="c16" href="#id.yf1nya9eoyam">sails.config.globals</a></span><span class="c3">). No cambies nunca el valor de esta propiedad en tus modelos individuales. Para desactivar esta propiedad, indicalo en </span><span class="c3 c12 c26"><a class="c16" href="#id.yf1nya9eoyam">sails.config.globals</a></span><span class="c5 c3">.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">autoPK</span></p><p class="c2"><span class="c0"></span></p><a id="t.26c0a0861dc43beab17836c278bfdbf7c26d23fb"></a><a id="t.131"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">autoPK: </span><span class="c45 c7">true</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Permite cambiar la definici&oacute;n de una clave principal (primary key) en un modelo. Mysql usa por defecto un entero auto-incremental para la clave principal, mientras que MongoDB lo hace en un string (cadena de texto) UUID. En cualquiera de los casos, la clave principal se generar&aacute; por autoPK y lo asignar&aacute; como &uacute;nico. Si establecemos </span><span class="c3 c12">autoPK </span><span class="c3">a </span><span class="c3 c12">false</span><span class="c5 c3">, no se crear&aacute; de forma autom&aacute;tica una clave principal y deber&aacute;s definirla tu mismo en el modelo de tal manera que se vea algo parecido a esto:</span></p><p class="c2"><span class="c0"></span></p><a id="t.d51ccee8b58174e23f78aef017e6ddcfe12fed82"></a><a id="t.132"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">attributes: {<br> &nbsp;sku: {<br> &nbsp; &nbsp;type: </span><span class="c13">&#39;string&#39;</span><span class="c6">,<br> &nbsp; &nbsp;primaryKey: </span><span class="c7">true</span><span class="c6">,<br> &nbsp; &nbsp;unique: </span><span class="c7">true</span><span class="c6 c45"><br> &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c39 c82 c12 c81">autoCreatedAt</span></p><p class="c2"><span class="c0"></span></p><a id="t.7ff43718aeb24cbd3f6a4267e843f6722bc9b566"></a><a id="t.133"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">autoCreatedAt: </span><span class="c45 c7">true</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Por defecto al insertar un nuevo registro en la base de datos se crea el campo </span><span class="c26 c3 c27">createdAt </span><span class="c3">para almacenar la fecha en la que se insert&oacute; el registro, podemos desactivar esta opci&oacute;n globalmente (estableciendolo a </span><span class="c3 c12">false</span><span class="c5 c3">) y colocar este c&oacute;digo en el modelo que queramos para conseguir que este campo se guarde en la base de datos:</span></p><p class="c2"><span class="c0"></span></p><a id="t.9c6570886ce2487667e40522f3b9c3cacb736e0d"></a><a id="t.134"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">attributes: {<br> &nbsp;createdAt: {<br> &nbsp; &nbsp;type: </span><span class="c13">&#39;datetime&#39;</span><span class="c6">,<br> &nbsp; &nbsp;</span><span class="c42 c33">defaultsTo</span><span class="c6">: </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(){ </span><span class="c17">return</span><span class="c6">&nbsp;</span><span class="c17">new</span><span class="c6">&nbsp;</span><span class="c42 c33">Date</span><span class="c6 c45">(); }<br> &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">autoUpdatedAt</span></p><p class="c2"><span class="c0"></span></p><a id="t.9f0dc95f1c60ea3d5b18ec4c492b67abc0fea718"></a><a id="t.135"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">autoUpdateAt: </span><span class="c45 c7">true</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Por defecto al insertar un nuevo registro en la base de datos se crea el campo </span><span class="c26 c3 c27">updatedAt</span><span class="c3">&nbsp;para almacenar la fecha en la que se modific&oacute; un registro, podemos desactivar esta opci&oacute;n globalmente (estableciendolo a </span><span class="c3 c12">false</span><span class="c5 c3">) y colocar este c&oacute;digo en el modelo que queramos para conseguir que este campo se guarde en la base de datos:</span></p><p class="c2"><span class="c0"></span></p><a id="t.f40ccf0248550fc11f2f0d04f3a6c81014f0aaa6"></a><a id="t.136"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">attributes: {<br> &nbsp;updateAt: {<br> &nbsp; &nbsp;type: </span><span class="c13">&#39;datetime&#39;</span><span class="c6">,<br> &nbsp; &nbsp;</span><span class="c42 c33">defaultsTo</span><span class="c6">: </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(){ </span><span class="c17">return</span><span class="c6">&nbsp;</span><span class="c17">new</span><span class="c6">&nbsp;</span><span class="c42 c33">Date</span><span class="c6 c45">(); }<br> &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">tableName</span></p><p class="c2"><span class="c0"></span></p><a id="t.a78d348fadc06a80a94e0ed690623ae810612656"></a><a id="t.137"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">tableName:</span><span class="c13 c45">&nbsp;&lsquo;mi_tabla&rsquo;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Puedes definir un nombre de tabla o colecci&oacute;n para que se a&ntilde;ada al adaptador que tengas configurado. En MySQL, PostgreSQL, Oracle, etc, (nos referimos a nombres de tabla, mientras que en MongoDB o Redis, nos referimos a colecci&oacute;n). Si no estableces un nombre de tabla (tableName), Waterline asignar&aacute; un nombre de tabla autom&aacute;ticamente estableciendo lo de la manera que est&eacute; configurado en </span><span class="c26 c3 c12"><a class="c16" href="#kix.qc4sins9umpb">identy</a></span><span class="c1">&nbsp;</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">attributes</span></p><p class="c2"><span class="c0"></span></p><a id="t.6edde3891c3059cdb5d777ca410b2b6fcdae13ed"></a><a id="t.138"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">attributes: {<br> &nbsp;name: { type: </span><span class="c13">&#39;string&#39;</span><span class="c6">&nbsp;},<br> &nbsp;email: { type: </span><span class="c13">&#39;email&#39;</span><span class="c6">&nbsp;},<br> &nbsp;age: { type: </span><span class="c13">&#39;integer&#39;</span><span class="c6 c45">&nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span>Para saber m&aacute;s dir&iacute;gete a la secci&oacute;n de atributos de modelo.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c56 c44 c12">9. Vistas</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Visi&oacute;n de Conjunto</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">En Sails, las vistas son plantillas que se compilan en el servidor como p&aacute;ginas HTML. En la mayor&iacute;a de los casos, las vistas son usadas como la respuesta a una petici&oacute;n HTTP.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Alternativamente una vista puede ser compilada en la parte del backend, directamente en una cadena de texto (string). usando </span><span class="c3 c12">sails.renderView()</span><span class="c5 c3">. Por ejemplo, puedes utilizar este m&eacute;todo para enviar mensajes de correo electr&oacute;nico con formato HTML o incluso para construir XML. </span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Creando una vista</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Por defecto Sails viene configurado con el motor de plantillas EJS. La sintaxis para EJS es bastante convencional, si has escrito c&oacute;digo </span><span class="c3 c12">php</span><span class="c3">, </span><span class="c3 c12">asp</span><span class="c3">, </span><span class="c3 c12">erb</span><span class="c3">, </span><span class="c3 c12">jsp</span><span class="c5 c3">, etc. sabr&aacute;s en todo momento lo que est&aacute;s haciendo.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Si prefieres trabajar con otro motor de plantillas diferente a EJS, tienes varias opciones para el que Sails da soporta. Sails soporta todos los motores de plantilla compatibles con Express.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Las vistas se definen en nuestra carpeta </span><span class="c3 c12">views/</span><span class="c5 c3">, si tu aplicaci&oacute;n no ha de servir p&aacute;ginas HTML din&aacute;micas, es decir, si est&aacute;s construyendo una API para una app m&oacute;vil, entonces deber&iacute;as eliminar esta carpeta de tu aplicaci&oacute;n.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Compilando una vista</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">En cualquier lugar se puede acceder al objeto </span><span class="c3 c12">res </span><span class="c3">(en una acci&oacute;n de controlador, una respuesta personalizada o pol&iacute;tica), puedemos usar </span><span class="c3 c12">res.view</span><span class="c5 c3">&nbsp;para compilar nuestras vistas, y enviar el c&oacute;digo HTML al usuario.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Como vimos en la secci&oacute;n de </span><span class="c3 c12">rutas</span><span class="c3">, podemos conectar una vista directamente a una ruta en nuestro archivo </span><span class="c3 c12">routes.js</span><span class="c3">. Indicando la ruta relativa de nuestra vista desde el directorio de nuestra aplicaci&oacute;n </span><span class="c3 c12">views/</span><span class="c5 c3">. Por ejemplo:</span></p><p class="c2"><span class="c0"></span></p><a id="t.6a8858fbe3011cdfb9b3e8198f725c415033aa99"></a><a id="t.139"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">{<br> &nbsp;</span><span class="c13">&#39;get /&#39;</span><span class="c6">: {<br> &nbsp; &nbsp;view: </span><span class="c13">&#39;homepage&#39;</span><span class="c6"><br> &nbsp;},<br> &nbsp;</span><span class="c13">&#39;get /signup&#39;</span><span class="c6">: {<br> &nbsp; &nbsp;view: </span><span class="c13">&#39;signupFlow/basicInfo&#39;</span><span class="c6"><br> &nbsp;},<br> &nbsp;</span><span class="c13">&#39;get /signup/password&#39;</span><span class="c6">: {<br> &nbsp; &nbsp;view: </span><span class="c13">&#39;signupFlow/chooseAPassword&#39;</span><span class="c6"><br> &nbsp;},<br> &nbsp;</span><span class="c11">// etc.</span><span class="c6 c45"><br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Aplicaciones de una sola p&aacute;gina</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Si est&aacute;s construyendo una aplicaci&oacute;n para el navegador, parte de la navegaci&oacute;n o toda, puede tener lugar en el lado del cliente (frontend), es decir, en lugar de que el navegador salte a una nueva p&aacute;gina HTML cada vez que el usuario solicite alguna acci&oacute;n, el c&oacute;digo del lado del cliente (frontend) precarga una plantilla que luego muestra en el navegador sin necesidad de acceder al servidor directamente.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">En este caso tenemos dos opciones para crear una aplicaci&oacute;n de una sola p&aacute;gina:</span></p><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_u5ht8watzdqo-0 start"><li class="c4 c47 c19"><span class="c3">Usando una &uacute;nica vista, por ejemplo </span><span class="c3 c12">views/publicSite.ejs</span><span class="c5 c3">. Ventajas :</span></li></ul><ul class="c10 lst-kix_u5ht8watzdqo-1 start"><li class="c4 c34"><span class="c5 c3">Puedes utilizar el motor de plantillas para pasar los datos del servidor directamente en el c&oacute;digo HTML, que este lo renderiza en el navegador del cliente. Esta ser&iacute;a una manera f&aacute;cil de conseguir los datos de usuario sin tener que enviar peticiones al servidor AJAX o WebSockets.</span></li></ul><ul class="c10 lst-kix_u5ht8watzdqo-0"><li class="c4 c47 c19"><span class="c3">Utiliza una &uacute;nica p&aacute;gina HTML en la carpeta </span><span class="c3 c12">assets</span><span class="c3">. Por ejemplo: </span><span class="c3 c12">assets/index.html</span><span class="c5 c3">. Ventajas :</span></li></ul><ul class="c10 lst-kix_u5ht8watzdqo-1 start"><li class="c4 c34"><span class="c5 c3">Aunque de esta manera no podemos pasar datos del servidor directamente al cliente, este enfoque permite desacoplar la parte del cliente (frontend) de la parte del servidor (backend)</span></li><li class="c4 c34"><span class="c5 c3">Cualquier librer&iacute;a en nuestra carpeta assets se puede mover a un CDN est&aacute;tico (tipo Cloudfront o CloudFlare).</span></li></ul><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12 c55">Plantillas Layouts</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c5 c3">Cuando construimos &nbsp;una aplicaci&oacute;n con diferentes p&aacute;ginas, puede ser &uacute;til el poder compartir archivos HTML en una plantilla (layout). Esto reduce el tama&ntilde;o del c&oacute;digo en nuestro proyecto y te ayuda a evitar los mismos cambios en varios archivos en la que tengas que repetir c&oacute;digo (como podr&iacute;a ser el header o el footer de una aplicaci&oacute;n).</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c5 c3">En Sails y Express, las plantillas est&aacute;n implementados en los motores de vistas. Aunque, cada uno de ellos tiene su propia sintaxis.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c3">Por conveniencia, Sail soporta las plantillas cuando usamos por defecto el motor de vistas que viene integrado, </span><span class="c3 c12">EJS</span><span class="c3">. Si quieres utilizar otro motor de vistas para tus plantillas, solamente deber&aacute;s instalarlo, v&iacute;a </span><span class="c3 c12">npm install</span><span class="c5 c3">&nbsp;y cambiarlo en la configuraci&oacute;n. Pero es algo que veremos en unos instantes donde veremos los motores de vistas que actualmente soporta Sails y puedas encuentrar el que mejor se te adapte.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12">Creando Plantillas</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c3">En Sails las plantillas son archivos con extensi&oacute;n </span><span class="c3 c12">.ejs</span><span class="c3">&nbsp;que residen en la carpeta </span><span class="c3 c12">views/ </span><span class="c3">de nuestra aplicaci&oacute;n. La plantilla normalmente contiene </span><span class="c3 c12">!DOCTYPE html &lt;html&gt;&lt;head&gt;... &hellip; &lt;/head&gt; &lt;body&gt; &hellip; &hellip; &lt;/body&gt; &lt;/html&gt;</span><span class="c3">. Por lo que un archivo de una vista incluir&iacute;a </span><span class="c3 c12">&lt;%- body &nbsp;%&gt;</span><span class="c5 c3">. &nbsp;Los layouts nunca se sirven sin una vista.</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c3">Por defecto, Sails compila todas las vistas en la plantilla (layout) que est&aacute; localizada en </span><span class="c3 c12">views/layout.ejs</span><span class="c5 c3">.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12 c55">Locals</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c3">Las variables que son accesibles desde la vista se les llama </span><span class="c3 c12">locals</span><span class="c5 c3">. Estas representan los datos recibidos desde el lado del servidor (backend), estas tampoco se pueden incluir en tu archivo HTML con la sintaxis propia de un archivo HTML, usan una sintaxis especial que provee el motor de vistas que escojas.</span></p><p class="c2"><span class="c0"></span></p><a id="t.d2e63635b644d00633a4942e88a91ac92ea991bb"></a><a id="t.140"></a><table class="c77 c19"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c49 c43"><span class="c17">&lt;</span><span class="c6">div</span><span class="c17">&gt;</span><span class="c6">Logged in </span><span class="c17">as</span><span class="c6">&nbsp;</span><span class="c17">&lt;</span><span class="c6">a</span><span class="c17">&gt;&lt;</span><span class="c6">%</span><span class="c17">=</span><span class="c6">&nbsp;name %</span><span class="c17">&gt;&lt;</span><span class="c6">/a</span><span class="c17">&gt;</span><span class="c6">.</span><span class="c17">&lt;</span><span class="c6">/div</span><span class="c17">&gt;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12">Usando locals en nuestras vistas</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c3">Como hemos dicho, la notaci&oacute;n para acceder a </span><span class="c3 c12">locals </span><span class="c3">depende del motor de vistas que utilices. En </span><span class="c3 c12">EJS</span><span class="c3">&nbsp;usamos una etiqueta especial para incluir </span><span class="c3 c12">locals </span><span class="c3">en nuestra vista (Ej. </span><span class="c3 c12">&lt;%= algunValor %&gt;</span><span class="c5 c3">) </span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c3">Hay tres tipos de etiquetas en una plantilla </span><span class="c3 c12">EJS</span><span class="c5 c3">:</span></p><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_ozrzovx1mz7z-0 start"><li class="c4 c34"><span class="c1">&lt;%= algunValor %&gt;</span></li></ul><ul class="c10 lst-kix_ozrzovx1mz7z-1 start"><li class="c4 c25"><span class="c3 c12">HTML-escape </span><span class="c5 c3">trata el valor como una cadena de texto (string)</span></li></ul><ul class="c10 lst-kix_ozrzovx1mz7z-0"><li class="c4 c34"><span class="c1">&lt;%- algunRawHtml %&gt;</span></li></ul><ul class="c10 lst-kix_ozrzovx1mz7z-1 start"><li class="c4 c25"><span class="c5 c3">Cuidado! Esta etiqueta es vulnerable a ataques XSS, no es recomendable usarla si no sabes lo que haces. </span></li></ul><ul class="c10 lst-kix_ozrzovx1mz7z-0"><li class="c4 c34"><span class="c1">&lt;% if (!loggedIn) { %&gt; &lt;a&gt;Logout&lt;/a&gt; &lt;% } %&gt;</span></li></ul><ul class="c10 lst-kix_ozrzovx1mz7z-1 start"><li class="c4 c25"><span class="c5 c3">Se ejecuta en el momento que la vista se compila.</span></li><li class="c4 c25"><span class="c5 c3">Muy &uacute;til cuando se utilizan condicionales (if / else) o bucles (for / each)</span></li></ul><p class="c2"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c3">Un ejemplo de una vista usando dos </span><span class="c3 c12">locals</span><span class="c5 c3">, &ldquo;user&rdquo; y &ldquo;corndog&rdquo; : </span></p><p class="c2"><span class="c0"></span></p><a id="t.15b69f2ba11a2039e4f10ee4b3192bcd5b054f05"></a><a id="t.141"></a><table class="c77 c19"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c49 c43"><span class="c54">&lt;</span><span class="c40">div</span><span class="c54">&gt;</span><span class="c6"><br> &nbsp;</span><span class="c54">&lt;</span><span class="c40">h1</span><span class="c54">&gt;&lt;</span><span class="c6">%= user.name %</span><span class="c54">&gt;</span><span class="c6">&#39;s first view</span><span class="c54">&lt;/</span><span class="c40">h1</span><span class="c54">&gt;</span><span class="c6"><br> &nbsp;</span><span class="c54">&lt;</span><span class="c40">h2</span><span class="c54">&gt;</span><span class="c6">My corndog collection:</span><span class="c54">&lt;/</span><span class="c40">h2</span><span class="c54">&gt;</span><span class="c6"><br> &nbsp;</span><span class="c54">&lt;</span><span class="c40">ul</span><span class="c54">&gt;</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c54">&lt;</span><span class="c6">% _.each(corndogs, function (corndog) { %</span><span class="c54">&gt;</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c54">&lt;</span><span class="c40">li</span><span class="c54">&gt;&lt;</span><span class="c6">%= corndog.name %</span><span class="c54">&gt;&lt;/</span><span class="c40">li</span><span class="c54">&gt;</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c54">&lt;</span><span class="c6">% }) %</span><span class="c54">&gt;</span><span class="c6"><br> &nbsp;</span><span class="c54">&lt;/</span><span class="c40">ul</span><span class="c54">&gt;</span><span class="c6"><br></span><span class="c54">&lt;/</span><span class="c40">div</span><span class="c54">&gt;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c3">Si los datos que quieres transmitir a la vista son est&aacute;ticos, no es necesario recurrir a un controlador, con lo que introduciremos </span><span class="c3 c12">locals </span><span class="c3">en la ruta directamente. Recuerda que las rutas se encuentran en el archivo </span><span class="c3 c12">config/routes.js</span><span class="c5 c3">. Observa un ejemplo:</span></p><p class="c4"><span class="c0">&nbsp;</span></p><a id="t.49e5bfa41b4eb88c51a75c818fdf61ad9b2b6e5e"></a><a id="t.142"></a><table class="c19 c77"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c49 c43"><span class="c11">// ...</span><span class="c6"><br> &nbsp;</span><span class="c13">&#39;get /profile&#39;</span><span class="c6">: {<br> &nbsp; &nbsp;view: </span><span class="c13">&#39;backOffice/profile&#39;</span><span class="c6">,<br> &nbsp; &nbsp;locals: {<br> &nbsp; &nbsp; &nbsp;user: {<br> &nbsp; &nbsp; &nbsp; &nbsp;name: </span><span class="c13">&#39;Frank&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; &nbsp;emailAddress: </span><span class="c13">&#39;frank@enfurter.com&#39;</span><span class="c6"><br> &nbsp; &nbsp; &nbsp;},<br> &nbsp; &nbsp; &nbsp;corndogs: [<br> &nbsp; &nbsp; &nbsp; &nbsp;{ name: </span><span class="c13">&#39;beef corndog&#39;</span><span class="c6">&nbsp;},<br> &nbsp; &nbsp; &nbsp; &nbsp;{ name: </span><span class="c13">&#39;chicken corndog&#39;</span><span class="c6">&nbsp;},<br> &nbsp; &nbsp; &nbsp; &nbsp;{ name: </span><span class="c13">&#39;soy corndog&#39;</span><span class="c6">&nbsp;}<br> &nbsp; &nbsp; &nbsp;]<br> &nbsp; &nbsp;}<br> &nbsp;},<br> &nbsp;</span><span class="c11">// ...</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c3">Por otra parte en la mayor&iacute;a de los casos, los datos recibidos ser&aacute;n din&aacute;micos, con lo que necesitaremos de un controlador que se encargue de gestionar los modelos para recuperar algunos datos de la base de datos y los pase a la vista por medio del m&eacute;todo </span><span class="c3 c12">res.view</span><span class="c5 c3">.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c5 c3">Asumiendo que en la ruta la hemos asociado a una acci&oacute;n de controlador y que los modelos est&aacute;n definidos, podr&iacute;amos enviar a la vista algo como esto:</span></p><p class="c2"><span class="c0"></span></p><a id="t.09ea275eb57a6548c7867293a9d661892e18af26"></a><a id="t.143"></a><table class="c38"><tbody><tr class="c22"><td class="c109" colspan="1" rowspan="1"><p class="c49 c43"><span class="c11">// en api/controllers/UserController.js...</span><span class="c6"><br><br> &nbsp;</span><span class="c42 c33">profile</span><span class="c6">: </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(req, res) {<br> &nbsp; &nbsp;</span><span class="c11">// ...</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.view(</span><span class="c13">&#39;backOffice/profile&#39;</span><span class="c6">, {<br> &nbsp; &nbsp; &nbsp;user: theUser,<br> &nbsp; &nbsp; &nbsp;corndogs: theUser.corndogCollection<br> &nbsp; &nbsp;});<br> &nbsp;},<br> &nbsp;</span><span class="c45 c11">// ...</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12 c55">Partials</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span>Sails usa </span><span class="c12">ejs-locals</span><span class="c0">&nbsp;en las vistas para renderizar c&oacute;digo, de la siguiente manera :</span></p><p class="c2"><span class="c0"></span></p><a id="t.20a7a7077846d544f1f5e2c919617b31afa9f8e1"></a><a id="t.144"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c105" colspan="1" rowspan="1"><p class="c49 c43"><span class="c17">&lt;</span><span class="c6">%</span><span class="c17">-</span><span class="c6">&nbsp;partial (</span><span class="c13">&#39;foo.ejs&#39;</span><span class="c6">) %</span><span class="c17">&gt;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span>Renderiza un </span><span class="c12">partial </span><span>(Trozo de c&oacute;digo) que est&aacute; ubicado en la carpeta </span><span class="c12">/views/foo.ejs</span><span>. Esta etiqueta es como si hici&eacute;semos un </span><span class="c12">include </span><span class="c0">(incluye el archivo en la vista)</span></p><p class="c4 c19"><span>Las rutas que establezcas ser&aacute;n relativas a la vista que est&aacute; cargando el </span><span class="c12">partial </span><span>(Trozo de c&oacute;digo). As&iacute; que si tienes una vista de un usuario en </span><span class="c12">/views/users/view.ejs</span><span>&nbsp;y quieres cargar un archivo en </span><span class="c12">/views/partials/widget.ejs</span><span class="c0">, entonces deber&aacute;s usar :</span></p><p class="c2"><span class="c0"></span></p><a id="t.e9f969d43cee6d9f59fd414aacb6fe152be04dd6"></a><a id="t.145"></a><table class="c38"><tbody><tr class="c22"><td class="c109" colspan="1" rowspan="1"><p class="c49 c43"><span class="c17">&lt;</span><span class="c6">%</span><span class="c17">-</span><span class="c6">&nbsp;partial (</span><span class="c13">&#39;../partials/widget.ejs&#39;</span><span class="c6">) %</span><span class="c17 c45">&gt;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span>Algo a tener en cuenta es que </span><span class="c12">partials</span><span class="c0">&nbsp;se renderizan de forma sincr&oacute;nica, con lo que Sails quedar&aacute; parado o bloqueado hasta que la petici&oacute;n haya terminado de cargar. Es algo que has de tener en cuenta cuando est&aacute;s creando tu aplicaci&oacute;n, especialmente si esperas un gran n&uacute;mero de peticiones.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12 c55">Motor de vistas</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span>Como hemos comentado anteriormente, por defecto Sails utiliza el motor de vistas </span><span class="c12">EJS</span><span class="c0">.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12">Cambiar el motor de vistas</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c3">Para usar un motor de vistas diferente, instalaremos mediante </span><span class="c3 c12">npm</span><span class="c3">&nbsp;el que escojamos para usar en nuestro proyecto, y en el archivo </span><span class="c3 c12">config/views.js</span><span class="c5 c3">&nbsp;establecemos el nombre de este.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c3">Por ejemplo si el que escogemos es </span><span class="c3 c12">jade</span><span class="c3">, ejecutamos </span><span class="c3 c12">npm install jade --save-dev</span><span class="c3">, y establecemos (en </span><span class="c3 c12">sails.config.views.engine</span><span class="c3">)</span><span class="c3 c12">&nbsp; engine: </span><span class="c5 c3">&lsquo;jade&rsquo;</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c1">Motores de vistas soportados</span></p><p class="c2"><span class="c46 c44 c33"></span></p><ul class="c10 lst-kix_djwvpntgt9wn-0 start"><li class="c59 c34 c43"><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/soywiz/atpl.js&amp;sa=D&amp;ust=1526912178784000">atpl</a></span></li><li class="c59 c34 c43"><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/akdubya/dustjs&amp;sa=D&amp;ust=1526912178784000">dust</a></span><span class="c3">&nbsp;</span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=http://akdubya.github.com/dustjs/&amp;sa=D&amp;ust=1526912178785000">(website)</a></span><span class="c5 c3">&nbsp;(.dust)</span></li><li class="c59 c34 c43"><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/sstephenson/eco&amp;sa=D&amp;ust=1526912178785000">eco</a></span></li><li class="c59 c34 c43"><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/baryshev/ect&amp;sa=D&amp;ust=1526912178785000">ect</a></span><span class="c3">&nbsp;</span><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=http://ectjs.com/&amp;sa=D&amp;ust=1526912178785000">(website)</a></span></li><li class="c59 c34 c43"><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/visionmedia/ejs&amp;sa=D&amp;ust=1526912178786000">ejs</a></span><span class="c5 c3">&nbsp;(.ejs)</span></li><li class="c59 c34 c43"><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/visionmedia/haml.js&amp;sa=D&amp;ust=1526912178786000">haml</a></span><span class="c3">&nbsp;</span><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=http://haml-lang.com/&amp;sa=D&amp;ust=1526912178786000">(website)</a></span></li><li class="c59 c34 c43"><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/9elements/haml-coffee&amp;sa=D&amp;ust=1526912178786000">haml-coffee</a></span><span class="c3">&nbsp;</span><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=http://haml-lang.com/&amp;sa=D&amp;ust=1526912178786000">(website)</a></span></li><li class="c59 c34 c43"><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/wycats/handlebars.js/&amp;sa=D&amp;ust=1526912178787000">handlebars</a></span><span class="c3">&nbsp;</span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=http://handlebarsjs.com/&amp;sa=D&amp;ust=1526912178787000">(website)</a></span><span class="c5 c3">&nbsp;(.hbs)</span></li><li class="c59 c34 c43"><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/twitter/hogan.js&amp;sa=D&amp;ust=1526912178787000">hogan</a></span><span class="c3">&nbsp;</span><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=http://twitter.github.com/hogan.js/&amp;sa=D&amp;ust=1526912178787000">(website)</a></span></li><li class="c59 c34 c43"><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/visionmedia/jade&amp;sa=D&amp;ust=1526912178787000">jade</a></span><span class="c3">&nbsp;</span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=http://jade-lang.com/&amp;sa=D&amp;ust=1526912178788000">(website)</a></span><span class="c5 c3">&nbsp;(.jade)</span></li><li class="c59 c34 c43"><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/shinetech/jazz&amp;sa=D&amp;ust=1526912178788000">jazz</a></span></li><li class="c59 c34 c43"><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/kof/node-jqtpl&amp;sa=D&amp;ust=1526912178788000">jqtpl</a></span><span class="c3">&nbsp;</span><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=http://api.jquery.com/category/plugins/templates/&amp;sa=D&amp;ust=1526912178788000">(website)</a></span></li><li class="c59 c34 c43"><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/baryshev/just&amp;sa=D&amp;ust=1526912178789000">JUST</a></span></li><li class="c59 c34 c43"><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/chjj/liquor&amp;sa=D&amp;ust=1526912178789000">liquor</a></span></li><li class="c59 c34 c43"><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/bestiejs/lodash&amp;sa=D&amp;ust=1526912178789000">lodash</a></span><span class="c3">&nbsp;</span><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=http://lodash.com/&amp;sa=D&amp;ust=1526912178789000">(website)</a></span></li><li class="c59 c34 c43"><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/janl/mustache.js&amp;sa=D&amp;ust=1526912178790000">mustache</a></span></li><li class="c59 c34 c43"><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/jepso/QEJS&amp;sa=D&amp;ust=1526912178790000">QEJS</a></span></li><li class="c59 c34 c43"><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/Rich-Harris/Ractive&amp;sa=D&amp;ust=1526912178790000">ractive</a></span></li><li class="c59 c34 c43"><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/paularmstrong/swig&amp;sa=D&amp;ust=1526912178790000">swig</a></span><span class="c3">&nbsp;</span><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=http://paularmstrong.github.com/swig/&amp;sa=D&amp;ust=1526912178791000">(website)</a></span></li><li class="c59 c34 c43"><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=http://archan937.github.com/templayed.js/&amp;sa=D&amp;ust=1526912178791000">templayed</a></span></li><li class="c34 c43 c59"><span class="c3 c18"><a class="c16" href="https://www.google.com/url?q=https://github.com/malgorithms/toffee&amp;sa=D&amp;ust=1526912178791000">toffee</a></span></li><li class="c59 c34 c43"><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/documentcloud/underscore&amp;sa=D&amp;ust=1526912178792000">underscore</a></span><span class="c3">&nbsp;</span><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=http://documentcloud.github.com/underscore/&amp;sa=D&amp;ust=1526912178792000">(website)</a></span></li><li class="c59 c34 c43"><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/jeremyruppel/walrus&amp;sa=D&amp;ust=1526912178792000">walrus</a></span><span class="c3">&nbsp;</span><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=http://documentup.com/jeremyruppel/walrus/&amp;sa=D&amp;ust=1526912178792000">(website)</a></span></li><li class="c59 c34 c43"><span class="c18 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/gsf/whiskers.js&amp;sa=D&amp;ust=1526912178793000">whiskers</a></span></li></ul><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c44 c12 c115">10. Servicios</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Visi&oacute;n de conjunto</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Los servicios son considerados como librer&iacute;as o bibliotecas que contienen funciones que usaremos en varios lugares de nuestra aplicaci&oacute;n. Por ejemplo, t&uacute; puedes tener un servicio de env&iacute;o de correos electr&oacute;nicos en los que en varios sitios de tu aplicaci&oacute;n necesitar&aacute;s hacer uso de este servicio. El mayor beneficio de usar servicios es que est&aacute;n globalizados, no necesitas hacer un require() para acceder a ellos.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Como se crea un servicio</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span>Simplemente crea un archivo javascript que contenga una funci&oacute;n u objeto dentro de la carpeta </span><span class="c12">api/services</span><span class="c0">. El nombre del archivo es el que se utiliza para acceder al servicio globalmente. Mira este ejemplo para entenderlo mejor:</span></p><p class="c2"><span class="c0"></span></p><a id="t.d3c5ef39815af32c8c1979171e8af6376d8b29ef"></a><a id="t.146"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c11">// EmailService.js - en la carpeta api/services</span><span class="c6"><br>module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br><br> &nbsp; &nbsp;</span><span class="c42 c33">sendInviteEmail</span><span class="c6">: </span><span class="c17">function</span><span class="c6">(options) {<br><br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c17">var</span><span class="c6">&nbsp;opts </span><span class="c17">=</span><span class="c6">&nbsp;{&quot;type&quot;:</span><span class="c13">&quot;messages&quot;</span><span class="c6">,&quot;call&quot;:</span><span class="c13">&quot;send&quot;</span><span class="c6">,&quot;message&quot;:<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c13">&quot;subject&quot;</span><span class="c6">: </span><span class="c13">&quot;YourIn!&quot;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c13">&quot;from_email&quot;</span><span class="c6">: </span><span class="c13">&quot;info@balderdash.co&quot;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c13">&quot;from_name&quot;</span><span class="c6">: </span><span class="c13">&quot;AmazingStartupApp&quot;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c13">&quot;to&quot;</span><span class="c6">:[<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&quot;email&quot;: options.email, </span><span class="c13">&quot;name&quot;</span><span class="c6">: options.name}<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;],<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c13">&quot;text&quot;</span><span class="c6">: </span><span class="c13">&quot;Dear &quot;</span><span class="c17">+</span><span class="c6">options.name</span><span class="c17">+</span><span class="c13">&quot;,\nYou&#39;re in the Beta! Click &lt;insert link&gt; to verify your account&quot;</span><span class="c6"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br> &nbsp; &nbsp; &nbsp; &nbsp;};<br><br> &nbsp; &nbsp; &nbsp; &nbsp;myEmailSendingLibrary.send(opts);<br><br> &nbsp; &nbsp;}<br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Para acceder a este servicio desde un controlador, lo har&iacute;amos de la siguiente manera:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.04afce500dc9db374a9835f51cc5f03dddfc04b9"></a><a id="t.147"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c11">// En alg&uacute;n controlador</span><span class="c6"><br> &nbsp;EmailService.sendInviteEmail({email: </span><span class="c13">&#39;test@test.com&#39;</span><span class="c6">, name: </span><span class="c13">&#39;test&#39;</span><span class="c6">});</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c44 c115 c12">11. Seguridad</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Visi&oacute;n de conjunto</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Sails y Express proporcionan protecci&oacute;n para nuestras aplicaciones relativamente f&aacute;cil de configurar, contra los tipos m&aacute;s conocidos de ataques que existen a nivel de aplicaci&oacute;n web.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12">Cross-Origin Resource Sharing (CORS)</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c3">CORS es un mecanismo que permite que muchos recursos (fuentes, javascript, etc) de una p&aacute;gina web puedan hacer peticiones a otro dominio diferente del dominio desde el que se origin&oacute; el recurso. Por ejemplo, </span><span class="c3 c12">http://miotrositio.com </span><span class="c3">hace una petici&oacute;n a </span><span class="c3 c12">http://api.misitio.com</span><span class="c5 c3">. Al igual que con JSONP, el objetivo de CORS es funcionar como un m&eacute;todo seguro para eludir la pol&iacute;tica de que las peticiones siempre vengan del mismo origen, permitiendo a Sails responder con &eacute;xito a las peticiones provenientes de otros dominios. Pero a diferencia de JSONP, podemos hacer uso de peticiones como POST, PUT, DELETE, etc.</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c5 c3">Sails puede configurarse para permitir peticiones cross-origin a partir de una lista de dominios o desde cualquier dominio. Lo podemos hacer a nivel de rutas o globalmente para toda la aplicaci&oacute;n.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12">Activando CORS</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c5 c3">Por razones de seguridad, CORS viene desactivado por defecto. Pero activarlo es muy simple.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c3">Para permitir peticiones cross-origin desde cualquier dominio a cualquier ruta de nuestra aplicaci&oacute;n solo debemos establecer </span><span class="c3 c12">allRoutes</span><span class="c3">&nbsp;(config/cors.js) a </span><span class="c3 c12">true</span><span class="c5 c3">. </span></p><p class="c2"><span class="c0"></span></p><a id="t.04ae93f373b71ac357e450594e4d7c63f3c6c911"></a><a id="t.148"></a><table class="c38"><tbody><tr class="c22"><td class="c109" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">allRoutes: </span><span class="c7">true</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c1">Configurando CORS para rutas individuales</span></p><p class="c2 c15"><span class="c1"></span></p><p class="c4 c19"><span class="c5 c3">Adem&aacute;s de poder configurar CORS de forma global, tambi&eacute;n podemos establecer rutas que podr&aacute;n ser accedidas desde otros dominios. </span></p><p class="c2"><span class="c0"></span></p><a id="t.0d0843d78b3695960bc56cd9caeac9254d6d8422"></a><a id="t.149"></a><table class="c36"><tbody><tr class="c22"><td class="c124" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">&quot;get /foo&quot;: {<br> &nbsp; controller: </span><span class="c13">&quot;FooController&quot;</span><span class="c6">,<br> &nbsp; action: </span><span class="c13">&quot;index&quot;</span><span class="c6">,<br> &nbsp; cors: </span><span class="c7">true</span><span class="c6 c45"><br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c3">De la misma manera que activamos </span><span class="c3 c12">cors</span><span class="c3">&nbsp;en la ruta, tambi&eacute;n podemos desactivar </span><span class="c3 c12">cors </span><span class="c3">en una ruta. Podr&iacute;amos tener en la configuraci&oacute;n global </span><span class="c3 c12">allRoutes : true </span><span class="c5 c3">y en el archivo de configuraci&oacute;n de rutas desactivar aquellas que no queramos que sean accedidas desde otros dominios.</span></p><p class="c2"><span class="c0"></span></p><a id="t.7e9ec22985cd3ce9afb9539d7822add2735621b4"></a><a id="t.150"></a><table class="c77 c150"><tbody><tr class="c22"><td class="c125" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">&quot;get /foo&quot;: {<br> &nbsp; controller: </span><span class="c13">&quot;FooController&quot;</span><span class="c6">,<br> &nbsp; action: </span><span class="c13">&quot;index&quot;</span><span class="c6">,<br> &nbsp; cors: </span><span class="c7">false</span><span class="c6 c45"><br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c5 c3">Para anular los par&aacute;metros espec&iacute;ficos de configuraci&oacute;n global de CORS &nbsp;en una ruta, a&ntilde;adimos un objeto a la propiedad cors :</span></p><p class="c2"><span class="c0"></span></p><a id="t.04ec126b1fed035ab0356330b5ef01461be45588"></a><a id="t.151"></a><table class="c77 c119"><tbody><tr class="c22"><td class="c71" colspan="1" rowspan="1"><p class="c48 c43"><span class="c6">&quot;get /foo&quot;: {<br> &nbsp; controller: </span><span class="c13">&quot;FooController&quot;</span><span class="c6">,<br> &nbsp; action: </span><span class="c13">&quot;index&quot;</span><span class="c6">,<br> &nbsp; cors: {<br> &nbsp; &nbsp; origin: </span><span class="c13">&quot;http://sailsjs.org, http://sailsjs.com&quot;</span><span class="c6">,<br> &nbsp; &nbsp; credentials: </span><span class="c7">false</span><span class="c6 c45"><br> &nbsp; }<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">Nivel de seguridad</span></p><p class="c2"><span class="c1"></span></p><p class="c4 c19"><span class="c3">Por defecto, </span><span class="c3 c12">sails</span><span class="c3">&nbsp;procesa todas las peticiones que le llegan independientemente del dominio, le basta con establecer en las cabeceras la respuesta correspondiente para que el cliente pueda decidir si mostrar o no la respuesta. Por ejemplo, si enviamos una petici&oacute;n GET a una direcci&oacute;n </span><span class="c3 c12">/foo/bar </span><span class="c3">desde un dominio que no est&aacute; definido en nuestra lista CORS, la acci&oacute;n </span><span class="c3 c12">bar</span><span class="c5 c3">&nbsp;de nuestro controlador FooController.js se ejecutar&aacute;, pero el navegador rechazar&aacute; el resultado.</span></p><p class="c4 c19"><span class="c5 c3">Esto puede parecer contradictorio, pero esto es importante porque permite a los clientes que no est&aacute;n basados en navegadores, como pueden ser Postman o Curl seguir trabajando sin bloquearlos.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c3">Si lo que quieres es evitar que sails permita por completo las peticiones de dominios no permitidos, podemos utilizar el ajuste </span><span class="c3 c12 c27">securityLevel</span><span class="c5 c3">.</span></p><p class="c2"><span class="c0"></span></p><a id="t.ce9b82d3386d933c410b3a7082e9e5d40630edec"></a><a id="t.152"></a><table class="c77 c119"><tbody><tr class="c22"><td class="c71" colspan="1" rowspan="1"><p class="c24 c43"><span class="c6">module.exports.cors </span><span class="c17">=</span><span class="c6">&nbsp;{<br> &nbsp;allRoutes: </span><span class="c7">true</span><span class="c6">,<br> &nbsp;origin: </span><span class="c13">&quot;http://sailsjs.org&quot;</span><span class="c6">,<br> &nbsp;securityLevel: </span><span class="c7">1</span><span class="c6 c45"><br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c5 c3">Establecer el nivel de seguridad a &nbsp;1 &nbsp;har&aacute; que el c&oacute;digo de estado de respuesta a la petici&oacute;n sea un 403, para cualquier petici&oacute;n que provenga de un origen que no est&eacute; permitido, tanto si es HTTP o HTTPS.</span></p><p class="c4 c19"><span class="c5 c3">Un nivel de seguridad establecido a 2 es lo mismo, pero extendido a todos los protocolos, incluidos PostMan o Curl.</span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c2 c19"><span class="c5 c3"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12">Seguridad: CRSF</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c27 c78">&ldquo;</span><span class="c70 c27">El </span><span class="c70 c12 c27">CSRF</span><span class="c70 c27">&nbsp;(del ingl&eacute;s </span><span class="c70 c12 c27">Cross-site request forgery</span><span class="c27 c70">&nbsp;o falsificaci&oacute;n de petici&oacute;n en sitios cruzados) es un tipo de exploit malicioso de un sitio web en el que comandos no autorizados son transmitidos por un usuario en el cual el sitio web conf&iacute;a.</span><span class="c39 c33 c27 c78">&rdquo;</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c5 c3">Es un tipo de ataque que obliga al usuario final a ejecutar acciones no deseadas en el servidor, en nombre del usuario autenticado. En otras palabras, sin protecci&oacute;n, las cookies almacenadas en Google Chrome se pueden utilizar para enviar peticiones al servidor desde el ordenador del usuario que est&aacute; visitando la p&aacute;gina con esta vulnerabilidad.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12">Activando la protecci&oacute;n CRSF</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c3">Para activar en nuestra aplicaci&oacute;n la protecci&oacute;n CRSF, basta con que establezcamos a </span><span class="c3 c12">true </span><span class="c3">la propiedad</span><span class="c3 c12">&nbsp;csrf </span><span class="c3">en nuestro archivo </span><span class="c3 c12">config/csrf.js</span><span class="c5 c3">.</span></p><p class="c2"><span class="c0"></span></p><a id="t.c2a3cc5de02a3e199db82a8dba3096eb04922b78"></a><a id="t.153"></a><table class="c77 c19"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">csrf: </span><span class="c7">true</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c5 c3">Ten en cuenta que si ya tienes c&oacute;digo escrito con el que se comunica v&iacute;a POST, PUT o DELETE con el backend de tu aplicaci&oacute;n, ser&aacute; necesario adecuar tu c&oacute;digo para que esta protecci&oacute;n funcione correctamente, as&iacute; como incluir el token CSRF en la cabecera de las peticiones.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12">Tokens CRSF</span><span class="c1">&nbsp;</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c5 c3">La mayor&iacute;a de las aplicaciones en Node.js, Sails o Express son compatibles con conectores de protecci&oacute;n CSRF para protegerse de estos ataques. Este middleware implementa un patr&oacute;n de sincronizaci&oacute;n de Tokens. Cuando activamos la protecci&oacute;n CSRF, todas las peticiones a excepci&oacute;n de las GET, van acompa&ntilde;adas de un token especial, identificado en la cabecera, en un par&aacute;metro de la consulta o en el body HTTP.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c5 c3">Los tokens CSRF son sesiones espec&iacute;ficas temporales. Por ejemplo, imagina a Jordi y Laura, ambos son dos usuarios que est&aacute;n realizando compras en nuestro sitio que es un comercio electr&oacute;nico y este est&aacute; siendo ejecutado en Sails. La protecci&oacute;n CSRF tambi&eacute;n est&aacute; habilitada. Digamos que el Lunes tanto Jordi como Laura hacen sus compras. Para ello nuestro sitio tiene que enviar al menos dos tokens CSRF diferentes, uno para Jordi y otro para Laura. A partir de aqu&iacute;, cualquier petici&oacute;n que reciba nuestro servidor, donde el token sea nulo o incorrecto, este la rechaza. As&iacute; ahora podemos estar seguros de que cuando Laura se marche fuera de nuestro sitio a visitar otro, este otro no pueda enga&ntilde;ar al navegador para enviar peticiones maliciosas a nuestro sitio utilizando las cookies.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12">Obteniendo Tokens CRSF</span><span class="c1">&nbsp;</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c3">Para obtener un token CSFR, debe ser iniciada en tu vista usando </span><span class="c3 c12"><a class="c16" href="#id.gp2aedwpv11c">locals</a></span><span class="c3 c12">&nbsp;</span><span class="c5 c3">(Es una buena idea usar locals para aplicaciones web con varias p&aacute;ginas) o bien mediante sockets o AJAX.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c1">Usando locals en las vistas</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3">Para tener el CSRF en nuestra p&aacute;gina: </span><span class="c1">&lt;%= _csrf %&gt;</span></p><p class="c2"><span class="c0"></span></p><a id="t.fc65d1a5033f4d78a0d93ada6d9cf7d7fc82c0aa"></a><a id="t.154"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c105" colspan="1" rowspan="1"><p class="c43 c49"><span class="c6 c45">&lt;form action=&quot;/signup&quot; method=&quot;POST&quot;&gt;<br> &nbsp; &lt;input type=&quot;text&quot; name=&quot;emailaddress&quot;/&gt;<br> &nbsp; &lt;input type=&#39;hidden&#39; name=&#39;_csrf&#39; value=&#39;&lt;%= _csrf %&gt;&#39;&gt;<br> &nbsp; &lt;input type=&#39;submit&#39;&gt;<br>&lt;/form&gt;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c41 c3 c12">Seguridad: Clickjacking</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c83 c3">El </span><span class="c83 c3 c12">Clickjacking</span><span class="c5 c3 c83">, o Secuestro del clic, es una t&eacute;cnica maliciosa para enga&ntilde;ar a usuarios de Internet con el fin de que revelen informaci&oacute;n confidencial o tomar control de su computadora cuando hacen clic en p&aacute;ginas web aparentemente inocentes. En uno de los muchos navegadores o plataformas con alguna vulnerabilidad, un ataque de clickjacking puede tomar la forma de c&oacute;digo embebido o script que se ejecuta sin el conocimiento del usuario; por ejemplo, aparentando ser un bot&oacute;n para realizar otra funci&oacute;n.</span></p><p class="c2 c19"><span class="c5 c83 c3"></span></p><p class="c4 c15"><span class="c3 c12">X-FRAME-OPTIONS</span></p><p class="c4 c15"><span class="c5 c3">Una manera simple de prevenir este tipo de ataque, es activar X-FRAME-OPTIONS en la cabecera.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c3 c12">Usando </span><span class="c26 c3 c12"><a class="c16" href="https://www.google.com/url?q=https://github.com/krakenjs/lusca%23luscaxframevalue&amp;sa=D&amp;ust=1526912178812000">lusca</a></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c3 c12">lusca </span><span class="c5 c3">es una libreria open-source bajo licencia Apache</span></p><p class="c2"><span class="c0"></span></p><a id="t.348529f815c8011ff35ffe889773087333e2ead4"></a><a id="t.155"></a><table class="c36"><tbody><tr class="c22"><td class="c124" colspan="1" rowspan="1"><p class="c49 c43"><span class="c11"># Instalamos lusca en nuestra aplicaci&oacute;n</span><span class="c6"><br>npm install lusca </span><span class="c17">--</span><span class="c6 c45">save</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3">Una vez instalado, configuramos este middleware en </span><span class="c3 c12">config/http.js</span><span class="c5 c3">&nbsp;</span></p><p class="c2"><span class="c0"></span></p><a id="t.9fa92b09709b1b584a0015cccce8171bbdf69887"></a><a id="t.156"></a><table class="c77 c150"><tbody><tr class="c22"><td class="c125" colspan="1" rowspan="1"><p class="c48 c43"><span class="c11">// ...</span><span class="c6"><br> &nbsp;xframe: require(</span><span class="c13">&#39;lusca&#39;</span><span class="c6">).xframe(</span><span class="c13">&#39;SAMEORIGIN&#39;</span><span class="c6">),<br> &nbsp;</span><span class="c11">// ...</span><span class="c6"><br> &nbsp;order: [<br> &nbsp; &nbsp;</span><span class="c11">// ...</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c13">&#39;xframe&#39;</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c11">// ...</span><span class="c6"><br> &nbsp;]</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c41 c3 c12">Seguridad: P3P</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c83 c3">La </span><span class="c83 c3 c12">Plataforma de Preferencias de Privacidad</span><span class="c83 c3">&nbsp;(</span><span class="c83 c3 c27">Platform for Privacy Preferences</span><span class="c83 c3">) o </span><span class="c83 c3 c12">P3P</span><span class="c83 c3">&nbsp;es un protocolo que permite a los sitios Web declarar las intenciones de uso de la informaci&oacute;n recopilada sobre los usuarios que lo visitan y dar de esta forma un mayor control a &eacute;stos sobre su informaci&oacute;n personal cuando navegan.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c3">Afortunadamente, existen varios m&oacute;dulos que dan soporte </span><span class="c3 c12">P3P </span><span class="c3">a Express y Sails. Para utilizar uno de estos m&oacute;dulos y manejar las cabeceras, instalamos usando </span><span class="c3 c12">npm install p3p --save</span><span class="c3">, seguidamente abrimos nuestro archivo </span><span class="c3 c12">config/http.js</span><span class="c5 c3">&nbsp;de nuestro proyecto y lo configuramos como un middleware personalizado. Algo parecido a esto:</span></p><p class="c2"><span class="c0"></span></p><a id="t.1df315f05cc983bab611be84f4fe83930677c8e8"></a><a id="t.157"></a><table class="c38"><tbody><tr class="c22"><td class="c109" colspan="1" rowspan="1"><p class="c49 c43"><span class="c11">// .....</span><span class="c6"><br>module.exports.http </span><span class="c17">=</span><span class="c6">&nbsp;{<br><br> &nbsp;middleware: {<br><br> &nbsp; &nbsp;p3p: require(</span><span class="c13">&#39;p3p&#39;</span><span class="c6">)(p3p.recommended), </span><span class="c11">// &lt;==== establecemos nuestro middleware personalizdo &nbsp;&quot;p3p&quot;</span><span class="c6"><br><br> &nbsp; &nbsp;order: [<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;startRequestTimer&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;p3p&#39;</span><span class="c6">, </span><span class="c11">// &lt;============ configuramos el orden de nuestro middleware &quot;p3p&quot;</span><span class="c6"><br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;cookieParser&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;session&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;bodyParser&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;handleBodyParserError&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;compress&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;methodOverride&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;poweredBy&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;$custom&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;router&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;www&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;favicon&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;404&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;500&#39;</span><span class="c6"><br> &nbsp; &nbsp;],<br> &nbsp; &nbsp;</span><span class="c11">// .....</span><span class="c6"><br> &nbsp;}<br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c56 c44 c12">12. Internacionalizaci&oacute;n </span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Visi&oacute;n de Conjunto</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Si tu aplicaci&oacute;n va a llegar a usuarios de distintos pa&iacute;ses y diferentes idiomas, &nbsp;la internacionalizaci&oacute;n y localizaci&oacute;n (i18n) va a ser una parte importante a tener en cuenta. Sails provee soporte para detectar las preferencias del lenguaje del usuario, traduciendo palabras o sentencias, gracias a </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/mashpie/i18n-node&amp;sa=D&amp;ust=1526912178817000">i18n-node</a></span><span class="c3">. (</span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://www.npmjs.org/package/i18n&amp;sa=D&amp;ust=1526912178818000">npm</a></span><span class="c5 c3">).</span></p><p class="c2"><span class="c5 c145"></span></p><p class="c2"><span class="c5 c145"></span></p><p class="c4"><span class="c3 c12">C&oacute;mo usarlo</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">En la &nbsp;vista:</span><span class="c0">&nbsp;</span></p><p class="c2"><span class="c0"></span></p><a id="t.015ba4d6881887d702d0d7ef2a96d1f5a042d104"></a><a id="t.158"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c17">&lt;</span><span class="c6">h1</span><span class="c17">&gt;</span><span class="c6">&nbsp;</span><span class="c17">&lt;</span><span class="c6">%</span><span class="c17">=</span><span class="c6">&nbsp;__(</span><span class="c13">&#39;Hello&#39;</span><span class="c6">) %</span><span class="c17">&gt;</span><span class="c6">&nbsp;</span><span class="c17">&lt;</span><span class="c6">/h1</span><span class="c17">&gt;</span><span class="c6"><br></span><span class="c17">&lt;</span><span class="c6">h1</span><span class="c17">&gt;</span><span class="c6">&nbsp;</span><span class="c17">&lt;</span><span class="c6">%</span><span class="c17">=</span><span class="c6">&nbsp;__(</span><span class="c13">&#39;Hello %s, how are you today?&#39;</span><span class="c6">, </span><span class="c13">&#39;Mike&#39;</span><span class="c6">) %</span><span class="c17">&gt;</span><span class="c6">&nbsp;</span><span class="c17">&lt;</span><span class="c6">/h1</span><span class="c17">&gt;</span><span class="c6"><br></span><span class="c17">&lt;</span><span class="c6">p</span><span class="c17">&gt;</span><span class="c6">&nbsp;</span><span class="c17">&lt;</span><span class="c6">%</span><span class="c17">=</span><span class="c6">&nbsp;i18n(</span><span class="c13">&#39;That</span><span class="c7">\&#39;</span><span class="c13">s right-- you can use either i18n() or __()&#39;</span><span class="c6">) %</span><span class="c17">&gt;</span><span class="c6">&nbsp;</span><span class="c17">&lt;</span><span class="c6">/p</span><span class="c17">&gt;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">En la controlador:</span></p><p class="c2"><span class="c0"></span></p><a id="t.ef98654771cfe75bc1eb3c3bc6d47e53f34e5242"></a><a id="t.159"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">req.__(</span><span class="c13">&#39;Hello&#39;</span><span class="c6">); </span><span class="c11">// =&gt; Hola</span><span class="c6"><br>req.__(</span><span class="c13">&#39;Hello %s&#39;</span><span class="c6">, </span><span class="c13">&#39;Marcus&#39;</span><span class="c6">); </span><span class="c11">// =&gt; Hola Marcus</span><span class="c6"><br>req.__(</span><span class="c13">&#39;Hello {{name}}&#39;</span><span class="c6">, { name: </span><span class="c13">&#39;Marcus&#39;</span><span class="c6">&nbsp;}); </span><span class="c45 c11">// =&gt; Hola Marcus</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">O si conoces el identificador de configuraci&oacute;n regional, puedes traducir desde cualquier parte de la aplicaci&oacute;n utilizando:</span></p><p class="c2"><span class="c0"></span></p><a id="t.b0ea4badb6ab7cfe7fa981062894170942feaf6b"></a><a id="t.160"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">sails.__({<br> &nbsp;phrase: </span><span class="c13">&#39;Hello&#39;</span><span class="c6">,<br> &nbsp;locale: </span><span class="c13">&#39;es&#39;</span><span class="c6"><br>});<br></span><span class="c45 c11">// =&gt; &#39;Hola!&#39;</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Locales</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">i18n lee archivos JSON-formateado desde el directorio &ldquo;locales&rdquo; (</span><span class="c3 c12">config/locales</span><span class="c5 c3">). Cada archivo corresponde con una configuraci&oacute;n regional (por lo general un idioma).</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Estos archivos contienen cadenas (como JSON pares clave-valor) en los que podemos usar tanto en las vistas como en controladores. </span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Un ejemplo de un archivo locale (</span><span class="c3 c12">config/locales/es.json</span><span class="c5 c3">):</span></p><p class="c2"><span class="c0"></span></p><a id="t.a9b1ffb348c1255716bb8e6700ae444208428e27"></a><a id="t.161"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">{<br> &nbsp; &nbsp;</span><span class="c13">&quot;Hello!&quot;</span><span class="c6">: </span><span class="c13">&quot;Hola!&quot;</span><span class="c6">,<br> &nbsp; &nbsp;</span><span class="c13">&quot;Hello %s, how are you today?&quot;</span><span class="c6">: </span><span class="c13">&quot;&iquest;Hola %s, como estas?&quot;</span><span class="c6 c45">,<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Algo a tener en cuenta cuando edites o crees un archivo de traducci&oacute;n es vigilar las may&uacute;sculas y min&uacute;sculas ya que Sails requiere coincidencias exactas para acceder. </span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Detectar o anular la preferencia del idioma</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Para anular la preferencia del idioma detectada autom&aacute;ticamente en una solicitud o petici&oacute;n (request), usa </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/mashpie/i18n-node%23setlocale&amp;sa=D&amp;ust=1526912178825000">req.setLocale()</a></span><span class="c5 c3">, como por ejemplo:</span></p><p class="c2"><span class="c0"></span></p><a id="t.a0c5994ade18f9e027f27c34ff09c2a4d3144139"></a><a id="t.162"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6 c45">// Forzar el idioma Alem&aacute;n:<br>req.setLocale(&#39;de&#39;);<br>// (Esto har&aacute; que se use las cadenas de texto localizadas en &nbsp;`config/locales/de.json` para la traducci&oacute;n)</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Por defecto node-i18n detectar&aacute; el idioma deseado examinando la cabecera de la petici&oacute;n (request).</span></p><p class="c4"><span class="c5 c3">En la configuraci&oacute;n del navegador (del usuario) se establece el idioma, que es pasado a trav&eacute;s de la petici&oacute;n al servidor en la cabecera, con ello sails autom&aacute;ticamente seleccionar&aacute; el archivo locale para servir al usuario el idioma predefinido, aunque si por alg&uacute;n motivo deseas cambiar o anular esta configuraci&oacute;n regional detectada, puedes proporcionar la tuya propia.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Por ejemplo, si tu aplicaci&oacute;n permite que los usuarios elegir el idioma, puedes crear una regla o pol&iacute;tica (policy) que compruebe el lenguaje que el usuario haya personalizado y si existe, establece la configuraci&oacute;n regional apropiada para su uso en todas las peticiones tanto para las acciones del controlador como las vistas.</span></p><p class="c2"><span class="c0"></span></p><a id="t.df8e62a6d730d335a33b02fa5a0947e032c5bdad"></a><a id="t.163"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c11">// api/policies/localize.js</span><span class="c6"><br></span><span class="c42 c33">module.exports</span><span class="c6">&nbsp;</span><span class="c17">=</span><span class="c6">&nbsp;</span><span class="c17">function</span><span class="c6 c45">(req, res, next) {<br> &nbsp;req.setLocale(req.session.languagePreference);<br> &nbsp;next();<br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c0">&nbsp;</span></p><p class="c2"><span class="c0"></span></p><a id="t.9f6666c0135dae9106a5e3e847cc1ffac2fbb226"></a><a id="t.164"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c11">// config/routes.js</span></p><p class="c49 c43"><span class="c42 c33">module.exports</span><span class="c6">&nbsp;</span><span class="c17">= {</span><span class="c41 c54 c33">&nbsp;</span></p><p class="c49 c43"><span class="c54 c55">&nbsp; &nbsp; </span><span class="c13 c45">&rsquo;/:lang/&rsquo;: &lsquo;MiControlador.index&rsquo;,</span></p><p class="c49 c43"><span class="c13 c45">&nbsp; &nbsp; &lsquo;/:lang/&rsquo;: &lsquo;MiControlador.ayuda&rsquo;,</span></p><p class="c49 c43"><span class="c13 c45">&nbsp; &nbsp; &lsquo;/:lang/&rsquo;: &lsquo;MiControlador.contact&rsquo;,</span></p><p class="c49 c43"><span class="c13">&nbsp; &nbsp; </span><span class="c11">// &hellip; etc ... </span></p><p class="c49 c43"><span class="c17">}</span></p><p class="c49 c43 c32"><span class="c41 c54 c33"></span></p><p class="c49 c43"><span class="c11">// config/policies.js</span></p><p class="c49 c43"><span class="c42 c33">module.exports</span><span class="c6">&nbsp;</span><span class="c17">= {</span><span class="c54 c55">&nbsp;</span><span class="c13">&lsquo;*&rsquo;</span><span class="c54 c55">&nbsp;: </span><span class="c13">&lsquo;localize</span><span class="c54 c55">&rsquo; </span><span class="c17">}</span><span class="c41 c54 c33">&nbsp;</span></p><p class="c49 c43 c32"><span class="c41 c54 c33"></span></p><p class="c49 c43"><span class="c11">// api/policies/localize.js</span></p><p class="c49 c43"><span class="c42 c33">module.exports</span><span class="c6">&nbsp;</span><span class="c17">= </span><span class="c54 c55">&nbsp;</span><span class="c6">locale(req, res, next) {</span><span class="c41 c54 c33">&nbsp;</span></p><p class="c49 c43"><span class="c54 c55">&nbsp; &nbsp; &nbsp;</span><span class="c6">req.setLocale(req.param(&lsquo;</span><span class="c13">lang&rsquo;</span><span class="c6 c45">));</span></p><p class="c49 c43"><span class="c6 c45">&nbsp; &nbsp; &nbsp; next();</span></p><p class="c49 c43"><span class="c6 c45">}; </span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c56 c44 c12">13. Pol&iacute;ticas (Policies)</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Visi&oacute;n de Conjunto</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Las pol&iacute;ticas en Sails son herramientas vers&aacute;tiles para autorizar, permitir o denegar el acceso a los controladores. Por ejemplo si est&aacute;s construyendo una aplicaci&oacute;n parecida a Dropbox, antes de permitir que un usuario pueda cargar un archivo en una carpeta, se deber&aacute; chequear si el usuario est&aacute; autentificado, tambi&eacute;n deber&aacute; comprobar si la carpeta tiene permisos de escritura. Finalmente tambi&eacute;n se comprobar&aacute; si la carpeta dispone de espacio suficiente para cargar el archivo.</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Las pol&iacute;ticas pueden ser utilizadas para: HTTP BasicAuth, 3rd party single-sing-on, OAuth 2.0 o para una autorizaci&oacute;n / autenticaci&oacute;n personalizada.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">NOTA: &nbsp;Las pol&iacute;ticas solamente se aplican a controladores y acciones, nunca a las vistas. Si defines una ruta en tu archivo </span><span class="c3 c12">routes.js</span><span class="c5 c3">&nbsp;que apunte hacia una vista, no podr&aacute;s aplicarle una pol&iacute;tica. </span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Escribiendo nuestra primera pol&iacute;tica</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span>Las pol&iacute;ticas se definen en la carpeta </span><span class="c12">api/policies</span><span class="c0">. Cada pol&iacute;tica s&oacute;lo podr&aacute; contener una funci&oacute;n.</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c0">Las pol&iacute;ticas son en realidad una funci&oacute;n middleware (Connect/Express) que corre antes que los controladores. Pueden encadenarse como quieras, de hecho est&aacute; pensado para utilizarse as&iacute;. Lo ideal es que cada funci&oacute;n middleware compruebe una sola cosa.</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c0">Por ejemplo, la pol&iacute;tica mencionada anteriormente (Comprobar si una carpeta tiene permisos de escritura) podr&iacute;a tener este aspecto:</span></p><p class="c2"><span class="c0"></span></p><a id="t.408451c64a9b47c1292c1f2aec0f0a12c3a6f790"></a><a id="t.165"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c11">// policies/canWrite.js</span><span class="c6"><br>module.exports </span><span class="c17">=</span><span class="c6">&nbsp;</span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;</span><span class="c42 c33">canWrite </span><span class="c6">(req, res, next) {<br> &nbsp;</span><span class="c17">var</span><span class="c6">&nbsp;targetFolderId </span><span class="c17">=</span><span class="c6">&nbsp;req.param(</span><span class="c13">&#39;id&#39;</span><span class="c6">);<br> &nbsp;</span><span class="c17">var</span><span class="c6">&nbsp;userId </span><span class="c17">=</span><span class="c6">&nbsp;req.session.user.id;<br><br> &nbsp;Permission<br> &nbsp;.findOneByFolderId( targetFolderId )<br> &nbsp;.exec( </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;</span><span class="c33 c42">foundPermission </span><span class="c6">(err, permission) {<br><br> &nbsp; &nbsp;</span><span class="c11">// Error inesperado-- salta al error por defecto (500)</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(err) </span><span class="c17">return</span><span class="c6">&nbsp;next(err);<br><br> &nbsp; &nbsp;</span><span class="c11">// No tiene permiso para esta carpeta. </span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;( </span><span class="c17">!</span><span class="c6">&nbsp;permission ) </span><span class="c17">return</span><span class="c6">&nbsp;res.redirect(</span><span class="c13">&#39;/notAllowed&#39;</span><span class="c6">);<br><br> &nbsp; &nbsp;</span><span class="c11">// Bien, se encontr&oacute; un permiso. Pero realmente el permiso le permite escribir?.</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;( permission.type </span><span class="c17">!==</span><span class="c6">&nbsp;</span><span class="c13">&#39;write&#39;</span><span class="c6">&nbsp;) </span><span class="c17">return</span><span class="c6">&nbsp;res.redirect(</span><span class="c13">&#39;/notAllowed&#39;</span><span class="c6">);<br><br> &nbsp; &nbsp;</span><span class="c11">// Si ha llegado hasta aqu&iacute;, parece que todo est&aacute; bien, as&iacute; que dejamos que el usuario acceda a la carpeta.</span><span class="c6 c45"><br> &nbsp; &nbsp;next();<br> &nbsp;});<br>};</span></p><p class="c49 c43 c32"><span class="c6 c45"></span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Protegiendo Controladores con Pol&iacute;ticas</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Sails ha dise&ntilde;ado un ACL (Lista de Control de Acceso) ubicado en </span><span class="c3 c12">config/policies.js</span><span class="c5 c3">. Este archivo se usa para asignar pol&iacute;ticas a controladores.</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c5 c3">Este archivo es declarativo, lo que significa que describe los permisos de tu aplicaci&oacute;n, no la forma en que deben trabajar. Adem&aacute;s de hacernos la vida m&aacute;s f&aacute;cil a los desarrolladores, ya que se entiende bastante mejor lo que est&aacute; pasando en nuestra aplicaci&oacute;n, tambi&eacute;n hacemos una aplicaci&oacute;n m&aacute;s flexible.</span></p><p class="c4"><span class="c1">&nbsp;</span></p><p class="c4"><span class="c3">Tu archivo </span><span class="c3 c12">config/policies.js</span><span class="c3">&nbsp;exporta un objeto, con claves que son los nombres de los controladores (tambi&eacute;n podemos usar </span><span class="c3 c12">&lsquo;*&rsquo;</span><span class="c5 c3">, para que se aplique a todos los controladores) y los valores, el nombre de las acciones que hacen referencia a una o m&aacute;s pol&iacute;ticas, observa los siguientes ejemplos para hacerte una idea mejor.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.60e168531189cbf28b5a468a47a40a34ec4ee42c"></a><a id="t.166"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c45 c11">// Aplicamos la pol&iacute;tica &#39;isLoggedIn&#39; a la acci&oacute;n &#39;edit&#39; del controlador &#39;ProfileController&#39; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Tambi&eacute;n aplicamos las pol&iacute;ticas &lsquo;isAdmin&rsquo; y &lsquo;isLoggedIn a la acci&oacute;n create del controlador &lsquo;ProfileController&rsquo;</span></p><p class="c49 c43"><span class="c6">{<br> &nbsp;ProfileController: {<br> &nbsp; &nbsp; &nbsp;edit: </span><span class="c13">&#39;isLoggedIn&#39;</span><span class="c6"><br> &nbsp; &nbsp; <br> &nbsp; &nbsp; &nbsp;create: [</span><span class="c13">&#39;isAdmin&#39;</span><span class="c6">, </span><span class="c13">&#39;isLoggedIn&#39;</span><span class="c6 c45">]<br> &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><a id="t.14c733d06af55f5e78b9169e15b0e40e74749adb"></a><a id="t.167"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c45 c11">// Aplicamos la pol&iacute;tica &#39;isLoggedIn&#39; a todas las acciones del controlador &#39;ProfileController&#39; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Aplicamos las pol&iacute;ticas &lsquo;isAdmin&rsquo; y &lsquo;isLoggedIn a la acci&oacute;n edit del controlador &lsquo;ProfileController&rsquo;</span></p><p class="c49 c43"><span class="c6">{<br> &nbsp;ProfileController: {<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;*&#39;</span><span class="c6">: </span><span class="c13">&#39;isLoggedIn&#39;</span><span class="c6"><br> &nbsp; &nbsp; <br> &nbsp; &nbsp; &nbsp;edit: [</span><span class="c13">&#39;isAdmin&#39;</span><span class="c6">, </span><span class="c13">&#39;isLoggedIn&#39;</span><span class="c6 c45">]<br> &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><a id="t.83354334bc7be2f78997a609e27e7d788f2bdc22"></a><a id="t.168"></a><table class="c77 c99"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c45 c11">// Aplicamos la pol&iacute;tica &#39;isLoggedIn&#39; a todas las acciones de todos los controladores por defecto &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p><p class="c48 c43"><span class="c45 c11">// Aplicamos la pol&iacute;tica &lsquo;isAdmin&rsquo; a la acci&oacute;n foo del controlador &lsquo;ProfileController&rsquo;</span></p><p class="c49 c43"><span class="c6">{<br> &nbsp;</span><span class="c13">&#39;*&#39;</span><span class="c6">: </span><span class="c13">&#39;isLoggedIn&#39;</span><span class="c6">,<br> &nbsp;ProfileController: {<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;foo&#39;</span><span class="c6">: </span><span class="c13">&#39;isAdmin&#39;</span><span class="c6 c45"><br> &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Sails proporciona dos pol&iacute;ticas integradas que se pueden aplicar a nivel global de toda la aplicaci&oacute;n o a un controlador o acci&oacute;n espec&iacute;fico.</span></p><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_3ihm6str0kxg-0 start"><li class="c4 c47 c19"><span class="c3">true: &nbsp; </span><span class="c39 c3 c33 c27">acceso p&uacute;blico (cualquiera puede acceder al controlador o acci&oacute;n que se especifique)</span></li><li class="c4 c47 c19"><span class="c3">false: &nbsp;sin acceso (</span><span class="c39 c3 c33 c27">nadie podr&aacute; acceder a l controlador o acci&oacute;n especificada)</span></li></ul><p class="c2"><span class="c39 c3 c33 c27"></span></p><p class="c4"><span class="c3">Sails por defecto viene configurado [ </span><span class="c3 c12">&lsquo;*&rsquo;: true ] </span><span class="c5 c3">permitiendo el acceso a todos los controladores y acciones. En producci&oacute;n no es una buena pr&aacute;ctica dejarlo como esta, debes establecer el valor a false para evitar el acceso a controladores o acciones que no deber&iacute;an estar expuestas a cualquiera.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Algunos otros casos en los que las pol&iacute;ticas pueden ayudarnos al desarrollo de nuestra aplicaci&oacute;n son:</span></p><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_1ybkggemz7qs-0 start"><li class="c4 c47 c19"><span class="c5 c3">Autenticaci&oacute;n basada en Cookies</span></li><li class="c4 c19 c47"><span class="c5 c3">Control de acceso basado en roles</span></li><li class="c4 c47 c19"><span class="c5 c3">Limitar la subida de archivos controlando las MB</span></li><li class="c4 c47 c19"><span class="c5 c3">Cualquier otro tipo de autenticaci&oacute;n que puedas imaginar</span></li></ul><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c44 c115 c12">14. Middleware</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Sails es completamente compatible con Express, de hecho, casi todo el c&oacute;digo que escribimos en Sails es middleware, sobre todo las acciones de los controladores y pol&iacute;ticas (policies) de la aplicaci&oacute;n.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">HTTP Middleware</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Sails utiliza un adicional middleware configurable s&oacute;lo para el manejo de las peticiones HTTP. Cada vez que tu aplicaci&oacute;n recibe una petici&oacute;n HTTP la configuraci&oacute;n HTTP Middleware se ejecuta en el orden que veremos a continuaci&oacute;n</span><span class="c0">. </span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Convencionales Predeterminados</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Sails cuenta con un conjunto de middleware HTTP convencionales listo para usarse. Donde por supuesto podemos desactivar, sobreescribir, reordenar y a&ntilde;adir, aunque lo que viene por defecto es bastante aceptable para la mayor&iacute;a de las aplicaciones, tanto en desarrollo como en producci&oacute;n. Abajo mostramos una lista de funciones HTTP Middleware que vienen con Sails en el orden en que se ejecutan cada vez que el servidor recibe una petici&oacute;n HTTP.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.f5a2696b57dea877d04903bb020826315bbdff88"></a><a id="t.169"></a><table class="c52"><tbody><tr class="c22"><td class="c85 c153" colspan="1" rowspan="1"><p class="c31 c43"><span class="c1">key HTTP Middleware</span></p></td><td class="c100 c153" colspan="1" rowspan="1"><p class="c24 c43"><span class="c1">Descripci&oacute;n</span></p></td></tr><tr class="c22"><td class="c85" colspan="1" rowspan="1"><p class="c65 c43 c32"><span class="c1"></span></p><p class="c43 c65"><span class="c1">startRequestTimer</span></p></td><td class="c100" colspan="1" rowspan="1"><p class="c24 c43"><span class="c79 c14 c3 c33">Asigna una variable en la memoria para mantener fecha y hora desde que la petici&oacute;n se inici&oacute;. Podemos acceder y utilizarlo en nuestra aplicaci&oacute;n para proporcionar informaci&oacute;n sobre las peticiones que son lentas.</span></p></td></tr><tr class="c22"><td class="c85" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">cookieParser *</span></p></td><td class="c100" colspan="1" rowspan="1"><p class="c24 c43"><span class="c79 c14 c3 c33">Analiza la cookie de la cabecera en un objeto, para su uso posterior en alguna parte del c&oacute;digo de nuestra &nbsp;aplicaci&oacute;n</span></p></td></tr><tr class="c22"><td class="c85" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">session *</span></p></td><td class="c100" colspan="1" rowspan="1"><p class="c24 c43"><span class="c3 c14">Establece un objeto de sesi&oacute;n &uacute;nico, usando la </span><span class="c3 c27 c55">&nbsp;</span><span class="c26 c14 c3"><a class="c16" href="https://www.google.com/url?q=http://sailsjs.org/%23!/documentation/reference/sails.config/sails.config.session.html&amp;sa=D&amp;ust=1526912178843000">configuraci&oacute;n de sesi&oacute;n</a></span><span class="c26 c3 c27 c55"><a class="c16" href="https://www.google.com/url?q=http://sailsjs.org/%23!/documentation/reference/sails.config/sails.config.session.html&amp;sa=D&amp;ust=1526912178843000">&nbsp;</a></span></p></td></tr><tr class="c22"><td class="c85" colspan="1" rowspan="1"><p class="c31 c43"><span class="c1">bodyParser</span></p></td><td class="c100" colspan="1" rowspan="1"><p class="c24 c43"><span class="c79 c14 c3 c33">Analiza par&aacute;metros del cuerpo (body) de la petici&oacute;n HTTP, para usarlos.</span></p></td></tr><tr class="c22"><td class="c85" colspan="1" rowspan="1"><p class="c31 c43"><span class="c1">compress</span></p></td><td class="c100" colspan="1" rowspan="1"><p class="c24 c43"><span class="c14 c3">Comprime los datos de la respuesta usando </span><span class="c79 c14 c3 c12">gzip</span></p></td></tr><tr class="c22"><td class="c85" colspan="1" rowspan="1"><p class="c31 c43 c32"><span class="c1"></span></p><p class="c31 c43 c32"><span class="c1"></span></p><p class="c31 c43"><span class="c1">methodOverride</span></p></td><td class="c100" colspan="1" rowspan="1"><p class="c24 c43"><span class="c14 c3">Proporciona soporte, imitando el m&eacute;todo HTTP, esto permite usar los verbos HTTP como PUT o DELETE en lugares donde el navegador del cliente no lo soporta (ej. versiones anteriores de Internet Explorer). Si la petici&oacute;n contiene el m&eacute;todo (_method) establecido en PUT, la peticici&oacute;n es ruteada como si fuera una petici&oacute;n PUT adecuada. Para m&aacute;s informaci&oacute;n quiz&aacute;s quieras dar un vistazo a la documentaci&oacute;n </span><span class="c26 c14 c3"><a class="c16" href="https://www.google.com/url?q=http://www.senchalabs.org/connect/methodOverride.html&amp;sa=D&amp;ust=1526912178846000">Connect&#39;s methodOverride</a></span></p></td></tr><tr class="c22"><td class="c85" colspan="1" rowspan="1"><p class="c31 c43"><span class="c1">poweredBy</span></p></td><td class="c100" colspan="1" rowspan="1"><p class="c24 c43"><span class="c14 c3">Adjunta </span><span class="c14 c3 c12">X-Powered-By</span><span class="c79 c14 c3 c33">&nbsp;a las cabecera de la respuesta.</span></p></td></tr><tr class="c22"><td class="c85" colspan="1" rowspan="1"><p class="c31 c43 c32"><span class="c1"></span></p><p class="c31 c43 c32"><span class="c1"></span></p><p class="c31 c43"><span class="c1">$custom</span></p></td><td class="c100" colspan="1" rowspan="1"><p class="c24 c43"><span class="c14 c3">Proporciona compatibilidad de opciones de configuraci&oacute;n de versiones anteriores de </span><span class="c14 c3 c12">Sails</span><span class="c14 c3">&nbsp;v0.9.x hasta </span><span class="c14 c3 c12">Sails</span><span class="c14 c3">&nbsp;v0.10 ofreciendo mucha m&aacute;s flexibilidad a la hora de configurar HTTP Middleware, siempre y cuando no est&eacute;s utilizando </span><span class="c14 c3 c12">sails.config.express.customMiddleware, </span><span class="c79 c14 c3 c33">en ese caso puedes quitar este elemento con total seguridad de la lista</span></p></td></tr><tr class="c22"><td class="c85" colspan="1" rowspan="1"><p class="c31 c43 c32"><span class="c5 c3"></span></p><p class="c31 c43"><span class="c5 c3">router *</span></p></td><td class="c100" colspan="1" rowspan="1"><p class="c24 c43"><span class="c14 c3">Aqu&iacute; es donde ocurrir&aacute; la mayor parte de la l&oacute;gica de tu aplicaci&oacute;n en la que se aplicar&aacute; a cualquier petici&oacute;n. Adem&aacute;s corren antes que algunos procesos internos de Sails, estas peticiones de rutas utilizan las rutas expl&iacute;citas de nuestra aplicaci&oacute;n (</span><span class="c14 c3 c12">sails.config.routes</span><span class="c79 c14 c3 c33">) y/o las rutas blueprint</span></p></td></tr><tr class="c22"><td class="c85" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">www *</span></p></td><td class="c100" colspan="1" rowspan="1"><p class="c24 c43"><span class="c14 c3">Sirve archivos est&aacute;ticos como por ejemplo im&aacute;genes, hojas de estilo, scripts, &hellip; en la carpeta &ldquo;public&rdquo; (configurada en </span><span class="c14 c3 c12">sails.config.paths </span><span class="c14 c3">y si no lo tienes configurado convencionalmente en </span><span class="c14 c3 c12">.tmp/public/ </span><span class="c14 c3">) usando </span><span class="c26 c14 c3"><a class="c16" href="https://www.google.com/url?q=http://www.senchalabs.org/connect/static.html&amp;sa=D&amp;ust=1526912178849000">Connect&rsquo;s static middleware</a></span></p></td></tr><tr class="c22"><td class="c85" colspan="1" rowspan="1"><p class="c31 c43"><span class="c1">favicon</span></p></td><td class="c100" colspan="1" rowspan="1"><p class="c24 c43"><span class="c14 c3">Sirve al navegador el icono que vemos en las pesta&ntilde;as, este icono al que llamamos favicon est&aacute; ubicado en </span><span class="c79 c14 c3 c12">/assets/favicon.ico</span></p></td></tr><tr class="c22"><td class="c85" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">404 *</span></p></td><td class="c100" colspan="1" rowspan="1"><p class="c24 c43"><span class="c14 c3">Maneja las peticiones que no coinciden con ninguna ruta, ejecutando </span><span class="c79 c14 c3 c12">res.notFound()</span></p></td></tr><tr class="c22"><td class="c85" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">500 *</span></p></td><td class="c100" colspan="1" rowspan="1"><p class="c24 c43"><span class="c14 c3">Maneja las peticiones que desencadenan en error interno del servidor, como por ejemplo una llamada de Express </span><span class="c14 c3 c12">next(err)</span><span class="c14 c3">, ejecutando </span><span class="c14 c3 c12">res.serverError()</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Leyenda:</span></p><ul class="c10 lst-kix_sq802hiknv0u-0 start"><li class="c4 c47 c19"><span class="c5 c3">* &nbsp;- El middleware con un asterisco (*) mostrado en la lista de arriba, no deber&iacute;a nunca ser modificado o eliminado. Hazlo si realmente sabes lo que</span></li></ul><p class="c4"><span class="c5 c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; est&aacute;s haciendo.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">A&ntilde;adir o Anular un HTTP Middleware</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Para construir una funci&oacute;n HTTP Middleware personalizada, definimos una nueva key (clave) </span><span class="c3 c12">sails.config.http.middleware.foobar</span><span class="c3">&nbsp;y lo a&ntilde;adimos en la funci&oacute;n de configuraci&oacute;n middleware, a continuaci&oacute;n a&ntilde;adimos el nombre como cadena de texto (string) al array </span><span class="c3 c12">sails.config.http.middleware.order</span><span class="c3">&nbsp;justo donde deseemos que ejecute, recuerda que tal y como est&aacute;n en la lista se ejecutan ordenadamente uno despu&eacute;s del otro. Una buena ubicaci&oacute;n para ponerla podr&iacute;a ser justo despu&eacute;s de &ldquo;cookieParser&rdquo;. A continuaci&oacute;n un ejemplo de lo dicho hasta ahora del archivo </span><span class="c3 c12">config/http.js</span><span class="c5 c3">&nbsp;:</span></p><p class="c2"><span class="c0"></span></p><a id="t.845947167c004d8be4497b1d9365dd352d09f3ce"></a><a id="t.170"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c11">// ...</span><span class="c6"><br> &nbsp;middleware: {<br><br> &nbsp; &nbsp;</span><span class="c11">// Definimos una funci&oacute;n HTTP middleware personalalizada con el nombre de la key (clave) `foobar`:</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c42 c33">foobar</span><span class="c6">: </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(req,res,next) { </span><span class="c11">/*...*/</span><span class="c6">&nbsp;next(); },<br><br> &nbsp; &nbsp;</span><span class="c11">// Definimos un par de funciones HTTP middleware con nombres de keys `passportInit` y `passportSession`</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c11">// (Aqu&iacute; utilizamos una librer&iacute;a middleware existente de npm)</span><span class="c6"><br> &nbsp; &nbsp;passportInit &nbsp; &nbsp;: require(</span><span class="c13">&#39;passport&#39;</span><span class="c6">).initialize(),<br> &nbsp; &nbsp;passportSession : require(</span><span class="c13">&#39;passport&#39;</span><span class="c6">).session(),<br><br> &nbsp; &nbsp;</span><span class="c11">// Reemplazamos la funci&oacute;n convencional cookie parser:</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c42 c33">cookieParser</span><span class="c6">: </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(req, res, next) { </span><span class="c11">/*...*/</span><span class="c6">&nbsp;next(); },<br><br><br> &nbsp; &nbsp;</span><span class="c11">// Ahora configuramos ordenadamente nuestros HTTP middleware</span><span class="c6"><br> &nbsp; &nbsp;order: [<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;startRequestTimer&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;cookieParser&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;session&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;passportInit&#39;</span><span class="c6">, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c11">// &lt;==== passport HTTP middleware este corre despu&eacute;s de &nbsp;&quot;session&quot;</span><span class="c6"><br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;passportSession&#39;</span><span class="c6">, &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c11">// &lt;==== (Documentaci&oacute;n en &nbsp;https://github.com/jaredhanson/passport#middleware)</span><span class="c6"><br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;bodyParser&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;compress&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;foobar&#39;</span><span class="c6">, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c11">// &lt;==== nuestro HTTP middleware personalizado</span><span class="c6"><br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;methodOverride&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;poweredBy&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;$custom&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;router&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;www&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;favicon&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;404&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp;</span><span class="c13">&#39;500&#39;</span><span class="c6"><br> &nbsp; &nbsp;]<br> &nbsp;},<br><br> &nbsp;</span><span class="c42 c33">customMiddleware</span><span class="c6">: </span><span class="c17">function</span><span class="c6">(app){<br> &nbsp; &nbsp; </span><span class="c11">// destinado a otro middleware que no siga la convenci&oacute;n &nbsp;&#39;app.use(middleware)&#39;</span><span class="c6"><br> &nbsp; &nbsp; require(</span><span class="c13">&#39;other-middleware&#39;</span><span class="c6">).initialize(app);<br> &nbsp;}<br> &nbsp;</span><span class="c45 c11">// ...</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Middleware Express en Sails</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Una de las mejores cosas que tienen las aplicaciones con Sails, es que pueden aprovechar la ventaja de utilizar el middleware Express/Connect. Pero surge una pregunta muy com&uacute;n cuando se trata de hacer uso, qu&eacute; es:</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">&iquest;Donde hago uso de </span><span class="c3 c12">app.use()</span><span class="c5 c3">?</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">En la mayor&iacute;a de los casos, la respuesta a esta pregunta es instalar el middleware Express como un middleware HTTP personalizado en </span><span class="c3 c12">sails.config.http.middleware</span><span class="c5 c3">. Esto dar&aacute; lugar a que todas las peticiones HTTP de nuestra aplicaci&oacute;n, se les permita configurar el orden en que se ejecutan en relaci&oacute;n con otro middleware HTTP.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Express Routing en Sails</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Tambi&eacute;n podemos incluir Express middleware como una pol&iacute;tica o regla, configurandolo en </span><span class="c3 c12">config/policies.js</span><span class="c3">. Podemos requerir y configurar el middleware dentro de una nueva pol&iacute;tica (normalmente suele ser una buena idea) o simplemente requerir directamente en nuestro archivo </span><span class="c3 c12">policies.js</span><span class="c5 c3">. </span></p><p class="c4"><span class="c3">El siguiente ejemplo muestra brevemente c&oacute;mo usarlo en el archivo </span><span class="c3 c12">policies.js </span><span class="c5 c3">:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.888a405e2bee15336a6c90c6fd9922da0c40433e"></a><a id="t.171"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c6">{<br> &nbsp;</span><span class="c13">&#39;*&#39;</span><span class="c6">: </span><span class="c7">true</span><span class="c6">,<br><br> &nbsp;ProductController: {<br><br> &nbsp; &nbsp;</span><span class="c11">// Evita que el usuario final realice operaciones CRUD sobre los productos, estas operaciones est&aacute;n reservadas para administradores &nbsp; &nbsp; &nbsp; </span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c11">// (use HTTP basic auth)</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c13">&#39;*&#39;</span><span class="c6">: require(</span><span class="c13">&#39;http-auth&#39;</span><span class="c6">)({<br> &nbsp; &nbsp; &nbsp;realm: </span><span class="c13">&#39;admin area&#39;</span><span class="c6"><br> &nbsp; &nbsp;}, </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;</span><span class="c42 c33">customAuthMethod </span><span class="c6">(username, password, onwards) {<br> &nbsp; &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;onwards(username </span><span class="c17">===</span><span class="c6">&nbsp;</span><span class="c13">&quot;Tina&quot;</span><span class="c6">&nbsp;</span><span class="c17">&amp;&amp;</span><span class="c6">&nbsp;password </span><span class="c17">===</span><span class="c6">&nbsp;</span><span class="c13">&quot;Bullock&quot;</span><span class="c6">);<br> &nbsp; &nbsp;}),<br><br> &nbsp; &nbsp;</span><span class="c11">// Todo el mundo puede ver la p&aacute;gina productos</span><span class="c6"><br> &nbsp; &nbsp;show: </span><span class="c7">true</span><span class="c6"><br> &nbsp;}<br>}</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Para entender mejor este ejemplo, deber&iacute;as haber le&iacute;do la secci&oacute;n &ldquo;Pol&iacute;ticas&rdquo;</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c56 c44 c12">15. Subir Archivos al Servidor (Uploads)</span></p><p class="c2"><span class="c41 c3 c12"></span></p><p class="c4"><span class="c14 c12 c78">body parser:</span><span class="c14 c78">&nbsp;&ldquo;</span><span class="c14 c70">antes de que llegue el mensaje enviado desde el cliente hasta nuestra ruta, analiza el contenido del body para poder ser utilizado.</span><span class="c14 c33 c78 c79">&rdquo;</span></p><p class="c4"><span class="c14 c12 c78">frontend: </span><span class="c79 c14 c33 c78">&ldquo;es la parte donde al usuario se le presenta la p&aacute;gina web, donde puede lanzar eventos, rellenar formularios, recibir respuestas del servidor, etc.&rdquo;</span></p><p class="c2"><span class="c79 c14 c3 c12"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">En alg&uacute;n momento, en una de nuestras aplicaciones, es probable que necesitemos subir archivos al servidor. La manera de realizar esto en Sails es muy similar a c&oacute;mo lo har&iacute;amos con Node.js y Express, al mismo tiempo, has de tener en cuenta que es muy diferente si has realizado subidas de archivos al servidor con otras tecnolog&iacute;as como </span><span class="c3 c12">PHP, ASP, .NET, Ruby, o Java</span><span class="c5 c3">. Pero no te apures, el equipo de Sails ha hecho que la subida de archivos sea f&aacute;cil de conseguir.</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Sails cuenta con uno de los mejores &ldquo;body parser&rdquo;, llamado </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/balderdashy/skipper&amp;sa=D&amp;ust=1526912178861000">Skipper</a></span><span class="c3">, gracias a este body parser, implementar las subidas de archivos al servidor ser&aacute; relativamente f&aacute;cil. No solamente para nuestro servidor (si estamos corriendo sails en local), sino que tambi&eacute;n, para otros servidores alojados en la nube (Amazon S3, </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=http://docs.mongodb.org/manual/core/gridfs/&amp;sa=D&amp;ust=1526912178861000">MongoDB&rsquo;s GridFS</a></span><span class="c5 c3">) o cualquier otro que soporte la subida de archivos.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Subiendo un archivo</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Los archivos se cargan en un servidor web HTTP, de igual manera que cuando enviamos un formulario por v&iacute;a POST, donde este contiene los valores de los input (entradas de texto que se han introducido en el frontend) par&aacute;metros que bien podr&iacute;an ser &ldquo;nombre&rdquo;, &ldquo;email&rdquo; y &ldquo;password&rdquo;, tambi&eacute;n podr&iacute;amos agregar otro como &ldquo;avatar&rdquo; o &ldquo;canci&oacute;n&rdquo;. Mira este ejemplo, esta peque&ntilde;a porci&oacute;n de c&oacute;digo ocurre en un controlador:</span></p><p class="c2"><span class="c0"></span></p><a id="t.6c9d6bc5375c391a1fee1de98e137c7c8a406e4d"></a><a id="t.172"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">req.file(</span><span class="c13">&#39;avatar&#39;</span><span class="c6">).upload(</span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(err, uploadedFiles) {<br> &nbsp;</span><span class="c11">// ...</span><span class="c6 c45"><br>});</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Por medio del objeto </span><span class="c3 c12">req</span><span class="c3">&nbsp;podemos manipular los par&aacute;metros que recibe la acci&oacute;n del controlador. (</span><span class="c3 c27">No te preocupes si de momento no entiendes bien este pedazo de c&oacute;digo ya que m&aacute;s adelante veremos de qu&eacute; maneras a trav&eacute;s del objeto </span><span class="c3 c12 c27">req</span><span class="c3 c27">&nbsp;podemos gestionar lo que llega como par&aacute;metros a la acci&oacute;n del controlador</span><span class="c5 c3">).</span></p><p class="c4"><span class="c3">La acci&oacute;n del controlador es la encargada de cargar el archivo. Vamos a ver ahora un ejemplo m&aacute;s en profundidad que muestra c&oacute;mo se puede permitir a ciertos usuarios subir una imagen y asociarlas a sus cuentas de usuario. Este ejemplo que ver&aacute;s a continuaci&oacute;n, asume que tienes una </span><span class="c26 c3"><a class="c16" href="#id.2jcqll2crht1">pol&iacute;tica</a></span><span class="c3">&nbsp;de control de acceso a tu aplicaci&oacute;n y que tienes almacenado el identificador de usuario en </span><span class="c3 c12">req.session.xxx</span><span class="c3">. (</span><span class="c3 c27">Si tienes adecuada tu p&aacute;gina para la autenticaci&oacute;n de usuarios con Passport, entonces el identificador del usuario ser&aacute; posiblemente </span><span class="c3 c12 c27">req.session.passport.user</span><span class="c39 c3 c33 c27">)</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.ad8f83d6aec268e5fadccde214eef6bd3e6ae1c4"></a><a id="t.173"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c43 c48"><span class="c11">// api/controllers/UserController.js</span><span class="c6"><br></span><span class="c11">//</span><span class="c6"><br></span><span class="c11">// ...</span><span class="c6"><br><br><br></span><span class="c11">/**<br> * Subimos el archivo en la cuenta de usuario<br> *<br> * (POST /user/avatar)<br> */</span><span class="c6"><br></span><span class="c42 c33">uploadAvatar</span><span class="c6">: </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(req, res) {<br><br> &nbsp;req.file(</span><span class="c13">&#39;avatar&#39;</span><span class="c6">).upload({<br> &nbsp; &nbsp;</span><span class="c11">// No permite que el tama&ntilde;o del archivo exceda de ~10MB</span><span class="c6"><br> &nbsp; &nbsp;maxBytes: </span><span class="c7">10000000</span><span class="c6"><br> &nbsp;},</span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;</span><span class="c42 c33">whenDone</span><span class="c6">(err, uploadedFiles) {<br> &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(err) {<br> &nbsp; &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.negotiate(err);<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;</span><span class="c11">// Si no se sube un archivo, respondemos con un error.</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(uploadedFiles.</span><span class="c91">length</span><span class="c6">&nbsp;</span><span class="c17">===</span><span class="c6">&nbsp;</span><span class="c7">0</span><span class="c6">){<br> &nbsp; &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.badRequest(</span><span class="c13">&#39;No file was uploaded&#39;</span><span class="c6">);<br> &nbsp; &nbsp;}<br><br><br> &nbsp; &nbsp;</span><span class="c11">// Guardamos la descripci&oacute;n del &nbsp;archivo y la URL, para que pueda ser accedido posteriormente</span><span class="c6"><br> &nbsp; &nbsp;User.update(req.session.me, { &nbsp; </span><span class="c11">// Recuerda que si usas passport puede que sea </span><span class="c12 c86">req.session.passport.user</span><span class="c6"><br><br> &nbsp; &nbsp; &nbsp;</span><span class="c11">// Generamos la URL</span><span class="c6"><br> &nbsp; &nbsp; &nbsp;avatarUrl: require(</span><span class="c13">&#39;util&#39;</span><span class="c6">).format(</span><span class="c13">&#39;%s/user/avatar/%s&#39;</span><span class="c6">, sails.getBaseUrl(), req.session.me),<br><br> &nbsp; &nbsp; &nbsp;</span><span class="c11">// Cogemos el primer archivo y usamos &nbsp;`fd` (descripci&oacute;n del archivo)</span><span class="c6"><br> &nbsp; &nbsp; &nbsp;avatarFd: uploadedFiles[</span><span class="c7">0</span><span class="c6">].fd<br> &nbsp; &nbsp;})<br> &nbsp; &nbsp;.exec(</span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(err){<br> &nbsp; &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(err) </span><span class="c17">return</span><span class="c6">&nbsp;res.negotiate(err);<br> &nbsp; &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.ok();<br> &nbsp; &nbsp;});<br> &nbsp;});<br>},<br><br><br></span><span class="c11">/**<br> * Descargar archivo de un usuario, especificando su id (identificador)<br> *<br> * (GET /user/avatar/:id)<br> */</span><span class="c6"><br></span><span class="c42 c33">avatar</span><span class="c6">: </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(req, res){<br><br> &nbsp;req.validate({<br> &nbsp; &nbsp;id: </span><span class="c13">&#39;string&#39;</span><span class="c6"><br> &nbsp;});<br><br> &nbsp;User.findOne(req.param(</span><span class="c13">&#39;id&#39;</span><span class="c6">)).exec(</span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(err, user){<br> &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(err) </span><span class="c17">return</span><span class="c6">&nbsp;res.negotiate(err);<br> &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(</span><span class="c17">!</span><span class="c6">user) </span><span class="c17">return</span><span class="c6">&nbsp;res.notFound();<br><br> &nbsp; &nbsp;</span><span class="c11">// El usuario no tiene ning&uacute;n archivo de imagen subido al servidor.</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c11">// (si el usuario ha llegado hasta aqu&iacute;, se utiliza una imagen predeterminada)</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(</span><span class="c17">!</span><span class="c6">user.avatarFd) {<br> &nbsp; &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.notFound();<br> &nbsp; &nbsp;}<br><br> &nbsp; &nbsp;</span><span class="c17">var</span><span class="c6">&nbsp;SkipperDisk </span><span class="c17">=</span><span class="c6">&nbsp;require(</span><span class="c13">&#39;skipper-disk&#39;</span><span class="c6">);<br> &nbsp; &nbsp;</span><span class="c17">var</span><span class="c6">&nbsp;fileAdapter </span><span class="c17">=</span><span class="c6">&nbsp;SkipperDisk(</span><span class="c11">/* optional opts */</span><span class="c6">);<br><br> &nbsp; &nbsp;</span><span class="c11">// Transmite la descarga</span><span class="c6"><br> &nbsp; &nbsp;fileAdapter.read(user.avatarFd)<br> &nbsp; &nbsp;.on(</span><span class="c13">&#39;error&#39;</span><span class="c6">, </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(err){<br> &nbsp; &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.serverError(err);<br> &nbsp; &nbsp;})<br> &nbsp; &nbsp;.pipe(res);<br> &nbsp;});<br>}<br><br></span><span class="c11">//</span><span class="c6"><br></span><span class="c11">// ...</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">A donde van a parar los archivos subidos?</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Por defecto, los archivos subidos al servidor, van a parar al directorio </span><span class="c3 c12">myApp/.tmp/uploads</span><span class="c3">. Podemos cambiar la ubicaci&oacute;n donde se almacenar&aacute;n los archivos subidos usando la opci&oacute;n </span><span class="c3 c12">dirname</span><span class="c3">. Ten en cuenta que necesitar&aacute;s esta opci&oacute;n cuando se llame a la funci&oacute;n </span><span class="c3 c12">upload()</span><span class="c3">&nbsp;y cuando se invoque al adaptador </span><span class="c3 c12">skipper-disk </span><span class="c5 c3">(Tanto para cargar como para descargar ha de ser el mismo lugar).</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Almacenando archivos en una carpeta personalizada</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">En el ejemplo anterior el archivo se sub&iacute;a por defecto a la carpeta .tmp/uploads. Para forzar a que los archivos que se suban al servidor, se almacenen en otra carpeta que no sea temporal como podr&iacute;a ser la carpeta </span><span class="c3 c12">assets/images/</span><span class="c3">&nbsp;lo haremos mediante la adici&oacute;n de opciones que nos permite la funci&oacute;n </span><span class="c3 c12">upload</span><span class="c5 c3">, tal y como mostramos a continuaci&oacute;n:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.812fc7f492b1bbe28595fa759ca0571cfcd90c91"></a><a id="t.174"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c6">req.file(</span><span class="c13">&#39;avatar&#39;</span><span class="c6">).upload({<br> &nbsp;dirname: require(</span><span class="c13">&#39;path&#39;</span><span class="c6">).resolve(sails.config.appPath, </span><span class="c13">&#39;/assets/images&#39;</span><span class="c6">)<br>},</span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(err, uploadedFiles) {<br> &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(err) </span><span class="c17">return</span><span class="c6">&nbsp;res.negotiate(err);<br><br> &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.json({<br> &nbsp; &nbsp;message: uploadedFiles.</span><span class="c91">length</span><span class="c6">&nbsp;</span><span class="c17">+</span><span class="c6">&nbsp;</span><span class="c13">&#39; archivo(s) subido al servidor satisfactoriamente!&#39;</span><span class="c6"><br> &nbsp;});<br>});</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Otro Ejemplo</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Primero de todo necesitamos generar un nuevo API para servir / guardar archivos. Para ello, utilizamos la valiosa herramienta que nos proporciona Sails, desde la l&iacute;nea de comandos introducimos lo siguiente: </span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.f797fbe119b8fde3a42b8040c46d47eee9381de6"></a><a id="t.175"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">$ sails generate api file<br><br>debug: Generated a </span><span class="c17">new</span><span class="c6">&nbsp;controller `file` at api</span><span class="c13">/controllers/</span><span class="c6">FileController.js</span><span class="c17">!</span><span class="c6"><br>debug: Generated a </span><span class="c17">new</span><span class="c6">&nbsp;model `File` at api</span><span class="c13">/models/</span><span class="c6">File.js</span><span class="c17">!</span><span class="c6"><br><br>info: REST API generated @ http:</span><span class="c11">//localhost:1337/file</span><span class="c6"><br>info: </span><span class="c17">and</span><span class="c6">&nbsp;will be available the next time you run `sails lift`.</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Acciones del Controlador</span></p><p class="c4"><span class="c3">Escribiremos dos acciones </span><span class="c26 c3 c12 c27">index</span><span class="c3">&nbsp;para iniciar la carga de archivos y </span><span class="c26 c3 c12 c27">upload</span><span class="c5 c3">&nbsp;para recibir el archivo.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.32c1a65d610f1fd03d51b6a1e15ea07e6983e305"></a><a id="t.176"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c11">// myApp/api/controllers/FileController.js</span><span class="c6"><br><br>module.exports </span><span class="c17">=</span><span class="c6">&nbsp;{<br><br> &nbsp;</span><span class="c42 c33">index</span><span class="c6">: </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(req,res){<br><br> &nbsp; &nbsp;res.writeHead(</span><span class="c7">200</span><span class="c6">, {&#39;content</span><span class="c17">-</span><span class="c6">type&#39;: </span><span class="c13">&#39;text/html&#39;</span><span class="c6">});<br> &nbsp; &nbsp;res.end(<br> &nbsp; &nbsp;</span><span class="c13">&#39;&lt;form action=&quot;http://localhost:1337/file/upload&quot; enctype=&quot;multipart/form-data&quot; method=&quot;post&quot;&gt;&#39;</span><span class="c17">+</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c13">&#39;&lt;input type=&quot;text&quot; name=&quot;title&quot;&gt;&lt;br&gt;&#39;</span><span class="c17">+</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c13">&#39;&lt;input type=&quot;file&quot; name=&quot;avatar&quot; multiple=&quot;multiple&quot;&gt;&lt;br&gt;&#39;</span><span class="c17">+</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c13">&#39;&lt;input type=&quot;submit&quot; value=&quot;Upload&quot;&gt;&#39;</span><span class="c17">+</span><span class="c6"><br> &nbsp; &nbsp;</span><span class="c13">&#39;&lt;/form&gt;&#39;</span><span class="c6"><br> &nbsp; &nbsp;)<br> &nbsp;},<br> &nbsp;</span><span class="c42 c33">upload</span><span class="c6">: </span><span class="c63 c33 c27">function</span><span class="c42 c33">&nbsp;</span><span class="c6">(req, res) {<br> &nbsp; &nbsp;req.file(</span><span class="c13">&#39;avatar&#39;</span><span class="c6">).upload(</span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(err, files) {<br> &nbsp; &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(err)<br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.serverError(err);<br><br> &nbsp; &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.json({<br> &nbsp; &nbsp; &nbsp; &nbsp;message: files.</span><span class="c91">length</span><span class="c6">&nbsp;</span><span class="c17">+</span><span class="c6">&nbsp;</span><span class="c13">&#39; file(s) uploaded successfully!&#39;</span><span class="c6 c45">,<br> &nbsp; &nbsp; &nbsp; &nbsp;files: files<br> &nbsp; &nbsp; &nbsp;});<br> &nbsp; &nbsp;});<br> &nbsp;}<br><br>};</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Fijate que en la acci&oacute;n </span><span class="c3 c12">upload </span><span class="c3">no hemos especificado una carpeta diferente, para almacenar los archivos, con lo que damos por hecho que se almacenan por defecto en </span><span class="c3 c12">.tmp/uploads</span><span class="c5 c3">. (Anteriormente ya vimos c&oacute;mo cambiar esto). As&iacute; y todo aqu&iacute; lo muestro de nuevo, aunque con alguna diferencia</span></p><p class="c2"><span class="c0"></span></p><a id="t.bbce141500921d307f9375ee2d19f9a7238b81aa"></a><a id="t.177"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c17">var</span><span class="c6">&nbsp;uploadPath </span><span class="c17">=</span><span class="c6">&nbsp;</span><span class="c13">&#39;./assets/images&#39;</span><span class="c6">;<br> &nbsp;uploadFile.upload({ dirname: uploadPath },</span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;</span><span class="c42 c33">onUploadComplete </span><span class="c6">(err, files) { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br><br> &nbsp; &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(err) <br> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.serverError(err);<br><br> &nbsp; &nbsp; &nbsp;</span><span class="c17">return</span><span class="c6">&nbsp;res.json({<br> &nbsp; &nbsp; &nbsp; &nbsp;message: files.</span><span class="c91">length</span><span class="c6">&nbsp;</span><span class="c17">+</span><span class="c6">&nbsp;</span><span class="c13">&#39; file(s) uploaded successfully!&#39;</span><span class="c6">,<br> &nbsp; &nbsp; &nbsp; &nbsp;path:uploadPath<br> &nbsp; &nbsp; &nbsp; &nbsp;file:files<br> &nbsp; &nbsp; &nbsp;});<br> &nbsp;});</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Pero que pasa si nuestro servidor est&aacute; corriendo en &ldquo;Amazon S3&rdquo;. Bien, Sails tambi&eacute;n viene preparado para que esto lo podamos realizar de forma sencilla. Primero de todo instalaremos el adaptador </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/balderdashy/skipper-s3&amp;sa=D&amp;ust=1526912178875000">S3 filesystem adapter</a></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.78835733ab8dd5f30794b4801f1de7006b5dbab7"></a><a id="t.178"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">$ npm install skipper</span><span class="c17">-</span><span class="c6">s3 </span><span class="c17">--</span><span class="c6">save</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">y entonces en el controlador modificamos de la siguiente manera:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.15545de304257cb8c60c1c1a84974fb9094bba29"></a><a id="t.179"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">req.file(</span><span class="c13">&#39;avatar&#39;</span><span class="c6">).upload({<br> &nbsp; &nbsp;adapter: require(</span><span class="c13">&#39;skipper-s3&#39;</span><span class="c6">),<br> &nbsp; &nbsp;key: </span><span class="c13">&#39;S3 Key&#39;</span><span class="c6"><br> &nbsp; &nbsp;secret: </span><span class="c13">&#39;S3 Secret&#39;</span><span class="c6"><br> &nbsp; &nbsp;bucket: </span><span class="c13">&#39;Bucket Name&#39;</span><span class="c6"><br> &nbsp;}, </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;</span><span class="c42 c33">whenDone</span><span class="c6">(err, uploadedFiles) {<br> &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(err) </span><span class="c17">return</span><span class="c6">&nbsp;res.negotiate(err);<br> &nbsp; &nbsp;</span><span class="c17">else</span><span class="c6">&nbsp;</span><span class="c17">return</span><span class="c6 c45">&nbsp;res.ok({<br> &nbsp; &nbsp; &nbsp;files: uploadedFiles,<br> &nbsp; &nbsp; &nbsp;textParams: req.params.all()<br> &nbsp; &nbsp;});<br> &nbsp;});</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Otro adaptador &uacute;til es </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/willhuang85/skipper-gridfs&amp;sa=D&amp;ust=1526912178878000">MongoDB&#39;s GridFS</a></span><span class="c5 c3">. Si queremos utilizar este adaptador primero deberemos instalarlo al igual que hicimos con el adaptador de Amazon S3</span></p><p class="c2"><span class="c5 c145"></span></p><p class="c2"><span class="c0"></span></p><a id="t.8a8e7f6cb52dc63652294cbd374d0326b6af6d21"></a><a id="t.180"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">$ npm install skipper</span><span class="c17">-</span><span class="c6">gridfs &nbsp;</span><span class="c17">--</span><span class="c6">save</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c145"></span></p><p class="c4"><span class="c5 c3">Y en el controlador usaremos el adaptador de la siguiente manera:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.4f894d42a41cbf85010bbc80eddfebb0558b5493"></a><a id="t.181"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">req.file(</span><span class="c13">&#39;avatar&#39;</span><span class="c6">).upload({<br> &nbsp;</span><span class="c11">// ...cualquier otra opcion aqui...</span><span class="c6"><br> &nbsp;adapter: require(</span><span class="c13">&#39;skipper-gridfs&#39;</span><span class="c6">),<br> &nbsp;uri: </span><span class="c13">&#39;mongodb://[username:password@]host1[:port1][/[database[.bucket]]&#39;</span><span class="c6 c45"><br>}, ...);</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c44 c115 c12">16. Log</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c70">&ldquo;Un </span><span class="c70 c12">log</span><span class="c70">&nbsp;es un registro oficial de eventos durante un rango de tiempo en particular. Para los profesionales en seguridad inform&aacute;tica es usado para registrar datos o informaci&oacute;n sobre qui&eacute;n, qu&eacute;, cu&aacute;ndo, d&oacute;nde y porqu&eacute; un evento ocurre para un dispositivo en particular o aplicaci&oacute;n.&rdquo;</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Visi&oacute;n de conjunto</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Sails cuenta con un simple registrador de log&rsquo;s llamado </span><span class="c3 c12"><a class="c16" href="https://www.google.com/url?q=https://github.com/balderdashy/captains-log&amp;sa=D&amp;ust=1526912178882000">captains-log</a></span><span class="c5 c3">&nbsp;. El modo de utilizarlo es muy simple al de Node.js &ldquo;console.log&rdquo;, pero con algunas caracter&iacute;sticas extras, uno de las caracter&iacute;sticas es el soporte para varios niveles de salida a la consola coloreada.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Configuraci&oacute;n</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">Configuraremos el registrador de log&rsquo;s, desde el archivo </span><span class="c3 c12">config/log.js</span><span class="c5 c3">.</span></p><p class="c4"><span class="c5 c3">Cuando configuramos un nivel de log, Sails dar&aacute; salida a los mensajes que se emiten un nivel igual o superior al que est&eacute; configurado. Tambi&eacute;n emitir&aacute; las salidas que se generen con socket.io, waterline y otras dependencias. La jerarqu&iacute;a de los niveles y sus prioridades relativas se resume en &nbsp;la siguiente tabla:</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><a id="t.6bfc1f30f92485b6bfff610c9b2c45f7cbc421ef"></a><a id="t.182"></a><table class="c52"><tbody><tr class="c22"><td class="c121 c61" colspan="1" rowspan="1"><p class="c31 c43"><span class="c39 c64 c12 c81">Prioridad</span></p></td><td class="c62 c61" colspan="1" rowspan="1"><p class="c31 c43"><span class="c39 c64 c12 c81">Nivel</span></p></td><td class="c51 c61" colspan="1" rowspan="1"><p class="c24 c43"><span class="c39 c64 c12 c81">Funciones Log Visibles</span></p></td></tr><tr class="c22"><td class="c121" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">0</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">silent</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c31 c43"><span class="c3 c5">---</span></p></td></tr><tr class="c22"><td class="c121" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">1</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">error</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">.error()</span></p></td></tr><tr class="c22"><td class="c121" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">2</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">warn</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">.warn(), .error()</span></p></td></tr><tr class="c22"><td class="c121" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">3</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">debug</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">.debug(), .warn(), .error()</span></p></td></tr><tr class="c22"><td class="c121" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">4</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">info</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">.info(), .debug(), .warn(), .error()</span></p></td></tr><tr class="c22"><td class="c121" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">5</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">verbose</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">.verbose(), .info(), .debug(), .warn(), .error()</span></p></td></tr><tr class="c22"><td class="c121" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">6</span></p></td><td class="c62" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">silly</span></p></td><td class="c51" colspan="1" rowspan="1"><p class="c31 c43"><span class="c5 c3">.silly(), .verbose(), .info(), .debug(), .warn(), .error()</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c41 c3 c12">sails.log()</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12">Visi&oacute;n de conjunto</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c19"><span class="c0">Cada uno de los m&eacute;todos que describiremos a continuaci&oacute;n, acepta un n&uacute;mero infinito de argumentos de cualquier tipo de datos. Los argumentos siempre deberemos separarlos por comas.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c0">Esta es la funci&oacute;n por defecto cuando escribimos una salida a consola, de nivel &nbsp;&ldquo;debug&rdquo;</span></p><p class="c2"><span class="c0"></span></p><a id="t.05d5627e65e5fde672bc17e276190cf07dca77b6"></a><a id="t.183"></a><table class="c38"><tbody><tr class="c22"><td class="c109" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">sails.</span><span class="c91">log</span><span class="c6">(</span><span class="c13">&#39;hello&#39;</span><span class="c6">);<br></span><span class="c45 c11">// -&gt; debug: hello.</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12">sails.log.error()</span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c5 c3">Escribimos un log de salida a consola de nivel &ldquo;error&rdquo;.</span></p><p class="c2"><span class="c0"></span></p><a id="t.1fea12db6e649ff5e424a551d945510376dfbb6e"></a><a id="t.184"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c105" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">sails.log.error(</span><span class="c13">&#39;Unexpected error occurred.&#39;</span><span class="c6">);<br></span><span class="c11">// -&gt; error: Unexpected error occurred.</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12">sails.log.warn()</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c5 c3">Escribimos un log de salida a consola de nivel &ldquo;warn&rdquo;.</span></p><p class="c2"><span class="c0"></span></p><a id="t.ed4085e4ae8b3cc7c162d7160c274f87ffdbe20f"></a><a id="t.185"></a><table class="c38"><tbody><tr class="c22"><td class="c109" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">sails.log.warn(</span><span class="c13">&#39;File upload quota exceeded for user&#39;</span><span class="c6">,&#39;request aborted.&#39;);<br></span><span class="c45 c11">// -&gt; warn: File upload quota exceeded for user- request aborted.</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c1">sails.log.debug()</span></p><p class="c2 c15"><span class="c46 c3 c33"></span></p><p class="c4"><span class="c3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alias de </span><span class="c39 c3 c12 c27">sails.log()</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12">sails.log.info()</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c5 c3">Escribimos un log de salida a consola de nivel &ldquo;info&rdquo;.</span></p><p class="c2"><span class="c0"></span></p><a id="t.3c98ab331e76549d4a769ea6b78f4f6b2bbb85b2"></a><a id="t.186"></a><table class="c77 c19"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">sails.log.info(</span><span class="c13">&#39;A new user (&#39;</span><span class="c6">, </span><span class="c13">&#39;mike@foobar.com&#39;</span><span class="c6">, </span><span class="c13">&#39;) just signed up!&#39;</span><span class="c6">);<br></span><span class="c11">// -&gt; info: A new user ( mike@foobar.com ) just signed up!</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12">sails.log.verbose()</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4 c19"><span class="c5 c3">Escribimos un log de salida a consola de nivel &ldquo;verbose&rdquo;. &Uacute;til para capturar informaci&oacute;n detallada acerca de cu&aacute;ndo ocurre algo que no es corriente en la aplicaci&oacute;n.</span></p><p class="c2"><span class="c0"></span></p><a id="t.3493489caf8eac193cef08cac54abed03b7bbf5d"></a><a id="t.187"></a><table class="c77 c19"><tbody><tr class="c22"><td class="c28" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">sails.log.verbose(</span><span class="c13">&#39;Un usuario ha intentado transferir su cuenta...&#39;</span><span class="c6">)<br></span><span class="c11">// -&gt; verbose: Un usuario ha intentado transferir su cuenta...</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4 c15"><span class="c3 c12">sails.log.silly()</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4 c15"><span class="c5 c3">Escribimos un log de salida a consola de nivel &ldquo;silly&rdquo;. </span></p><p class="c2"><span class="c0"></span></p><a id="t.3493489caf8eac193cef08cac54abed03b7bbf5d"></a><a id="t.188"></a><table class="c77 c89"><tbody><tr class="c22"><td class="c105" colspan="1" rowspan="1"><p class="c49 c43"><span class="c6">sails.log.verbose(</span><span class="c13">&#39;Un usuario ha intentado transferir su cuenta...&#39;</span><span class="c6">)<br></span><span class="c11">// -&gt; verbose: Un usuario ha intentado transferir su cuenta...</span></p></td></tr></tbody></table><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c41 c3 c12"></span></p><p class="c2"><span class="c41 c3 c12"></span></p><p class="c4"><span class="c56 c44 c12">17. Testeando nuestro c&oacute;digo</span></p><p class="c2"><span class="c41 c3 c12"></span></p><p class="c4"><span class="c3">Para realizar las pruebas de c&oacute;digo, usaremos </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=http://mochajs.org/&amp;sa=D&amp;ust=1526912178897000">mocha</a></span><span class="c3">. Antes de empezar a construir nuestras pruebas de c&oacute;digo, primero hemos de organizar la estructura de nuestro directorio </span><span class="c3 c12">./test</span><span class="c5 c3">&nbsp;como por ejemplo:</span></p><p class="c2"><span class="c0"></span></p><a id="t.b949a67a11ba8d2c55f44c50578c9babfe1b0c57"></a><a id="t.189"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c6">./myApp<br>&#9500;&#9472;&#9472; api<br>&#9500;&#9472;&#9472; assets<br>&#9500;&#9472;&#9472; ...<br>&#9500;&#9472;&#9472; test<br>&#9474; &nbsp;&#9500;&#9472;&#9472; unit<br>&#9474; &nbsp;&#9474; &nbsp;&#9500;&#9472;&#9472; controllers<br>&#9474; &nbsp;&#9474; &nbsp;&#9474; &nbsp;&#9492;&#9472;&#9472; UsersController.test.js<br>&#9474; &nbsp;&#9474; &nbsp;&#9500;&#9472;&#9472; models<br>&#9474; &nbsp;&#9474; &nbsp;&#9474; &nbsp;&#9492;&#9472;&#9472; Users.test.js<br>&#9474; &nbsp;&#9474; &nbsp;&#9492;&#9472;&#9472; ...<br>&#9474; &nbsp;&#9500;&#9472;&#9472; fixtures<br>&#9474; &nbsp;&#9500;&#9472;&#9472; ...<br>&#9474; &nbsp;&#9500;&#9472;&#9472; bootstrap.test.js<br>&#9474; &nbsp;&#9492;&#9472;&#9472; mocha.opts<br>&#9492;&#9472;&#9472; views</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c1">bootstrap.test.js</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c3">Este archivo es &uacute;til cuando deseamos ejecutar alg&uacute;n c&oacute;digo antes o despu&eacute;s de ejecutar las pruebas. Debido a que nuestros modelos se convertir&aacute;n en colecciones de waterline, es necesario levantar nuestro servidor (</span><span class="c3 c27">sails lift</span><span class="c5 c3">) para realizar la pruebas. Esto se aplica igualmente a los controladores de &nbsp;la aplicaci&oacute;n, as&iacute; que nos tenemos de asegurar de llamar a este archivo primero.</span></p><p class="c2"><span class="c0"></span></p><a id="t.20d6ce7b02ed9e640f70ca7c10ef6fb9c99a6ca1"></a><a id="t.190"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c17">var</span><span class="c6">&nbsp;Sails </span><span class="c17">=</span><span class="c6">&nbsp;require(</span><span class="c13">&#39;sails&#39;</span><span class="c6">),<br> &nbsp;sails;<br><br>before(</span><span class="c17">function</span><span class="c6">(done) {<br> &nbsp;Sails.lift({<br> &nbsp; &nbsp;</span><span class="c11">// configuraci&oacute;n para nuestras pruebas</span><span class="c6"><br> &nbsp;}, </span><span class="c17">function</span><span class="c6">(err, server) {<br> &nbsp; &nbsp;sails </span><span class="c17">=</span><span class="c6">&nbsp;server;<br> &nbsp; &nbsp;</span><span class="c17">if</span><span class="c6">&nbsp;(err) </span><span class="c17">return</span><span class="c6">&nbsp;done(err);<br> &nbsp; &nbsp;</span><span class="c11">// aqu&iacute; cargamos lo necesario para realizar las pruebas.</span><span class="c6"><br> &nbsp; &nbsp;done(err, sails);<br> &nbsp;});<br>});<br><br>after(</span><span class="c17">function</span><span class="c6">(done) {<br> &nbsp;</span><span class="c11">// aqu&iacute; limpiamos lo cargado anteriormente.</span><span class="c6 c45"><br> &nbsp;sails.lower(done);<br>});</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c1">mocha.opts</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c3">Este archivo contiene toda la configuraci&oacute;n, para ver las opciones de configuraci&oacute;n que dispone mocha dirigente a </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=http://mochajs.org/%23mocha.opts&amp;sa=D&amp;ust=1526912178900000">mocha.opts</a></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3 c12">Nota: </span><span class="c5 c3">Si vas a escribir tus pruebas unitarias con CoffeScript, has de a&ntilde;adir estas lineas en tu mocha.opts</span></p><p class="c2"><span class="c0"></span></p><a id="t.4cf927cba7f8cd29ba27538e0df9aaf311fc9215"></a><a id="t.191"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c24 c43"><span class="c17">--</span><span class="c6">require coffee</span><span class="c17">-</span><span class="c6">script/register<br></span><span class="c17">--</span><span class="c6">compilers coffee:coffee</span><span class="c17">-</span><span class="c6 c45">script/register</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c1">Escribiendo nuestras pruebas</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c5 c3">Una vez que nuestro directorio est&aacute; preparado, podemos empezar a escribir el c&oacute;digo para nuestras pruebas unitarias.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">./test/unit/models/Users.test.js</span></p><a id="t.62c6f010a9ef5b1c1113bb3a3190345d4f0f3329"></a><a id="t.192"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c48 c43"><span class="c6">describe.only(</span><span class="c13">&#39;UsersModel&#39;</span><span class="c6">, </span><span class="c17">function</span><span class="c6">() {<br><br> &nbsp;describe(</span><span class="c13">&#39;#find()&#39;</span><span class="c6">, </span><span class="c17">function</span><span class="c6">() {<br> &nbsp; &nbsp;it(</span><span class="c13">&#39;should check find function&#39;</span><span class="c6">, </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(done) {<br> &nbsp; &nbsp; &nbsp;Users.find()<br> &nbsp; &nbsp; &nbsp; &nbsp;.</span><span class="c17">then</span><span class="c6">(</span><span class="c17">function</span><span class="c6">(results) {<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c11">// &nbsp;Algunas pruebas</span><span class="c6"><br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;done();<br> &nbsp; &nbsp; &nbsp; &nbsp;})<br> &nbsp; &nbsp; &nbsp; &nbsp;.</span><span class="c17">catch</span><span class="c6 c45">(done);<br> &nbsp; &nbsp;});<br> &nbsp;});<br><br>});</span></p></td></tr></tbody></table><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c5 c3">&nbsp;</span></p><p class="c4"><span class="c1">Pruebas a los controladores</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c3">Para probar las respuestas de nuestros controladores podemos usar la librer&iacute;a </span><span class="c26 c3"><a class="c16" href="https://www.google.com/url?q=https://github.com/visionmedia/supertest&amp;sa=D&amp;ust=1526912178903000">Supertest</a></span><span class="c5 c3">, esta librer&iacute;a nos proporciona varios m&eacute;todos &uacute;tiles &nbsp;para las peticiones HTTP.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">./test/unit/controllers/UsersController.test.js</span></p><a id="t.9685a88eadeb0f4e859d4098d5373320c9125e18"></a><a id="t.193"></a><table class="c52"><tbody><tr class="c22"><td class="c30" colspan="1" rowspan="1"><p class="c24 c43"><span class="c17">var</span><span class="c6">&nbsp;request </span><span class="c17">=</span><span class="c6">&nbsp;require(</span><span class="c13">&#39;supertest&#39;</span><span class="c6">);<br><br>describe(</span><span class="c13">&#39;UsersController&#39;</span><span class="c6">, </span><span class="c17">function</span><span class="c6">() {<br><br> &nbsp;describe(</span><span class="c13">&#39;#login()&#39;</span><span class="c6">, </span><span class="c17">function</span><span class="c6">() {<br> &nbsp; &nbsp;it(</span><span class="c13">&#39;should redirect to /mypage&#39;</span><span class="c6">, </span><span class="c63 c33 c27">function</span><span class="c6">&nbsp;(done) {<br> &nbsp; &nbsp; &nbsp;request(sails.hooks.http.app)<br> &nbsp; &nbsp; &nbsp; &nbsp;.post(</span><span class="c13">&#39;/users/login&#39;</span><span class="c6">)<br> &nbsp; &nbsp; &nbsp; &nbsp;.send({ name: </span><span class="c13">&#39;test&#39;</span><span class="c6">, password: </span><span class="c13">&#39;test&#39;</span><span class="c6">&nbsp;})<br> &nbsp; &nbsp; &nbsp; &nbsp;.expect(</span><span class="c7">302</span><span class="c6">)<br> &nbsp; &nbsp; &nbsp; &nbsp;.expect(</span><span class="c13">&#39;location&#39;</span><span class="c6 c45">,&#39;/mypage&#39;, done);<br> &nbsp; &nbsp;});<br> &nbsp;});<br><br>});</span></p></td></tr></tbody></table><p class="c2"><span class="c5 c3"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c1">Ejecutando nuestras pruebas</span></p><p class="c2"><span class="c1"></span></p><p class="c4"><span class="c3">Con el fin de ejecutar las pruebas, utilizaremos mocha &nbsp;desde la l&iacute;nea de comandos, pasando como argumentos la prueba que deseemos ejecutar. Asegurate de llamar a bootstrap.test.js antes que al resto de las pruebas que hayas escrito. ( </span><span class="c33 c129">mocha test/bootstrap.test.js test/unit/**/*.test.js </span><span class="c5 c3">)</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c44 c115 c12">18. Desplegando nuestra aplicaci&oacute;n</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c41 c3 c12">Antes de desplegar</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Antes de lanzar tu aplicaci&oacute;n web, es necesario que te hagas las siguientes preguntas:</span></p><p class="c2"><span class="c5 c3"></span></p><ul class="c10 lst-kix_bp14me61tv7k-0 start"><li class="c4 c47 c19"><span class="c5 c3">&iquest;Cual es el tr&aacute;fico que espero?</span></li><li class="c4 c47 c19"><span class="c5 c3">&iquest;Tienes contratado lo necesario para cubrir todas las garant&iacute;as de calidad de dicho servicio (SLA)?</span></li><li class="c4 c47 c19"><span class="c5 c3">&iquest;A qu&eacute; tecnolog&iacute;a va orientada tu aplicaci&oacute;n?</span></li></ul><ul class="c10 lst-kix_bp14me61tv7k-1 start"><li class="c4 c34"><span class="c5 c3">Aplicaciones Android?</span></li><li class="c4 c34"><span class="c5 c3">Aplicaciones iOS?</span></li><li class="c4 c34"><span class="c5 c3">Navegadores Web?</span></li><li class="c4 c34"><span class="c5 c3">Tablets, iPad?</span></li><li class="c4 c34"><span class="c5 c3">Televisi&oacute;n, relojes, tostadoras?</span></li></ul><ul class="c10 lst-kix_bp14me61tv7k-0"><li class="c4 c47 c19"><span class="c5 c3">&iquest;Y que van a solicitar en tu aplicaci&oacute;n?</span></li></ul><ul class="c10 lst-kix_bp14me61tv7k-1 start"><li class="c4 c34"><span class="c5 c3">JSON?</span></li><li class="c4 c34"><span class="c5 c3">HTML?</span></li><li class="c4 c34"><span class="c5 c3">XML?</span></li></ul><ul class="c10 lst-kix_bp14me61tv7k-0"><li class="c4 c47 c19"><span class="c5 c3">&iquest;Tu aplicaci&oacute;n contar&aacute; con Socket.io?</span></li></ul><ul class="c10 lst-kix_bp14me61tv7k-1 start"><li class="c4 c34"><span class="c5 c3">ej. Chat, mensajes o informaci&oacute;n en tiempo real</span></li></ul><ul class="c10 lst-kix_bp14me61tv7k-0"><li class="c4 c47 c19"><span class="c5 c3">&iquest;Como vas a manejar el seguimiento de los errores que se produzcan?</span></li></ul><ul class="c10 lst-kix_bp14me61tv7k-1 start"><li class="c4 c34"><span class="c3">Para este caso puedes echar un vistazo a la secci&oacute;n </span><span class="c1">log</span></li></ul><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Desplegando en un &uacute;nico servidor</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c5 c3">Node.js, es realmente r&aacute;pido. Para la mayor&iacute;a de las aplicaciones, manejar el tr&aacute;fico en un &uacute;nico servidor es m&aacute;s que suficiente, al menos al principio.</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3 c12">Configurando</span></p><p class="c2"><span class="c0"></span></p><ul class="c10 lst-kix_n6de3aaazbqx-0 start"><li class="c4 c47 c19"><span class="c3">Todos los valores de configuraci&oacute;n para un entorno de producci&oacute;n se almacenan en </span><span class="c1">config/env/production.js</span></li><li class="c4 c47 c19"><span class="c3">Configura tu aplicaci&oacute;n para que corra en el puerto 80, a menos que trabajes con </span><span class="c3 c12">nginx</span><span class="c5 c3">. Si usas nginx, deber&aacute;s configurar este para que tu aplicaci&oacute;n acepte websockets.</span></li><li class="c4 c47 c19"><span class="c3">Configura el entorno de producci&oacute;n para que todos tus archivos CSS y JS para que estos sean inyectados, minificados y concatenados. Esto lo conseguimos gracias a </span><span class="c3 c12">linker</span><span class="c5 c3">, una herramienta muy buena para GRUNT.</span></li><li class="c4 c47 c19"><span class="c3">Aseg&uacute;rate de que la base de datos est&aacute; disponible para el entorno de producci&oacute;n. Esto es importante si est&aacute;s usando bases de datos relacionales, tipo MySQL, ya que Sails establece todos tus modelos a </span><span class="c3 c12">migrate: safe</span><span class="c5 c3">, en el momento que ejecutes el servidor y empiece a correr. Podemos configurar la base de datos de la siguiente manera:</span></li></ul><ul class="c10 lst-kix_n6de3aaazbqx-1 start"><li class="c4 c34"><span class="c3">Crea la base de datos en el servidor y ejecuta tu aplicaci&oacute;n Sails con </span><span class="c3 c12">migrate: alter</span><span class="c5 c3">, pero antes en el entorno de producci&oacute;n establece la conexi&oacute;n a la base de datos.</span></li></ul><ul class="c10 lst-kix_n6de3aaazbqx-0"><li class="c4 c47 c19"><span class="c5 c3">Activa la protecci&oacute;n CSRF para las peticiones POST, PUT, DELETE</span></li><li class="c4 c47 c19"><span class="c5 c3">Activa SSL</span></li><li class="c4 c47 c19"><span class="c5 c3">Si est&aacute;s usando sockets</span></li></ul><ul class="c10 lst-kix_n6de3aaazbqx-1 start"><li class="c4 c34"><span class="c3">Configura </span><span class="c3 c12">config/socket.js</span><span class="c5 c3">&nbsp;</span></li><li class="c4 c34"><span class="c3">Activa </span><span class="c1">flashsocket transport</span></li></ul><p class="c2"><span class="c39 c64 c12 c81"></span></p><p class="c2"><span class="c39 c64 c12 c81"></span></p><p class="c2"><span class="c39 c64 c12 c81"></span></p><p class="c4"><span class="c3 c12">Desplegando</span><span class="c44 c117">&nbsp;</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c3">En producci&oacute;n, en vez de usar </span><span class="c3 c12">sails lift</span><span class="c3">&nbsp;para ejecutar el servidor, quiz&aacute;s sea una buena idea usar </span><span class="c3 c12">forever</span><span class="c3">&nbsp;o </span><span class="c3 c12">PM2</span><span class="c5 c3">, para asegurarte de que aunque en el servidor ocurra alg&uacute;n error este no se detenga y siga corriendo.</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Instala </span><span class="c3 c12">forever: $ </span><span class="c5 c3">sudo npm install -g forever</span></p><p class="c4"><span class="c5 c3">o bien &hellip;</span></p><p class="c4"><span class="c3">Instala </span><span class="c3 c12">PM2: $</span><span class="c5 c3">&nbsp;sudo npm install &nbsp;PM2 -g --unsafe-perm</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c5 c3">Desde el directorio de tu aplicaci&oacute;n, iniciaremos el servidor con:</span></p><p class="c4"><span class="c3 c12">forever &rarr; &nbsp;</span><span class="c5 c3">forever start app.js --prod</span></p><p class="c4"><span class="c3 c12">PM2 &rarr; </span><span class="c5 c3">pm2 start app.js -x -- --prod</span></p><p class="c2"><span class="c5 c3"></span></p><p class="c4"><span class="c3">Esto es lo mismo que usar </span><span class="c3 c12">sails lift --prod</span><span class="c3">, la diferencia est&aacute; en lo que coment&aacute;bamos anteriormente, tanto </span><span class="c3 c12">forever </span><span class="c3">como </span><span class="c3 c12">PM2</span><span class="c5 c3">&nbsp;consiguen que el servidor se reinicie autom&aacute;ticamente aunque surjan errores.</span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p><p class="c2"><span class="c0"></span></p></div><div><p class="c88 c43 c32"><span class="c0"></span></p></div></body></html>